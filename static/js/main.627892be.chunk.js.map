{"version":3,"sources":["PrivateRoute/index.js","consts.js","firebase.js","images/logo.png","store/actionTypes.js","store/action.js","defaultPages/Login/index.js","defaultPages/HomePage/style.js","defaultPages/HomePage/resources/CometChatUI.png","defaultPages/HomePage/resources/components.png","defaultPages/HomePage/resources/wall.png","defaultPages/HomePage/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/enums.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/resources/theme.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBackdrop/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBackdrop/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBadgeCount/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBadgeCount/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatUserPresence/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatUserPresence/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/resources/localization/translator.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/close-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/checkmark-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/warning-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/info-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatConfirmDialog/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatConfirmDialog/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/UIKitSettings.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/FeatureRestriction/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/CometChatContext.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/Storage.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/strings.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/resources/reduce-size.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/resources/increase-size.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/SoundManager.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/resources/incoming-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/resources/incoming-video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/resources/end-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/resources/incoming-video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/common.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingDirectCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/CometChatEvent.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/resources/progress.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/resources/reactions.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/creating.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/add-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/resources/remove.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/resources/checkmark.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverStickerMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverStickerMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderPollMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderPollMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderStickerBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderStickerBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatActionMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatActionMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatDeleteMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatDeleteMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatEmojiKeyboard/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatEmojiKeyboard/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/resources/ring.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLinkPreview/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLinkPreview/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/resources/heart.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/threaded-message.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/edit.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/reactions.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/message-translate.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/send-message-in-private.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/add-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/video.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/audio-file.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/image.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/emoji.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/send-message.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/polls.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/stickers.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/heart.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/menu.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/audio-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/info.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/MessageFilter.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/resources/creating.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/create.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/resources/password-protected-group.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/resources/private-group.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/edit.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/done.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/ban-member.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/adding.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/resources/group-member-unselect.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/resources/group-member-select.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/resources/ban-member.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/resources/transferring.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/resources/group-member-unselect.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/resources/group-member-select.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-read.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-delivered.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-sent.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/wait.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/warning-small.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverAudioMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverAudioMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverTextMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverTextMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverVideoMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverVideoMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderAudioMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderAudioMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderTextMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderTextMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderVideoMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderVideoMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatThreadedMessageReplyCount/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatThreadedMessageReplyCount/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatBlockedUser/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatBlockedUser/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/notify.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/privacy.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/chats.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/help.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/warning.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/chats.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/users.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/groups.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/more.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/index.js","defaultPages/App/style.js","defaultPages/App/index.js","serviceWorker.js","store/reducer.js","index.js"],"names":["PrivateRoute","this","props","isLoggedIn","render","component","path","userId","to","pathname","state","from","location","React","Component","connect","COMETCHAT_CONSTANTS","firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","provider","GoogleAuthProvider","AUTH_START","AUTH_SUCCESS","AUTH_FAIL","AUTH_LOGOUT","SET_AUTH_REDIRECT_PATH","authSuccess","user","type","actionTypes","authFail","error","logout","dispatch","CometChat","then","authRedirectPath","uid","authKey","currentUser","login","catch","console","log","code","User","setName","displayName","setAvatar","photoURL","createUser","alert","message","Login","useState","loading","setLoading","authRedirect","setAuthRedirect","useDispatch","authUser","useSelector","loginCometChat","createBrowserHistory","data","actions","useEffect","className","src","LogoImage","alt","Button","onClick","signInWithPopup","res","id","titleStyle","textAlign","color","fontSize","width","padding","margin","componentStyle","mq","display","alignItems","justifyContent","flexDirection","UIComponentStyle","boxStyle","boxShadow","borderRadius","flex","minWidth","thumbnailWrapperStyle","height","linkWrapperStyle","borderTop","listStyleType","HomePage","css","CometChatUI","textOverflow","whiteSpace","wordBreak","backgroundColor","fontWeight","listComponent","outline","cursor","onLogout","TEXT_MESSAGE_RECEIVED","MEDIA_MESSAGE_RECEIVED","CUSTOM_MESSAGE_RECEIVED","MESSAGE_DELIVERED","MESSAGE_READ","MESSAGE_DELETED","MESSAGE_EDITED","TRANSIENT_MESSAGE_RECEIVED","INCOMING_CALL_RECEIVED","OUTGOING_CALL_ACCEPTED","OUTGOING_CALL_REJECTED","INCOMING_CALL_CANCELLED","GROUP_MEMBER_SCOPE_CHANGED","GROUP_MEMBER_KICKED","GROUP_MEMBER_BANNED","GROUP_MEMBER_UNBANNED","GROUP_MEMBER_ADDED","GROUP_MEMBER_LEFT","GROUP_MEMBER_JOINED","USER_ONLINE","USER_OFFLINE","TYPING_STARTED","TYPING_ENDED","CUSTOM_TYPE_POLL","CUSTOM_TYPE_STICKER","CUSTOM_TYPE_DOCUMENT","CUSTOM_TYPE_WHITEBOARD","CUSTOM_TYPE_MEETING","CONSTANTS","LOCALE","ACTIVECALL","MAX_MESSAGE_COUNT","METADATA_TYPE_LIVEREACTION","LIVE_REACTIONS","heart","thumbsup","clap","wink","MESSAGES_COMPONENT","EMBEDDED_COMPONENT","OUTGOING_DEFAULT_CALLING","INCOMING_DEFAULT_CALLING","INCOMING_DIRECT_CALLING","OUTGOING_DIRECT_CALLING","AUDIO","INCOMING_MESSAGE","INCOMING_OTHER_MESSAGE","OUTGOING_MESSAGE","INCOMING_CALL","OUTGOING_CALL","ERROR_CODES","ERR_CHAT_API_FAILURE","CALLS","ONGOING_CALL","ONGOING_CALL_SAME_GROUP","ONGOING_CALL_DIFF_GROUP","GROUPS","OWNER","LIVE_REACTION_INTERVAL","FILE_METADATA","ACTIONS","MESSAGE_SENT","MESSAGE_COMPOSED","ERROR_IN_SENDING_MESSAGE","ACCEPT_DIRECT_CALL","JOIN_DIRECT_CALL","START_DIRECT_CALL","DIRECT_CALL_ENDED","POLL_CREATED","GROUP_DELETED","GROUP_LEFT","GROUP_CREATED","VIEW_DETAIL","VIEW_THREADED_MESSAGE","CLOSE_THREADED_MESSAGE","TOGGLE_SIDEBAR","ON_MESSAGE_EDITED","ON_MESSAGE_DELETED","ON_MESSAGE_READ_DELIVERED","DELETE_MESSAGE","EDIT_MESSAGE","CLOSE_GROUP_DETAIL","CLOSE_USER_DETAIL","VIEW_ORIGINAL_IMAGE","FETCH_GROUP_MEMBERS","SCOPECHANGE_GROUPMEMBER_SUCCESS","BAN_GROUP_MEMBER","KICK_GROUP_MEMBER","BAN_GROUPMEMBER_SUCCESS","KICK_GROUPMEMBER_SUCCESS","CHANGE_SCOPE_GROUP_MEMBER","UNBAN_GROUP_MEMBER","ADD_GROUP_MEMBER_SUCCESS","FETCH_BANNED_GROUP_MEMBERS","UNBAN_GROUP_MEMBER_SUCCESS","REACT_TO_MESSAGE","INITIATE_VIDEO_CALL","INITIATE_AUDIO_CALL","CHANGE_TAB","ITEM_CLICKED","THREAD_MESSAGE_COMPOSED","SEND_LIVE_REACTION","STOP_LIVE_REACTION","SHOW_LIVE_REACTION","CLEAR_EDIT_PREVIEW","MESSAGE_RECEIVED","MESSAGES_INITIAL_FETCH","MESSAGES_FETCHED","REFRESHING_MESSAGES","MESSAGES_REFRESHED","NEW_MESSAGES","CLEAR_UNREAD_MESSAGES","START_AUDIO_CALL","START_VIDEO_CALL","OUTGOING_CALL_CANCELLED","INCOMING_CALL_ACCEPTED","INCOMING_CALL_REJECTED","CALL_ENDED","USER_JOINED_CALL","USER_LEFT_CALL","DELETE_CONVERSATION","CONVERSATION_DELETED","SEND_STICKER","CLOSE_STICKER_KEYBOARD","ERROR","INFO","TRANSLATE_MESSAGE","EVENTS","KEYS","CallAlertManager","callListenerId","Date","getTime","callback","addCallListener","CallListener","onIncomingCallReceived","call","enums","onIncomingCallCancelled","onOutgoingCallAccepted","removeCallListener","theme","fontFamily","primaryColor","secondaryTextColor","primary","secondary","darkSecondary","search","tertiary","grey","helpText","blue","white","red","borderColor","lightGrey","darkGrey","callScreenGrey","silver","breakPoints","CometChatAvatar","setAvatarImage","image","trim","length","getImage","Object","keys","hasOwnProperty","avatarImage","avatar","char","name","charAt","toUpperCase","generateAvatar","group","icon","guid","img","Image","onload","_isMounted","setState","generator","canvas","document","createElement","context","getContext","fillStyle","str","hash","i","charCodeAt","colour","toString","substr","stringToColour","fillRect","font","textBaseline","fillText","toDataURL","imgRef","createRef","prevProps","borderWidth","borderStyle","cornerRadius","overflow","style","ref","el","defaultProps","backdropStyle","zIndex","opacity","position","top","left","transition","CometChatBackdrop","show","clicked","badgeStyle","lineHeight","marginLeft","marginRight","CometChatBadgeCount","badgeCount","count","presenceStyle","presenceStatus","status","float","CometChatUserPresence","useContext","CometChatContext","presence","setPresence","FeatureRestriction","isUserPresenceEnabled","response","translations","ar","de","en","es","fr","hi","ms","pt","ru","zh","sv","lt","hu","Translator","language","rtlLanguages","includes","languageDb","defaultLanguage","key","getLanguage","localStorage","getItem","setLanguage","item","setItem","getBrowserLanguage","navigator","languages","userLanguage","getDefaultLanguage","savedLanguage","browserLanguageCode","toLowerCase","browserLanguage","indexOf","split","notificationStyle","backgroundColorProp","pointerEvents","marginBottom","minHeight","backgroundPosition","backgroundRepeat","boxSizing","iconStyle","mask","CometChatToastNotification","componentWillUnmount","clearAutoDismiss","setInfo","infoIcon","setAutoDismiss","setError","errorIcon","setSuccess","successIcon","setWarning","warningIcon","autoDelete","interval","setTimeout","deleteToast","dismissTime","clearTimeout","messageClassName","types","iconClassName","toastIcon","flexShrink","maxWidth","title","translate","lang","keyframes","transform","border","closeIcon","alertButtonStyle","CometChatConfirmDialog","confirmButtonText","cancelButtonText","Fragment","close","right","value","UIKitSettings","setCustomJS","customJS","setCustomCSS","customCSS","setTabs","tabList","tabs","setUserSettings","userSettings","setCalls","calls","setUsers","users","setChats","chats","setGroups","groups","setChatListMode","option","chatListFilterKey","returnMatchedKey","chatListFilterOptions","chatListMode","setUserListMode","userListFilterKey","userListFilterOptions","userListMode","setGroupListMode","setUserVideoCall","userVideoCall","setGroupVideoCall","groupVideoCall","setUserAudioCall","userAudioCall","setGroupAudioCall","groupAudioCall","setEditMessage","editMessage","setSendMessageInOneOnOne","sendMessageInOneOnOne","setSendMessageInGroup","sendMessageInGroup","setJoinOrLeaveGroup","joinOrLeaveGroup","setBlockUser","blockUser","setSendEmojis","sendEmojis","setSendEmojisInLargerSize","sendEmojisInLargerSize","setSendGifs","sendGifs","setShareCopyForwardMessage","shareCopyForwardMessage","setSendFiles","sendFiles","setSendPhotoVideos","sendPhotoVideos","setViewShareMedia","viewShareMedia","setEnableSoundForMessages","enableSoundForMessages","setEnableSoundForCalls","enableSoundForCalls","setSendStickers","sendStickers","setViewGroupMembers","viewGroupMembers","setCallNotifications","callNotifications","setAllowDeleteGroup","allowDeleteGroup","setKickMember","kickMember","setBanMember","banMember","setAllowPromoteDemoteMembers","allowPromoteDemoteMembers","setAllowAddMembers","allowAddMembers","setShareLocation","shareLocation","setJoinLeaveNotifications","joinLeaveNotifications","setSendVoiceNotes","sendVoiceNotes","setMessageTranslation","messageTranslation","setGroupCreation","groupCreation","setSendTypingIndicator","sendTypingIndicator","setShowUserPresence","showUserPresence","setDeleteMessage","deleteMessage","setThreadedChats","threadedChats","setReplyingToMessage","replyingToMessage","setShowReadDeliveryReceipts","showReadDeliveryReceipts","setHideDeletedMessages","hideDeletedMessages","setEmailReplies","emailReplies","setSendMessageReaction","sendMessageReaction","setCollaborativeWhiteboard","collaborativeWhiteboard","setCollaborativeDocument","collaborativeDocument","setPolls","polls","setSendLiveReaction","sendLiveReaction","setPublicGroup","publicGroup","setPrivateGroup","privateGroup","setPasswordGroup","passwordGroup","setAllowModeratorToDeleteMemberMessages","allowModeratorToDeleteMemberMessages","setUnreadCount","unreadCount","setSmartReplies","smartReplies","setSearchUsers","searchUsers","setSearchGroups","searchGroups","setSearchMessages","searchMessages","setCallRecording","callRecording","setCallLiveStreaming","callLiveStreaming","setCallTranscription","callTranscription","setThumbnailGeneration","thumbnailGeneration","setLinkPreview","linkPreview","setSaveMessages","saveMessages","setPinMessages","pinMessages","setRichMediaPreview","richMediaPreview","setVoiceTranscription","voiceTranscription","setMentions","mentions","setXssFilter","xssFilter","setProfanityFilter","profanityFilter","setImageModeration","imageModeration","setDataMasking","dataMasking","setMalwareScanner","malwareScanner","setSentimentAnalysis","sentimentAnalysis","setInflightMessageModeration","inflightMessageModeration","setMessageHistory","messageHistory","setViewProfile","viewProfile","setMessageInPrivate","messageInPrivate","setChatWindow","chatWindow","matchWith","optionToMatch","entries","foregroundColor","overrideSystemBackgroundColor","window","groupInMode","groupListFilterOptions","values","searchChats","setGroupInQnaModeByModerators","highlightMessageFromModerators","ALL","NONE","FRIENDS","PUBLIC","PASSWORD","PUBLIC_AND_PASSWORD","USERS","USERS_AND_GROUPS","isRecentChatListEnabled","Promise","resolve","isGroupListEnabled","isUserSettingsEnabled","isEditMessageEnabled","isQNAModeEnabled","isHighlightMessagesEnabled","isJoinLeaveGroupsEnabled","isLargerSizeEmojisEnabled","isGifsEnabled","isShareCopyForwardMessageEnabled","isSharedMediaEnabled","isMessagesSoundEnabled","isCallsSoundEnabled","isViewingGroupMembersEnabled","isCallActionMessagesEnabled","isGroupDeletionEnabled","isChangingGroupMemberScopeEnabled","isAddingGroupMembersEnabled","isLocationSharingEnabled","isGroupActionMessagesEnabled","isGroupCreationEnabled","isDeleteMessageEnabled","isHideDeletedMessagesEnabled","isViewProfileEnabled","isMessageInPrivateEnabled","isCallListEnabled","isFeatureEnabled","calls_enabled","isUserListEnabled","chat_users_list_enabled","isOneOnOneVideoCallEnabled","call_one_on_one_video_enabled","isGroupVideoCallEnabled","call_groups_video_enabled","isOneOnOneAudioCallEnabled","call_one_on_one_audio_enabled","isGroupAudioCallEnabled","call_groups_audio_enabled","isOneOnOneChatEnabled","chat_one_on_one_enabled","isGroupChatEnabled","chat_groups_enabled","isDeleteMemberMessageEnabled","moderation_groups_moderators_enabled","isBlockUserEnabled","moderation_users_block_enabled","isEmojisEnabled","emojis_enabled","isFilesEnabled","chat_messages_media_enabled","isPhotosVideosEnabled","isKickingGroupMembersEnabled","moderation_groups_kick_enabled","isBanningGroupMembersEnabled","moderation_groups_ban_enabled","isVoiceNotesEnabled","chat_voice_notes_enabled","isTypingIndicatorsEnabled","chat_typing_indicator_enabled","chat_users_presence_enabled","isThreadedMessagesEnabled","chat_messages_threads_enabled","isMessageRepliesEnabled","chat_messages_replies_enabled","isDeliveryReceiptsEnabled","chat_messages_receipts_enabled","isLiveReactionsEnabled","live_reactions_enabled","isPublicGroupEnabled","chat_groups_public_enabled","isPrivateGroupEnabled","chat_groups_private_enabled","isPasswordGroupEnabled","chat_groups_password_enabled","isUnreadCountEnabled","chat_messages_unread_count_enabled","isUserSearchEnabled","chat_users_search_enabled","isGroupSearchEnabled","chat_groups_search_enabled","isMessageSearchEnabled","chat_messages_search_enabled","isCallRecordingEnabled","call_recording_enabled","isCallLiveStreamingEnabled","call_live_streaming_enabled","isCallTranscriptEnabled","call_transcript_enabled","isMessageHistoryEnabled","chat_messages_history_enabled","isMessageTranslationEnabled","message_translation_enabled","isExtensionEnabled","isReactionsEnabled","reactions_enabled","reactions","isCollaborativeWhiteBoardEnabled","collaboration_whiteboard_enabled","collaborationWhiteboard","isCollaborativeDocumentEnabled","collaboration_document_enabled","collaborationDocument","isStickersEnabled","stickers_enabled","sticker","isEmailRepliesEnabled","email_replies_enabled","isPollsEnabled","polls_enabled","isSmartRepliesEnabled","smart_replies_enabled","isThumbnailGenerationEnabled","thumbnail_generation_enabled","isLinkPreviewEnabled","link_preview_enabled","isSaveMessagesEnabled","messages_saved_enabled","isPinMessagesEnabled","messages_pinned_enabled","isRichMediaPreviewEnabled","rich_media_preview_enabled","isVoiceTranscriptionEnabled","voice_transcription_enabled","isMentionsEnabled","mentions_enabled","isXssFilterEnabled","moderation_xss_filter_enabled","isProfanityFilterEnabled","moderation_profanity_filter_enabled","isImageModerationEnabled","moderation_image_moderation_enabled","isDataMaskingEnabled","moderation_data_masking_enabled","isMalwareScannerEnabled","moderation_malware_scanner_enabled","isSentimentAnalysisEnabled","moderation_sentiment_analysis_enabled","chat_messages_custom_enabled","moderation_inflight_message_moderation_enabled","emojis","extensionKey","createContext","CometChatContextProvider","setRoles","roles","GROUP_MEMBER_SCOPE","ADMIN","MODERATOR","PARTICIPANT","getUser","reject","getGroup","hasJoined","groupType","password","GROUP_TYPE","promptMessage","prompt","joinGroup","setToastMessage","getLoggedinUser","timer","loggedInUser","isInitialized","isUserLoggedIn","setInterval","clearInterval","clearGroupMembers","groupMembers","groupAdmins","groupModerators","bannedGroupMembers","setAllGroupMembers","updateGroupMembers","setGroupMembers","setGroupAdmins","setGroupModerators","setBannedGroupMembers","bannedMembers","updateBannedGroupMembers","setCallInProgress","callType","callInProgress","setType","setTypeAndItem","setDeletedGroupId","deletedGroupId","setLeftGroupId","leftGroupId","setLastMessage","lastMessage","setClearedUnreadMessages","flag","clearedUnreadMessages","setDirectCallCustomMessage","event","directCallCustomMessage","directCallCustomMessageAction","checkIfDirectCallIsOngoing","output","customData","sessionID","checkIfCallIsOngoing","getActiveCallSessionID","sessionId","hasKeyValue","undefined","settings","featureRestriction","toastMessage","unreadMessages","toastRef","ACTION_TYPE","TYPE_USER","errorCode","TYPE_GROUP","_component","Provider","toastNotificationPos","children","Storage","attachChangeDetection","addEventListener","detachChangeDetection","removeEventListener","storageKey","storageValue","JSON","stringify","parse","removeItem","clear","LocalizedString","SELECT_VIDEO_SOURCE","SELECT_INPUT_AUDIO_SOURCE","SELECT_OUTPUT_AUDIO_SOURCE","SELECT_MODE","CALL_RECORDING_STARTED_MSG","USER_JOINED_CALL_MSG","CALL_RECORDING_ENDED_MSG","USER_LEFT_CALL_MSG","CAMERA_ERROR_MSG","MIC_ERROR_MSG","CAMERA_MIC_ERROR_MSG","RECORDING_TEXT","TRYING_TO_START_RECORDING_TEXT","JOINING_TEXT","UN_MUTE_AUDIO_TEXT","MUTE_AUDIO_TEXT","END_CALL_TEXT","START_RECORDING_TEXT","STOP_RECORDING_TEXT","START_SCREEN_SHARE_TEXT","STOP_SCREEN_SHARE_TEXT","MUTE_VIDEO_TEXT","UN_MUTE_VIDEO_TEXT","SELECT_LAYOUT_HEADER","NO_OF_USER_IN_TILE_TEXT","CHANGE_AUDIO_SOURCE","CHANGE_AUDIO_SOURCE_DESC","AUDIO_INPUT_DEVICE_LABEL","NO_AUDIO_DEVICE_AVAILABLE","AUDIO_OUTPUT_DEVICE_LABEL","CHANGE_VIDEO_SOURCE","CHANGE_VIDEO_SOURCE_DESC","VIDEO_DEVICES_LABEL","FULL_SCREEN","EXIT_FULL_SCREEN","CHANGE_LAYOUT","AUDIO_SETTING","VIDEO_SETTING","USER_LIST","MORE","MUTE_USER","PIN_USER","UNPIN_USER","UN_MUTE_USER","MUTED","YOU_HAVE_BLOCKED","NOT_POSSIBLE_TO_SEND_MESSAGES","IOS_BROWSER_WARNING","PEOPLE_TEXT","SPOTLIGHT_DETAIL_TEXT1","SPOTLIGHT_DETAIL_TEXT2","SPOTLIGHT_DETAIL_TEXT3","SPOTLIGHT_DETAIL_TEXT4","callScreenWrapperStyle","fadeAnimation","bottom","animation","callScreenHeaderStyle","cursorStyle","maximized","callScreenResizerStyle","backgroundStyle","clipPath","background","CometChatCallScreen","enableDragging","e","preventDefault","checkIfCallScreenIsMaximized","dragging","rel","x","pageX","y","pageY","toggleCallScreenBackground","toggleCallScreenInnerBackground","onmousemove","startDragging","onmouseup","disableDragging","elem","callScreenEl","current","dialogWidth","clientWidth","dialogHeight","clientHeight","windowWidth","innerWidth","windowHeight","innerHeight","checkIfCallScreenIsMinimized","minimumWidth","minimumHeight","Math","min","max","stopPropagation","initResize","element","startX","startY","startWidth","parseFloat","getComputedStyle","getPropertyValue","replace","startHeight","parseInt","startResize","stopResize","minHWidth","maxHeight","setDimensionOfCallScreenInnerBackground","callScreenBackgroundEl","callScreenInnerBackgroundEl","setPositionOfCallScreenInnerBackground","minimize","setSizingAndPostionOfCallScreen","maximize","toggle","startDirectCall","callSettings","CallSettingsBuilder","enableDefaultLayout","setSessionID","setIsAudioOnlyCall","setLocalizedStringObject","build","callScreenFrame","startCall","OngoingCallListener","onCallEnded","actionGenerated","onError","startDefaultCall","getSessionId","CALL_TYPE","setMode","CALL_MODE","DEFAULT","onUserJoined","callInitiator","callMessage","category","action","callReceiver","receiverId","receiverType","sentAt","onUserLeft","endedCall","resizeText","iconView","minimizeIcon","maximizeIcon","onMouseDown","userSelect","PureComponent","contextType","SoundManager","incomingCallAudio","outgoingCallAudio","incomingMessageAudio","outgoingMessageAudio","incomingOtherMessageAudio","play","onIncomingCall","onOutgoingCall","onIncomingMessage","onIncomingOtherMessage","onOutgoingMessage","pause","pauseIncomingCall","pauseOutgoingCall","Audio","default","playMessageAlert","messageAudio","currentTime","playCallAlert","callAudio","loop","incomingCallWrapperStyle","slideDown","positionValue","leftPos","rightPos","topPos","bottomPos","zIndexValue","widgetsettings","dockedview","launched","alignment","widgetWidth","widgetHeight","ButtonStyle","callIconStyle","CometChatIncomingCall","adjustFontSize","callButtonRef","reduceFontSize","buttonNodeList","querySelectorAll","forEach","buttonNode","scrollWidth","callScreenUpdated","incomingCallReceived","incomingCallCancelled","outgoingCallAccepted","incomingCall","sender","rejectCall","callStatus","isCallActive","CALL_STATUS","BUSY","REJECTED","rejectedCall","acceptCall","checkForActiveCallAndEndCall","success","endCall","actionHandler","logStorageChange","newValue","oldValue","attachListeners","callScreen","incomingCallAlert","audioCallIcon","VIDEO","videoCallIcon","textTransform","CallScreenManager","onOutgoingCallRejected","styles","CometChatOutgoingCall","outgoingCallRejected","outgoingCallScreen","errorScreen","errorMessage","clearCallInProgress","cancelCall","CANCELLED","removeListeners","receiver","callIcon","messageAlertManager","msgListenerId","addMessageListener","MessageListener","onCustomMessageReceived","customMessage","removeMessageListener","CometChatIncomingDirectCall","messageListenerCallback","joinCall","ignoreCall","MessageAlertManager","wordBoundary","emailPattern","RegExp","urlPattern","phoneNumPattern","linkify","outputStr","results","match","url","normalizedURL","startsWith","checkMessageForExtensionsData","injectedObject","metadata","extensionsObject","getMessageFileMetadata","metadataKey","fileMetadata","ID","random","getUnixTimestamp","round","dateDiffInDays","a","b","utc1","UTC","getFullYear","getMonth","getDate","utc2","floor","CometChatOutgoingDirectCall","prepareCustomMessageData","sendCustomMessage","RECEIVER_TYPE","GROUP","conversationId","CustomMessage","setSender","setReceiver","setConversationId","_composedAt","_id","newMessageObj","callScreenRef","ConversationListManager","conversationRequest","conversationListenerId","userListenerId","groupListenerId","ConversationsRequestBuilder","setConversationType","setLimit","fetchNext","addUserListener","UserListener","onUserOnline","onlineUser","onUserOffline","offlineUser","addGroupListener","GroupListener","onGroupMemberScopeChanged","changedUser","newScope","oldScope","changedGroup","onGroupMemberKicked","kickedUser","kickedBy","kickedFrom","onGroupMemberBanned","bannedUser","bannedBy","bannedFrom","onGroupMemberUnbanned","unbannedUser","unbannedBy","unbannedFrom","onMemberAddedToGroup","userAdded","userAddedBy","userAddedIn","onGroupMemberLeft","leavingUser","onGroupMemberJoined","joinedUser","joinedGroup","onTextMessageReceived","textMessage","onMediaMessageReceived","mediaMessage","onMessageDeleted","deletedMessage","onMessageEdited","editedMessage","onMessagesRead","messageReceipt","removeUserListener","removeGroupListener","CometChatEvent","_triggers","push","params","chatsWrapperStyle","_parent","chatsHeaderStyle","borderBottom","chatsHeaderCloseStyle","chatsHeaderTitleStyle","enableCloseMenu","CometChatConversationList","incrementUnreadCount","filterConversation","conversationlist","find","c","conversationType","USER","conversationWith","updateLastMessage","conversationList","conversationKey","findIndex","conversationObj","newConversationObj","splice","unshift","newConversation","Conversation","setConversationWith","setUnreadMessageCount","updateUnreadCount","clearUnreadCount","unreadMessageCount","conversationCallback","options","updateUser","markMessageAsDelivered","conversationUpdated","markAsDelivered","updateConversation","conversationEditedDeleted","updateGroupMemberAdded","updateGroupMemberRemoved","updateGroupMemberScopeChanged","updateGroupMemberChanged","conversationWithObj","getStatus","hideGroupActionMessages","playAudio","CATEGORY_ACTION","TYPE_GROUP_MEMBER","getReceiverType","getSender","getReceiverId","conversation","messageId","makeConversation","CometChatHelper","getConversationFromMessage","makeUnreadMessageCount","shouldIncrementCount","incomingMessage","CATEGORY_MESSAGE","makeLastMessage","newMessage","assign","lastMessageObj","newLastMessageObj","membersCount","actionFor","newConversationWithObj","scope","handleScroll","currentTarget","scrollHeight","scrollTop","getConversations","handleClick","onItemClick","handleMenuClose","fetchNextConversation","decoratorMessage","conversations","eachConversation","newUnreadMessageCount","updatedConversation","contextProviderRef","conversationDeleted","deleteConversation","showConfirmDialog","conversationToBeDeleted","onDeleteConfirm","optionSelected","target","deletedConversation","chatListRef","on","args","blockedByMe","convKey","convObj","convWithObj","newConvWithObj","newConvObj","map","messageContainer","wordWrap","closeBtn","navigateIcon","chatList","dir","getDirection","overflowY","onScroll","chatListWrapper","CometChatConversationListActions","toggleTooltip","setAttribute","dataset","removeAttribute","deleteInProgress","actionInProgress","progressIcon","actionIcon","loadingIcon","deleteIcon","data-title","onMouseEnter","onMouseLeave","listItem","selectedState","selectedConversation","itemNameStyle","itemLastMsgStyle","CometChatConversationListItem","getLastMessage","enableHideDeletedMessages","getMessage","CATEGORY_CALL","getCallMessage","getActionMessage","CATEGORY_CUSTOM","getCustomMessage","getLastMessageTimestamp","timestamp","messageTimestamp","currentTimestamp","now","dateDifferenceInDays","dateFormat","getTimeStampForLastMessage","pollMessage","stickerMessage","docMessage","whiteboardMessage","meetingMessage","getTextMessage","messageText","text","xssData","sanitized_text","maskedData","sensitive_data","message_masked","profaneData","profanity","message_clean","MESSAGE_TYPE","TEXT","MEDIA","IMAGE","imageMessage","FILE","fileMessage","videoMessage","audioMessage","CUSTOM","actionMessage","MEMBER_JOINED","MEMBER_LEFT","actionBy","actionOn","MEMBER_SCOPE_CHANGED","extras","byEntity","onEntity","byString","forString","MEMBER_ADDED","MEMBER_KICKED","MEMBER_BANNED","MEMBER_UNBANNED","textContent","enableUnreadCount","handleMouseHover","toggleFlag","isHovering","lastMessageTimestamp","lastMessageTimeStamp","toolTipView","flexGrow","paddingLeft","paddingRight","previewWrapperStyle","slideAnimation","previewCloseStyle","previewOptionStyle","CometChatSmartReplyPreview","alignSelf","stickerWrapperStyle","stickerSectionListStyle","overflowX","stickerItemStyle","stickerCloseStyle","CometChatStickerKeyboard","getStickers","callExtension","stickers","activeStickerSet","customStickers","defaultStickers","sort","stickerSetOrder","stickerList","stickerSet","reduce","r","index","stickerSetName","activeStickerList","stickerOrder","sendStickerMessage","stickerItem","onStickerSetClicked","sectionItem","activestickerlist","stickerset","closeStickerKeyboard","stickerlist","activestickerset","sectionItems","stickerSetThumbnail","stickerUrl","stickerName","flexWrap","messageReactionsStyle","reactionData","hoveredBorderStyle","verticalAlign","emojiButtonStyle","reactionCountStyle","CometChatMessageReactions","enableMessageReaction","reactToMessages","emoji","messageObject","colons","msgId","getMessageReactions","reaction","reactionName","replaceAll","reactionCount","userList","reactionTitle","join","concat","reactionClassName","size","native","addMessageReaction","reactIcon","messageReactions","addReactionEmoji","modalWrapperStyle","modalErrorStyle","modalTableStyle","borderCollapse","tr","tableLayout","tableFootStyle","loadingState","textMargin","creatingPoll","disabled","td","button","span","addOptionIconStyle","backgroundSize","CometChatCreatePoll","addPollOption","removePollOption","optionKey","opt","optionChangeHandler","newOption","createPoll","question","questionRef","firstOption","optionOneRef","secondOption","optionTwoRef","optionItems","optionRef","pollOptionView","tabIndex","createText","clearIcon","colSpan","autoFocus","placeholder","addIcon","creatingIcon","removeOptionIconStyle","CometChatCreatePollOptions","autoComplete","onChange","removeIcon","messageThumbnailStyle","nameWrapperStyle","paddingValue","messageTxtWrapperStyle","messageTxtTitleStyle","messageBtnStyle","li","CometChatReceiverDocumentBubble","toggleHoverState","launchCollaborativeDocument","documentUrl","documentData","document_url","open","nextProps","nextState","reactionsData","documentTitle","documentIcon","pollAnswerStyle","pollPercentStyle","curvedBorders","answerWrapperStyle","optionData","widthProp","voters","p","checkIconStyle","CometChatReceiverPollMessageBubble","answerPollQuestion","selectedOption","vote","pollId","pollExtensionData","pollOptions","total","totalText","toLocaleString","checkIcon","checkImg","template","messageImgWrapperStyle","CometChatReceiverStickerMessageBubble","stickerData","stickerImg","sticker_name","sticker_url","CometChatReceiverWhiteboardBubble","launchCollaborativeWhiteboard","whiteboardUrl","whiteboardData","board_url","username","whiteboardIcon","CometChatSenderDocumentBubble","CometChatSenderPollMessageBubble","messageImgWrapper","CometChatSenderStickerBubble","messageTxtIconStyle","CometChatSenderWhiteboardBubble","CometChatActionMessageBubble","getCallActionMessage","INITIATED","ONGOING","UNANSWERED","ENDED","byUser","onUser","messageContainerStyle","messageWrapperStyle","Width","fontStyle","messageTxtStyle","messageInfoWrapperStyle","messageTimeStampStyle","messageDetailStyle","paddingSpace","nameStyle","CometChatDeleteMessageBubble","setLoggedInUser","messageDate","CometChatEmojiKeyboard","categories","people","nature","foods","activity","places","objects","symbols","flags","emojiClicked","showPreview","exclude","i18n","imageWrapperStyle","heightProps","imgStyle","sizeProps","objectFit","CometChatImageViewer","setImage","imageIcon","previewDataStyle","previewTitleStyle","previewDescStyle","previewTextStyle","previewLinkStyle","CometChatLinkPreview","linkObject","linkText","href","CometChatLiveReactions","sendMessage","transientMessage","TransientMessage","sendTransientMessage","setItems","parentElement","offsetWidth","offsetHeight","elements","elementWidth","elementHeight","ySpeed","verticalSpeed","omega","PI","horizontalSpeed","time","sin","items","requestAnimation","animate","transformString","visibility","classList","add","counter","before","reactionImg","Array","fill","messageActionStyle","direction","groupButtonStyle","deleteOption","backgroundProp","CometChatMessageActions","enableThreadedChats","enableDeleteMessage","enableDeleteMessageForModerator","enableEditMessage","enableTranslateMessage","enableMessageInPrivate","sendMessageInPrivate","reactToMessage","viewThread","translateMessage","startThreadIcon","replyCount","editIcon","translateIcon","sendMessageInPrivateIcon","tooltip","chatComposerStyle","order","editPreviewContainerStyle","inputInnerStyle","borderRadiusVal","emojiViewer","stickerViewer","messageInputStyle","disabledState","content","inputStickyStyle","attachments","flexDirectionProp","filePickerStyle","active","showFilePicker","fileItemStyle","stickyAttachButtonStyle","stickyButtonStyle","sendButtonStyle","stickerBtnStyle","CometChatMessageComposer","enableLiveReaction","enablePolls","enableTypingIndicator","enableStickers","enablePhotosVideos","enableFiles","enableEmojis","enableCollaborativeDocument","enableCollaborativeWhiteboard","focusOnMessageComposer","messageInputRef","focus","messageToReact","pasteHtmlAtCaret","messageInput","innerText","messageType","changeHandler","startTyping","toggleFilePicker","currentState","openFileDialogue","fileType","imageUploaderRef","click","fileUploaderRef","audioUploaderRef","videoUploaderRef","onImageChange","files","uploadedFile","reader","FileReader","newFile","File","result","sendMediaMessage","readAsArrayBuffer","onFileChange","onAudioChange","onVideoChange","getReceiverDetails","endTyping","MediaMessage","parentMessageId","setParentMessageId","setMetadata","sendMessageOnEnter","keyCode","shiftKey","sendTextMessage","messageToBeEdited","TextMessage","setText","replyPreview","setId","messageFrom","closeEditPreview","typingInterval","isTyping","typingMetadata","typingNotification","TypingIndicator","persist","toggleStickerPicker","toggleEmojiPicker","toggleCreatePoll","toggleCollaborativeDocument","toggleCollaborativeBoard","closeCreatePoll","sendSticker","sendReplyMessage","clearReplyPreview","startLiveReaction","animationInProgress","timeout","liveReactionInterval","stopLiveReaction","newMessageObject","reactionObject","userObject","emojiObject","reactionExtensionsData","metadatObject","extensions","liveReactionInProgress","shareDocument","shareWhiteboard","prevState","hasXSS","html","selectPastedContent","sel","range","getSelection","getRangeAt","rangeCount","deleteContents","node","lastNode","frag","createDocumentFragment","firstChild","appendChild","firstNode","insertNode","cloneRange","setStartAfter","setStartBefore","collapse","removeAllRanges","addRange","selection","originalRange","createRange","pasteHTML","setEndPoint","select","liveReactionBtn","liveReactionText","docText","docs","docIcon","videoText","audioText","imageText","avp","videoIcon","accept","audioIcon","pollText","createPollBtn","pollIcon","collaborativeDocText","collaborativeDocBtn","collaborativeBoardText","collaborativeBoardBtn","emojiText","emojiBtn","insertEmoticon","StickerText","stickerBtn","stickerIcon","sendMessageText","sendBtn","sendBlue","attachText","attach","roundedPlus","editPreview","smartReplyPreview","smartReplyData","contentEditable","onInput","onBlur","onKeyDown","MessageHeaderManager","onTypingStarted","typingIndicator","onTypingEnded","chatSideBarBtnStyle","displayValue","sidebar","chatUserStyle","chatNameStyle","chatStatusStyle","typing","chatOptionStyle","ongoingCall","bgColor","CometChatMessageHeader","setStatusForUser","USER_STATUS","ONLINE","OFFLINE","lastActiveAt","lastActive","setStatusForGroup","membersText","updateHeader","groupUser","enableUserPresence","showTyping","typingText","resetChat","enableGroupVoiceCall","enableGroupVideoCall","enableOneOnOneVoiceCall","combinedResponse","enableOneOnOneVideoCall","enableAddGroupMembers","enableChangeScope","enableKickGroupMembers","enableBanGroupMembers","enableDeleteGroup","enableViewGroupMembers","enableLeaveGroup","enableSharedMedia","enableBlockUser","initiateAudioCall","initiateVideoCall","viewDetail","videoCallClassName","audioCallClassName","viewDetailClassName","chatWithClassName","chatNameClassName","chatStatusClassName","audioCallText","audioCallBtn","videoCallText","videoCallBtn","viewDetailText","viewDetailBtn","detailPaneIcon","menuIcon","MessageFilter","getCategories","getTypes","MessageListManager","messageRequest","limit","initializeMessageRequest","messageFilterManager","categoryList","typeList","MessagesRequestBuilder","setUID","setCategories","setTypes","hideReplies","setGUID","fetchPrevious","onMessagesDelivered","onTransientMessageReceived","chatListStyle","messageDateStyle","CometChatMessageList","lastScrollTop","times","scrollToBottom","messagesEnd","messageHandler","fetchMessages","messageList","messageCount","getUid","markAsRead","messages","fetchPreviousMessages","messageUpdated","onMessageReadAndDelivered","onMessageReceived","onGroupUpdated","onCallUpdated","updateEditedMessage","messageKey","m","messageObj","getReceiver","getReceiptType","deliveredAt","getDeliveredAt","readAt","getReadAt","reInitializeMessageBuilder","markMessageAsRead","messageReceivedHandler","customMessageReceivedHandler","getSenderMessageComponent","getReceiverMessageComponent","getSenderCustomMessageComponent","getReceiverCustomMessageComponent","getActionMessageComponent","getComponent","ifChatWindowChanged","cDate","dateSeparator","dateField","messageSentDate","timeStampInMilliSeconds","getMessageDate","paddingTop","SharedMediaManager","messagetype","mediaMessageListenerId","mediaMessageRequest","setCategory","sectionStyle","containerHeightProp","containerHeight","buttonStyle","activeBtn","itemStyle","itemTypeStyle","CometChatSharedMediaView","messageDeleted","messageReceived","filteredMessages","filter","getMessages","mediaClickHandler","fileIcon","data-id","UserDetailManager","userDetailStyle","headerStyle","headerCloseStyle","privacySectionStyle","sectionHeaderStyle","itemLinkStyle","userPresenceStyle","CometChatUserDetails","enableViewProfile","usersList","blockUsers","newType","newItem","unblockUser","unblockUsers","profileLink","link","closeDetailView","blockUserText","blockUserView","sharedmediaView","UserListManager","searchKey","userRequest","initializeUsersRequest","userListModeOptions","usersRequest","UsersRequestBuilder","setSearchKeyword","friendsOnly","contactWrapperStyle","contactHeaderStyle","contactHeaderCloseStyle","contactHeaderTitleStyle","contactSearchButtonStyle","CometChatUserList","toggleUserSearch","enableSearchUser","userUpdated","userlist","userKey","u","userObj","newUserObj","getUsers","val","fetchNextUsers","userListRef","newUserObject","currentLetter","chr","firstChar","selectedUser","clickHandler","searchUser","searchIcon","userListTemplate","userListWrapper","itemDescStyle","marginTop","CometChatUserListItem","userPresence","userScreenSidebarStyle","sidebarView","sidebarview","borderRight","userScreenMainStyle","CometChatUserListWithMessages","itemClicked","toggleSideBar","chatWithUser","messageScreen","creatingGroup","inputStyle","CometChatCreateGroup","enablePublicGroup","enablePasswordGroup","enablePrivateGroup","passwordChangeHandler","nameChangeHandler","typeChangeHandler","passwordInput","validate","groupName","createGroup","PRIVATE","Group","newGroup","populateGroupType","groupTypes","groupTypeSelect","groupTypeKeys","groupTypeListOptions","groupTypeKey","GroupDetailManager","groupMemberRequest","bannedGroupMemberRequest","GroupMembersRequestBuilder","BannedMembersRequestBuilder","deleteLink","deleteCss","CometChatGroupDetails","groupUpdated","updateGroupMemberPresence","member","updatedMember","addParticipants","removeParticipants","banMembers","unbanMembers","updateParticipants","memberlist","memberKey","k","memberObj","newMemberObj","bannedmemberlist","bannedMemberKey","bannedMemberObj","newBannedMemberObj","getGroupMembers","administratorslist","moderatorslist","fetchNextGroupMembers","getBannedGroupMembers","fetchNextBannedGroupMembers","deleteGroup","showDeleteConfirmDialog","showLeaveGroupConfirmDialog","showTransferOwnershipConfirmDialog","onLeaveConfirm","leaveGroup","onTransferConfirm","transferOwnership","owner","viewMember","addMember","membersActionHandler","members","updateOwnership","unbannedMembers","filteredBannedMembers","bannedmember","found","triggerUpdate","groupmembers","filteredMembers","groupmember","closeGroupDetail","addAdministrator","addModerator","viewMembersBtn","paddingBottom","addMembersBtn","deleteGroupBtn","bannedMembersBtn","leaveGroupBtn","viewMembers","loggedinuser","addMembers","GroupListManager","groupRequest","GroupsRequestBuilder","groupWrapperStyle","groupHeaderStyle","groupHeaderCloseStyle","groupHeaderTitleStyle","groupAddStyle","CometChatGroupList","enableSearchGroup","enableCreateGroup","enableJoinGroup","updateMemberChanged","updateMemberRemoved","updateMemberAdded","updateMemberJoined","grouplist","groupKey","g","groupObj","newgroupObj","getGroups","newGroupObj","searchGroup","fetchNextGroups","groupList","createGroupHandler","createGroupActionHandler","groupListRef","selectedGroup","createGroupBtn","groupListTemplate","groupListWrapper","itemIconStyle","CometChatGroupListItem","groupTypeIcon","shieldIcon","lockIcon","modalCaptionStyle","textAlignStyle","listHeaderStyle","nameColumnStyle","editAccess","scopeColumnStyle","actionColumnStyle","CometChatViewGroupMemberList","updateUserColumnTitle","userColumnTitle","matches","updateMembers","changeScope","memberToBan","banGroupMember","memberToKick","kickGroupMember","updateGroupMemberScope","setUserColumnTitle","matchMedia","addListener","modalRowStyle","borderLeft","participantView","avatarStyle","marginProp","displayProp","scopeIconStyle","kickIconStyle","CometChatViewGroupMemberListItem","toggleChangeScope","showChangeScope","scopeChangeHandler","updateMemberScope","contains","changeScopeDropDown","defaultValue","editClassName","changescope","ban","banIcon","kick","kickIcon","doneIcon","scopeIcon","AddMembersManager","membersRequest","initializeMembersRequest","modalCloseStyle","searchButtonStyle","modalListStyle","modalFootStyle","addingMembers","CometChatAddGroupMemberList","membersToAdd","membersToRemove","filteredlist","filteredUserList","foundbanned","membersUpdated","userState","IndexFound","membersList","newmember","newMember","GroupMember","addMembersToGroup","addGroupMemberBtn","addingIcon","firstLetter","changed","selectionBoxStyle","inactiveStateImg","activeStateImg","CometChatAddGroupMemberListItem","checked","setChecked","nameContainer","lastChild","inactiveIcon","activeIcon","htmlFor","roleColumnStyle","CometChatBanGroupMemberList","unbanMember","memberToUnBan","unbanGroupMember","membersToBan","membersToUnBan","userStyle","roleStyle","actionStyle","CometChatBanGroupMemberListItem","unBan","unban","groupScreenSidebarStyle","groupScreenMainStyle","CometChatGroupListWithMessages","otherProps","newObject","chatWithGroup","btnState","newGroupOwner","transferringOwnership","CometChatTransferOwnershipMemberList","changeOwnership","updateGroupOwner","transferGroupOwnership","memberList","transferBtn","transferText","transferIcon","modalColumnStyle","selectionColumnStyle","CometChatTransferOwnershipMemberListItem","handleCheck","toggleSelectedState","isSelected","chatWrapperStyle","viewdetailscreen","threadmessageview","secondaryViewWidth","chatSecondaryStyle","messagePaneUnreadBannerMessageStyle","textShadow","CometChatMessages","enableGroupActionMessages","enableCallActionMessages","enableSendingOneOnOneMessage","enableSendingGroupMessage","updateReplyCount","appendMessage","messageSent","triggerHandler","updateMessages","updateParentThreadedMessage","removeMessages","prependMessages","prependMessagesAndScrollToBottom","refreshingMessages","messageRefreshed","newMessagesArrived","jumpToMessages","messageEdited","clearEditPreview","appendCallMessage","toggleOriginalImageView","audioCall","videoCall","toggleDetailView","toggleReaction","liveReactionReceived","outgoingDirectCallRef","viewThreadedMessage","threadMessageComposed","closeThreadedMessage","appendMemberAddedMessage","appendMemberUnbannedMessage","appendMemberScopeChangedMessage","appendMemberKickedMessage","appendMemberBannedMessage","errorHandler","infoMessageHandler","infoCode","eachMember","viewOriginalImage","viewdetail","parentMessage","threaditem","threadmessageparent","threadmessageitem","threadmessagetype","Call","initiateCall","outgoingCall","outgoingCallRef","liveReaction","markMessagesAsRead","unreadMessage","messageListRef","messagelist","receivedMessage","composerRef","blockedUser","messageComposer","newMessageIndicator","liveReactionView","incomingCallView","incomingDirectCallView","outgoingDirectCallView","outgoingCallView","detailScreen","threadMessageView","activeTab","threadItem","threadType","originalImageView","messageComponent","messageWrapper","parentMessageStyle","messageSeparatorStyle","hr","CometChatMessageThread","parentMessageEdited","newReplyCount","getParentMessageComponent","seperator","replyText","fontWight","scrollbarWidth","CometChatReadReceipt","toggleReadReceipts","receipts","ticks","receiptText","errorTick","sendingTick","greyTick","blueDoubleTick","greyDoubleTick","receipt","getMessageSentTime","CometChatReceiverAudioMessageBubble","controls","CometChatReceiverDirectCallBubble","messageTitle","joinCallMessage","messageFileWrapperStyle","textDecoration","label","CometChatReceiverFileMessageBubble","CometChatReceiverImageMessageBubble","chooseImage","thumbnailGenerationObject","smallUrl","imageToDownload","thumbnailGenerationData","imageName","imageUrl","downloadImage","setMessageImageUrl","imgUrl","xhr","XMLHttpRequest","responseType","readyState","statusText","onerror","Error","ontimeout","send","parsedMessage","emojiMessage","showVariation","emojiProp","zoom","CometChatReceiverTextMessageBubble","getMessageText","formattedText","emojiParsedMessage","twemoji","folder","ext","ReactHtmlParser","decodeEntities","enableLargerSizeEmojis","translatedMessage","translateToLanguage","browserLanguageArray","linkPreviewData","CometChatReceiverVideoMessageBubble","CometChatSenderAudioMessageBubble","getFileData","Blob","fileName","fileUrl","fileData","CometChatSenderDirectCallBubble","CometChatSenderFileMessageBubble","CometChatSenderImageMessageBubble","readAsDataURL","heightProp","CometChatSenderTextMessageBubble","messageTextRef","CometChatSenderVideoMessageBubble","replyCountStyle","CometChatThreadedMessageReplyCount","reply","setReply","replies","bockedSubTitleStyle","unblockButtonStyle","CometChatBlockedUser","chatWith","chatScreenSidebarStyle","chatScreenMainStyle","CometChatConversationListWithMessages","tab","userInfoScreenStyle","userStatusStyle","optionTitleStyle","optionStyle","CometChatUserProfile","userProfile","notificationIcon","privacyIcon","chatIcon","helpIcon","reportIcon","isActive","activeStateBg","itemLinkTextStyle","colorProp","CometChatNavBar","tabListKeys","getFilteredTabs","filteredTabs","promises","enableChats","enableUsers","enableGroups","enableSettings","allSettled","eachTabKey","tabKey","tabEnabled","tabChanged","getActiveTab","getTabList","chatsTabActive","userTabActive","groupsTabActive","moreTabActive","chatGreyIcon","contactGreyIcon","groupGreyIcon","moreGreyIcon","tabName","t","unifiedSidebarStyle","unifiedMainStyle","navBarAction","navBarRef","history","App","isLoggedin","exact","Boolean","hostname","initialState","authStart","authLogout","setAuthRedirectPath","reducer","store","createStore","compose","applyMiddleware","thunk","appID","region","appSetting","AppSettingsBuilder","subscribePresenceForAllUsers","setRegion","init","setSource","ReactDOM","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.627892be.chunk.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { Route, Redirect } from 'react-router-dom';\n\nclass PrivateRoute extends React.Component {\n\n    render() {\n\n        if(this.props.isLoggedIn) {\n            return (\n                <Route\n                    render={() => <this.props.component path={this.props.path} userId={this.props.userId} {...this.props}/>}\n                />\n            );\n            \n        } else {\n            return (<Redirect to={{ pathname: '/login', state: { from: this.props.location } }} />);\n        }\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        isLoggedIn: state.isLoggedIn\n    };\n};\n  \nexport default connect( mapStateToProps, null)(PrivateRoute);","export const COMETCHAT_CONSTANTS = {\n    APP_ID: '195222dd0d14230e',\n    REGION: 'US',\n    AUTH_KEY: '171c1605863b64263aba88d263b81eb8a7fb236b'\n}\n\nexport const FIREBASE_CONSTANTS ={\n    apiKey: \"AIzaSyAx9LY54XvcAc1nzazwZjaktkynOi0pRbk\",\n    authDomain: \"slack-clone-c133a.firebaseapp.com\",\n    projectId: \"slack-clone-c133a\",\n    storageBucket: \"slack-clone-c133a.appspot.com\",\n    messagingSenderId: \"518875913986\",\n    appId: \"1:518875913986:web:a0a037c559269ab9c6ec1b\",\n    measurementId: \"G-EHR2SPXM7Q\"\n}","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n//import { firebaseConfig } from './app.config'\nimport { FIREBASE_CONSTANTS } from './consts'\n\nconst firebaseApp = firebase.initializeApp(FIREBASE_CONSTANTS)\nconst db = firebaseApp.firestore()\nconst auth = firebaseApp.auth()\nconst provider = new firebase.auth.GoogleAuthProvider()\n\nexport { auth, provider } \nexport default db","export default __webpack_public_path__ + \"static/media/logo.0c70ae08.png\";","export const AUTH_START = 'AUTH_START';\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\nexport const AUTH_FAIL = 'AUTH_FAIL';\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\n\nexport const SET_AUTH_REDIRECT_PATH = 'SET_AUTH_REDIRECT_PATH';","import * as actionTypes from './actionTypes';\n\nimport { CometChat } from '@cometchat-pro/chat';\n\nexport const authStart = () => {\n    return {\n        type: actionTypes.AUTH_START\n    };\n};\n\nexport const authSuccess = (user) => {\n    return {\n        type: actionTypes.AUTH_SUCCESS,\n        user: user,\n        isLoggedIn: true\n    };\n};\n\nexport const authFail = (error) => {\n    return {\n        type: actionTypes.AUTH_FAIL,\n        error: error\n    };\n};\n\nexport const logoutSuccess = () => {\n    return {\n        type: actionTypes.AUTH_LOGOUT,\n        authRedirectPath: \"/login\"\n    };\n}\n\nexport const logout = () => {\n    return dispatch => {\n        CometChat.logout().then(dispatch(logoutSuccess()));\n    }\n    \n};\n\nexport const auth = (uid, authKey, currentUser) => {\n\n    return dispatch => {\n\n        dispatch(authStart());\n\n        CometChat.login(uid, authKey).then((user) => {\n            \n            if(user) {\n                dispatch(authSuccess(user));\n            } else {\n                dispatch(authFail(user));\n            }\n            \n        }).catch(error => {\n            console.log('CometChatLogin Failed', error);\n            if(error.code = \"ERR_UID_NOT_FOUND\") {\n\n                const user = new CometChat.User(uid)\n                console.log('current user = ', currentUser)\n                console.log('current uid = ', uid)\n                user.setName(currentUser.displayName)\n                user.setAvatar(currentUser.photoURL)\n\n                CometChat.createUser(user, authKey)\n                    .then(() => {\n                        // setLoading(false)\n                        alert('You are now signed up, click the button again to login')\n                    })\n                    .catch((error) => {\n                        console.log(error)\n                        // setLoading(false)\n                        alert(error.message)\n                    })\n            }\n            else {\n                dispatch(authFail(error));\n            }\n            \n        });\n    };\n};\n\nexport const authCheckState = () => {\n    return dispatch => {\n        CometChat.getLoggedinUser().then(user => {\n            \n            if(user) {\n                dispatch(authSuccess(user));\n            } else {\n                dispatch(authFail(user));\n            }\n      \n        }).catch(error => {\n            dispatch(authFail(error));\n        });\n    };\n};\n\nexport const setAuthRedirectPath = (path) => {\n    return {\n        type: actionTypes.SET_AUTH_REDIRECT_PATH,\n        path: path\n    };\n};","import './Login.css'\nimport { Button } from '@material-ui/core'\nimport { auth, provider } from '../../firebase'\nimport { CometChat } from '@cometchat-pro/chat'\nimport LogoImage from '../../images/logo.png'\nimport { Redirect } from 'react-router-dom';\n\n//import { cometChat } from '../../app.config'\nimport { COMETCHAT_CONSTANTS } from '../../consts'\n\nimport { useState, useEffect } from 'react'\nimport { useDispatch, useSelector  } from \"react-redux\";\nimport * as actions from '../../store/action';\nimport { createBrowserHistory } from 'history';\n\nfunction Login() {\n  const [loading, setLoading] = useState(false)\n  const [isLoggedIn, setIsLoggedIn] = useState(\"\")\n  const [authRedirect, setAuthRedirect] = useState(null)\n  const dispatch = useDispatch();\n\n  const authUser = useSelector((state) => state)\n  const history = createBrowserHistory();\n\n  const signIn = () => {\n    setLoading(true)\n    auth\n      .signInWithPopup(provider)\n      .then((res) => {\n        loginCometChat(res.user)\n        \n      })\n      .catch((error) => {\n        console.log('error = ', error)\n        setLoading(false)\n        alert(error.message)\n      })\n  }\n\n  const loginCometChat = (data) => {\n    const authKey = COMETCHAT_CONSTANTS.AUTH_KEY\n    const resutl = dispatch( actions.auth( data.uid, authKey, data ) )\n\n    setLoading(false)\n    // CometChat.login(data.uid, authKey)\n    //   .then((u) => {\n    //     //localStorage.setItem('user', JSON.stringify(data))\n    //     setIsLoggedIn(\"logged\")\n    //     console.log(\"logging in\")\n    //     console.log(u)\n    //     window.location.href = '/embedded-app'\n        \n    //     setLoading(false)\n    //   })\n    //   .catch((error) => {\n    //     if (error.code === 'ERR_UID_NOT_FOUND') {\n    //       signUpWithCometChat(data)\n    //     } else {\n    //       console.log(error)\n    //       setLoading(false)\n    //       alert(error.message)\n    //     }\n    //   })\n  }\n\n  const signUpWithCometChat = (data) => {\n    console.log('signup testing = ', data);\n    const authKey = COMETCHAT_CONSTANTS.AUTH_KEY\n    \n    const user = new CometChat.User(data.uid)\n\n    user.setName(data.displayName)\n    user.setAvatar(data.photoURL)\n\n    CometChat.createUser(user, authKey)\n      .then(() => {\n        setLoading(false)\n        alert('You are now signed up, click the button again to login')\n      })\n      .catch((error) => {\n        console.log(error)\n        setLoading(false)\n        alert(error.message)\n      })\n  }\n\n  useEffect(() => {\n    if(authUser.isLoggedIn) {\n      console.log('auth user = ', authUser);\n      setAuthRedirect(<Redirect to=\"/embedded-app\" />)\n    }\n\n  });\n\n  return (\n    <div>\n    {authRedirect}\n      <div className=\"login\">\n        <div className=\"login__container\">\n          <img src={LogoImage} className=\"logo\" alt=\"Slack Logo\" />\n\n          <h4>Sign in to CometChat</h4>\n          <p>cometchat.slack.com</p>\n          <Button onClick={signIn}>\n            {!loading ? 'Sign In With Google' : <div id=\"loading\"></div>}\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Login","export const wrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n    }\n}\n\nexport const titleStyle = () => {\n\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\n\n    return {\n        textAlign: \"center\",\n        color: \"rgb(67, 171, 255)\",\n        fontSize: \"24px\",\n        width: \"100%\",\n        padding: \"0 1em\",\n        margin: \"1em 0 0 0\",\n        [mq[0]]: {\n            fontSize: \"20px\",\n        },\n        color: \"rgb(255, 255, 255)\"\n    }\n}\n\nexport const subTitleStyle = () => {\n\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\n\n    return {\n        textAlign: \"center\",\n        color: \"#AAA\",\n        fontSize: \"14px\",\n        width: \"100%\",\n        padding: \"0 1em\",\n        margin: \"1em 0 2em 0\",\n        [mq[0]]: {\n            fontSize: \"16px\",\n        }\n    }\n}\n\nexport const helpTextStyle = () => {\n\n    return {\n        fontSize: \"14px\",\n        textAlign: \"center\",\n        width: \"100%\",\n        color: \"#333\",\n        padding: \"0 1em\",\n    }\n}\n\nexport const componentStyle = () => {\n\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`, `@media (min-width : 768px) and (max-width: 1024px)`];\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        padding: \"16px 120px\",\n        width: \"100%\",\n        [mq[0]]: {\n            flexDirection: \"column\",\n            padding: \"50px 100px\",\n        },\n        [mq[1]]: {\n            flexDirection: \"column\",\n            padding: \"50px 50px\",\n        }\n    }\n}\n\nexport const UIComponentStyle = () => {\n\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`, `@media (min-width : 768px) and (max-width: 1024px)`];\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        padding: \"16px 35.5%\",\n        width: \"100%\",\n        [mq[0]]: {\n            flexDirection: \"column\",\n            padding: \"50px 150px\",\n        },\n        [mq[1]]: {\n            flexDirection: \"column\",\n            padding: \"50px 50px\",\n        }\n    }\n}\n\nexport const boxStyle = () => {\n\n    const mq = [`@media (min-width : 768px) and (max-width: 1024px)`];\n\n    return {\n        margin: \"10px 20px\",\n        padding: \"20px\",\n        boxShadow: \"0 0 10px #bbb\",\n        borderRadius: \"10px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flex: \"1\",\n        minWidth: \"300px\",\n        [mq[0]]: {\n            width: \"400px\",\n        }\n    }\n}\n\nexport const titleWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const thumbnailWrapperStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n    }\n}\n\nexport const componentTitleStyle = () => {\n\n    return {\n        width: \"calc(100% - 40px)\",\n        padding: \"10px\",\n        margin: \"0\",\n    }\n}\n\nexport const descWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        \"p\": {\n            textOverflow: \"ellipsis\",\n            whiteSpace: \"pre-wrap\",\n            wordBreak: \"break-word\"\n        },\n        \"code\": {\n            padding: \"2px\",\n            color: \"crimson\",\n            borderRadius: \"4px\",\n            backgroundColor: \"#f1f1f1\",\n        }\n    }\n}\n\nexport const linkWrapperStyle = () => {\n\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\n\n    return {\n        borderTop: \"0.3px solid #e8e8e8\",\n        padding: \"10px\",\n        display: \"flex\",\n        margin: 0,\n        alignItems: \"center\",\n        justifyContent: \"space-around\",\n        width: \"100%\",\n        \"li\": {\n            listStyleType: \"none\",\n        },\n        [mq[0]]: {\n            flexDirection: \"column\",\n            \"li\": {\n                padding: \"10px\",\n            },\n        }\n    }\n}\n\nexport const linkStyle = () => {\n\n    return {\n        color: \"rgb(67, 171, 255)!important\",\n        fontWeight: 600,\n        fontSize: \"14px\",\n        \"&:hover\": {\n            color: \"darken(rgb(67, 171, 255), 20%)\",\n            fontWeight: \"600\",\n            fontSize: \"14px\",\n        }\n    }\n}\n\nexport const logoutBtn = () => {\n\n    return {\n        margin: \"16px auto 24px auto\",\n        \"button\": {\n            outline: \"none\",\n            backgroundColor: \"#333\",\n            borderRadius: \"10px\",\n            color: \"white\",\n            padding: \"8px 24px\",\n            \"&:hover\": {\n                cursor: \"pointer\",\n            }\n        },\n        \n    }\n}","export default __webpack_public_path__ + \"static/media/CometChatUI.84b12b0b.png\";","export default __webpack_public_path__ + \"static/media/components.198de238.png\";","export default __webpack_public_path__ + \"static/media/wall.0570c102.png\";","import React from 'react';\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from '@emotion/core';\n\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport {\n  wrapperStyle,\n  titleStyle,\n  subTitleStyle,\n  componentStyle,\n  boxStyle,\n  titleWrapperStyle,\n  thumbnailWrapperStyle,\n  componentTitleStyle,\n  UIComponentStyle,\n  descWrapperStyle,\n  linkWrapperStyle,\n  linkStyle,\n  logoutBtn\n} from \"./style\";\n\nimport * as actions from '../../store/action';\n\nimport CometChatUI from \"./resources/CometChatUI.png\";\nimport Component from \"./resources/components.png\"; \nimport listComponent from \"./resources/wall.png\";\n\nclass HomePage extends React.Component {\n\n  render() {\n\n    let authRedirect = null;\n    if (!this.props.isLoggedIn) {\n      authRedirect = <Redirect to=\"/login\" />\n    }\n\n    return (\n        <div css={wrapperStyle()}>\n          {authRedirect}\n          <p css={titleStyle()}>The UI Kit has different ways to make fully customizable UI required to build a chat application.</p>\n          <p css={subTitleStyle()}>The UI Kit has been developed to help developers of different levels of experience to build a chat application in a few minutes to a couple of hours.</p>          \n\n          <div css={UIComponentStyle()}>\n            <div css={boxStyle()}>\n              <div css={titleWrapperStyle()}>\n                <div css={thumbnailWrapperStyle}><img src={CometChatUI} alt=\"CometChatUI\" /></div>\n                <h2 css={componentTitleStyle()}>CometChatUI</h2>\n              </div>\n              <div css={descWrapperStyle()}>\n                <p>The <code>CometChatUI</code> component launches a fully working chat application.</p>\n              </div>\n              <ul css={linkWrapperStyle()}>\n                <li><Link css={linkStyle()} to=\"/embedded-app\">Launch</Link></li>\n              </ul>\n            </div>\n          </div>\n\n          <div css={componentStyle()}>\n            <div css={boxStyle()}>\n              <div css={titleWrapperStyle()}>\n                <div css={thumbnailWrapperStyle}><img src={Component} alt=\"Conversations\" /></div>\n                <h2 css={componentTitleStyle()}>Conversations</h2>\n              </div>\n              <div css={descWrapperStyle()}>\n                <p>The <code>CometChatConversationListWithMessages</code> component launches Conversation list with messaging.</p>\n              </div>\n              <ul css={linkWrapperStyle()}>\n                <li><Link css={linkStyle()} to=\"/conversations\">Launch</Link></li>\n              </ul>\n            </div>\n\n            <div css={boxStyle()}>\n              <div css={titleWrapperStyle()}>\n                <div css={thumbnailWrapperStyle}><img src={Component} alt=\"Groups\" /></div>\n                <h2 css={componentTitleStyle()}>Groups</h2>\n              </div>\n              <div css={descWrapperStyle()}>\n                <p>The <code>CometChatGroupListWithMessages</code> component launches Group list with messaging.</p>\n              </div>\n              <ul css={linkWrapperStyle()}>\n              <li><Link css={linkStyle()} to=\"/groups\">Launch</Link></li>\n              </ul>\n            </div>\n            \n            <div css={boxStyle()}>\n              <div css={titleWrapperStyle()}>\n                <div css={thumbnailWrapperStyle}><img src={Component} alt=\"Users\" /></div>\n                <h2 css={componentTitleStyle()}>Users</h2>\n              </div>\n              <div css={descWrapperStyle()}>\n                <p>The <code>CometChatUserListWithMessages</code> component launches User list with messaging.</p>\n              </div>\n              <ul css={linkWrapperStyle()}>\n              <li><Link css={linkStyle()} to=\"/users\">Launch</Link></li>\n              </ul>\n            </div>\n          </div>\n\n          <div css={componentStyle()}>\n\n            <div css={boxStyle()}>\n              <div css={titleWrapperStyle()}>\n                <div css={thumbnailWrapperStyle}><img src={listComponent} alt=\"Conversation List\" /></div>\n                <h2 css={componentTitleStyle()}>Conversation List</h2>\n              </div>\n              <div css={descWrapperStyle()}>\n                <p>The <code>CometChatConversationList</code> component launches Conversation list.</p>\n              </div>\n              <ul css={linkWrapperStyle()}>\n                <li><Link css={linkStyle()} to=\"/conversation-list\">Launch</Link></li>\n              </ul>\n            </div>\n\n            <div css={boxStyle()}>\n              <div css={titleWrapperStyle()}>\n                <div css={thumbnailWrapperStyle}><img src={listComponent} alt=\"Group List\" /></div>\n                <h2 css={componentTitleStyle()}>Group List</h2>\n              </div>\n              <div css={descWrapperStyle()}>\n                <p>The <code>CometChatGroupList</code> component launches Group list.</p>\n              </div>\n              <ul css={linkWrapperStyle()}>\n              <li><Link css={linkStyle()} to=\"/group-list\">Launch</Link></li>\n              </ul>\n            </div>\n\n            <div css={boxStyle()}>\n              <div css={titleWrapperStyle()}>\n                <div css={thumbnailWrapperStyle}><img src={listComponent} alt=\"User List\" /></div>\n                <h2 css={componentTitleStyle()}>User List</h2>\n              </div>\n              <div css={descWrapperStyle()}>\n                <p>The <code>CometChatUserList</code> component launches User list.</p>\n              </div>\n              <ul css={linkWrapperStyle()}>\n              <li><Link css={linkStyle()} to=\"/user-list\">Launch</Link></li>\n              </ul>\n            </div>\n          </div>\n\n        <div css={logoutBtn()}><button type=\"button\" onClick={this.props.onLogout}>Logout</button></div>\n        </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.loading,\n    error: state.error,\n    isLoggedIn: state.isLoggedIn\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onLogout: () => dispatch(actions.logout())\n  };\n};\n\nexport default connect( mapStateToProps, mapDispatchToProps )( HomePage );\n","export const TEXT_MESSAGE_RECEIVED = 'onTextMessageReceived';\nexport const MEDIA_MESSAGE_RECEIVED = 'onMediaMessageReceived';\nexport const CUSTOM_MESSAGE_RECEIVED = 'onCustomMessageReceived';\nexport const MESSAGE_DELIVERED = 'onMessagesDelivered';\nexport const MESSAGE_READ = 'onMessagesRead';\nexport const MESSAGE_DELETED = 'onMessageDeleted';\nexport const MESSAGE_EDITED = 'onMessageEdited';\nexport const TRANSIENT_MESSAGE_RECEIVED = \"onTransientMessageReceived\";\n\nexport const INCOMING_CALL_RECEIVED = 'onIncomingCallReceived';\nexport const OUTGOING_CALL_ACCEPTED = 'onOutgoingCallAccepted';\nexport const OUTGOING_CALL_REJECTED = 'onOutgoingCallRejected';\nexport const INCOMING_CALL_CANCELLED = 'onIncomingCallCancelled';\n\nexport const GROUP_MEMBER_SCOPE_CHANGED = \"onGroupMemberScopeChanged\";\nexport const GROUP_MEMBER_KICKED = \"onGroupMemberKicked\";\nexport const GROUP_MEMBER_BANNED = \"onGroupMemberBanned\";\nexport const GROUP_MEMBER_UNBANNED = \"onGroupMemberUnbanned\";\nexport const GROUP_MEMBER_ADDED = \"onMemberAddedToGroup\";\nexport const GROUP_MEMBER_LEFT = \"onGroupMemberLeft\";\nexport const GROUP_MEMBER_JOINED = \"onGroupMemberJoined\";\n\nexport const USER_ONLINE = \"onUserOnline\";\nexport const USER_OFFLINE = \"onUserOffline\";\n\nexport const TYPING_STARTED = \"onTypingStarted\";\nexport const TYPING_ENDED = \"onTypingEnded\";\n\nexport const CUSTOM_TYPE_POLL = \"extension_poll\";\nexport const CUSTOM_TYPE_STICKER = \"extension_sticker\";\nexport const CUSTOM_TYPE_DOCUMENT = \"extension_document\";\nexport const CUSTOM_TYPE_WHITEBOARD = \"extension_whiteboard\";\nexport const CUSTOM_TYPE_MEETING = \"meeting\";\n\nexport const CONSTANTS = {\n\tLOCALE: \"cometchat:locale\",\n\tACTIVECALL: \"cometchat:activecall\",\n\tMAX_MESSAGE_COUNT: 1000,\n\tMETADATA_TYPE_LIVEREACTION: \"live_reaction\",\n\tLIVE_REACTIONS: { heart: \"./resources/heart.png\", thumbsup: \"\", clap: \"\", wink: \"\" },\n\tMESSAGES_COMPONENT: \"messages\",\n\tEMBEDDED_COMPONENT: \"embedded\",\n\tOUTGOING_DEFAULT_CALLING: \"outgoing_default\",\n\tINCOMING_DEFAULT_CALLING: \"incoming_default\",\n\tINCOMING_DIRECT_CALLING: \"incoming_direct\",\n\tOUTGOING_DIRECT_CALLING: \"outgoing_direct\",\n\tAUDIO: {\n\t\tINCOMING_MESSAGE: \"incomingMessage\",\n\t\tINCOMING_OTHER_MESSAGE: \"incomingOtherMessage\",\n\t\tOUTGOING_MESSAGE: \"outgoingMessage\",\n\t\tINCOMING_CALL: \"incomingCall\",\n\t\tOUTGOING_CALL: \"outgoingCall\",\n\t},\n\tERROR_CODES: {\n\t\tERR_CHAT_API_FAILURE: \"ERR_CHAT_API_FAILURE\",\n\t},\n\tCALLS: {\n\t\tONGOING_CALL: \"noOngoingCall\",\n\t\tONGOING_CALL_SAME_GROUP: \"ongoingDirectCallInSameGroup\",\n\t\tONGOING_CALL_DIFF_GROUP: \"ongoingDirectCallInDifferentGroup\",\n\t},\n\tGROUPS: {\n\t\tOWNER: \"owner\",\n\t},\n\tLIVE_REACTION_INTERVAL: 1500,\n\tFILE_METADATA: \"file\",\n};\n\nexport const ACTIONS = {\n\tMESSAGE_SENT: \"messageSent\",\n\tMESSAGE_COMPOSED: \"messageComposed\",\n\tERROR_IN_SENDING_MESSAGE: \"errorInSendingMessage\",\n\tACCEPT_DIRECT_CALL: \"acceptDirectCall\",\n\tJOIN_DIRECT_CALL: \"joinDirectCall\",\n\tSTART_DIRECT_CALL: \"startDirectCall\",\n\tDIRECT_CALL_ENDED: \"directCallEnded\",\n\tPOLL_CREATED: \"pollCreated\",\n\tGROUP_DELETED: \"groupDeleted\",\n\tGROUP_LEFT: \"leftGroup\",\n\tGROUP_CREATED: \"groupCreated\",\n\tVIEW_DETAIL: \"viewDetail\",\n\tVIEW_THREADED_MESSAGE: \"viewThreadedMessage\",\n\tCLOSE_THREADED_MESSAGE: \"closeThreadedMessage\",\n\tTOGGLE_SIDEBAR: \"toggleSidebar\",\n\tON_MESSAGE_EDITED: \"onMessageEdited\",\n\tON_MESSAGE_DELETED: \"onMessageDeleted\",\n\tON_MESSAGE_READ_DELIVERED: \"onMessageReadAndDelivered\",\n\tDELETE_MESSAGE: \"deleteMessage\",\n\tMESSAGE_DELETED: \"messageDeleted\",\n\tEDIT_MESSAGE: \"editMessage\",\n\tMESSAGE_EDITED: \"messageEdited\",\n\tCLOSE_GROUP_DETAIL: \"closeGroupDetail\",\n\tCLOSE_USER_DETAIL: \"closeUserDetail\",\n\tVIEW_ORIGINAL_IMAGE: \"viewOriginalImage\",\n\tFETCH_GROUP_MEMBERS: \"fetchGroupMembers\",\n\tSCOPECHANGE_GROUPMEMBER_SUCCESS: \"updateGroupMember\",\n\tBAN_GROUP_MEMBER: \"ban\",\n\tKICK_GROUP_MEMBER: \"kick\",\n\tBAN_GROUPMEMBER_SUCCESS: \"banGroupMember\",\n\tKICK_GROUPMEMBER_SUCCESS: \"kickGroupMember\",\n\tCHANGE_SCOPE_GROUP_MEMBER: \"changescope\",\n\tUNBAN_GROUP_MEMBER: \"unban\",\n\tADD_GROUP_MEMBER_SUCCESS: \"addGroupMembers\",\n\tFETCH_BANNED_GROUP_MEMBERS: \"fetchBannedGroupMembers\",\n\tUNBAN_GROUP_MEMBER_SUCCESS: \"unbanGroupMembers\",\n\tREACT_TO_MESSAGE: \"reactToMessage\",\n\tINITIATE_VIDEO_CALL: \"initiateVideoCall\",\n\tINITIATE_AUDIO_CALL: \"initiateAudioCall\",\n\tCHANGE_TAB: \"changeTab\",\n\tITEM_CLICKED: \"itemClicked\",\n\tTHREAD_MESSAGE_COMPOSED: \"threadMessageComposed\",\n\tSEND_LIVE_REACTION: \"sendReaction\",\n\tSTOP_LIVE_REACTION: \"stopReaction\",\n\tSHOW_LIVE_REACTION: \"showReaction\",\n\tCLEAR_EDIT_PREVIEW: \"clearEditPreview\",\n\tMESSAGE_RECEIVED: \"messageReceived\",\n\tCUSTOM_MESSAGE_RECEIVED: \"customMessageReceived\",\n\tMESSAGE_READ: \"messageRead\",\n\tMESSAGES_INITIAL_FETCH: \"messageInitialFetch\",\n\tMESSAGES_FETCHED: \"messageFetched\",\n\tREFRESHING_MESSAGES: \"refreshingMessages\",\n\tMESSAGES_REFRESHED: \"messageRefreshed\",\n\tNEW_MESSAGES: \"newMessagesArrived\",\n\tCLEAR_UNREAD_MESSAGES: \"clearUnreadMessages\",\n\tSTART_AUDIO_CALL: \"startAudioCall\",\n\tSTART_VIDEO_CALL: \"startVideoCall\",\n\tOUTGOING_CALL_ACCEPTED: \"outgoingCallAccepted\",\n\tOUTGOING_CALL_REJECTED: \"outgoingCallRejected\",\n\tOUTGOING_CALL_CANCELLED: \"outgoingCallCancelled\",\n\tINCOMING_CALL_ACCEPTED: \"incomingCallAccepted\",\n\tINCOMING_CALL_REJECTED: \"incomingCallRejected\",\n\tCALL_ENDED: \"callEnded\",\n\tUSER_JOINED_CALL: \"userJoinedCall\",\n\tUSER_LEFT_CALL: \"userLeftCall\",\n\tDELETE_CONVERSATION: \"deleteConversation\",\n\tCONVERSATION_DELETED: \"conversationDeleted\",\n\tSEND_STICKER: \"sendSticker\",\n\tCLOSE_STICKER_KEYBOARD: \"closeStickerKeyboard\",\n\tERROR: \"errorOccurred\",\n\tINFO: \"infoMessage\",\n\tTRANSLATE_MESSAGE: \"translateMessage\"\n};\n\nexport const EVENTS = {\n\tNEW_MESSAGES: \"newMessagesArrived\",\n\tCLEAR_UNREAD_MESSAGES: \"clearUnreadMessages\",\n};\n\n\nexport const KEYS = {\n\tMETADATA: \"metadata\",\n\tINCREMENT_UNREAD_COUNT: \"incrementUnreadCount\",\n};","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class CallAlertManager {\n\n    callListenerId = \"incoming_call_\" + new Date().getTime();\n\n    attachListeners(callback) {\n\n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                    callback(enums.INCOMING_CALL_RECEIVED, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, call);\n                },\n                onOutgoingCallAccepted: call => {\n                    callback(enums.OUTGOING_CALL_ACCEPTED, call);\n                },\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeCallListener(this.callListenerId);\n    }\n}","export const theme = {\n    fontFamily: \"Inter, sans-serif\",\n    fontSize: \"14px\",\n    primaryColor: \"#39f\",\n    secondaryTextColor: \"#808080\",\n    color: {\n        primary: \"#141414\",\n        secondary: \"#cccccc\",\n        darkSecondary: \"#eaeaea\",\n        search: \"rgba(20, 20, 20, 0.4)\",\n        tertiary: \"rgba(20, 20, 20, 0.5)\",\n        grey: \"rgba(20,20,20,0.04)\",\n        helpText: \"rgba(20, 20, 20, 0.6)\",\n        blue: \"#39f\",\n        white: \"#fff\",\n        red: \"#ff3b30\"\n    },\n    borderColor: {\n        primary: \"#eaeaea\",\n        secondary: \"#cccccc\",\n        darkSecondary: \"#eaeaea\",\n        white: \"#fff\",\n        blue: \"#39f\",\n    },\n    backgroundColor: {\n        white: \"#fff\",\n        primary: \"#E6E6E6\",\n        secondary: \"#f6f6f6\",\n        blue: \"#39f\",\n        red: \"#ff3b30\",\n        grey: \"rgba(20,20,20,0.04)\",\n        lightGrey: \"rgba(20, 20, 20, 0.08)\",\n        darkGrey: \"rgba(20,20,20,0.9)\",\n        callScreenGrey: \"#444444\",\n        silver: \"#c4c4c4\"\n    },\n    breakPoints: [\n        \"(min-width: 320px) and (max-width: 767px)\",\n        \"(min-width: 320px) and (max-width: 480px)\",\n        \"(min-width: 481px) and (max-width: 768px)\",\n        \"(min-width: 769px) and (max-width: 1024px)\",\n        \"(min-width: 1025px) and (max-width: 1200px)\",\n    ]\n};\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport { imgStyle } from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatAvatar extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.imgRef = React.createRef();\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tavatarImage: srcIcon\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.setAvatarImage();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tif(prevProps !== this.props) {\n\n\t\t\tthis.setAvatarImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tsetAvatarImage = () => {\n\n\t\tif ((this.props.image).trim().length) {\n\n\t\t\tthis.getImage(this.props.image);\n\n\t\t} else if (Object.keys(this.props.user).length) {\n\n\t\t\tif (this.props.user.hasOwnProperty(\"avatar\")) {\n\n\t\t\t\tconst avatarImage = this.props.user.avatar;\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t} else {\n\n\t\t\t\tconst uid = this.props.user.uid;\n\t\t\t\tconst char = this.props.user.name.charAt(0).toUpperCase();\n\n\t\t\t\tconst avatarImage = this.generateAvatar(uid, char);\n\t\t\t\tthis.getImage(avatarImage);\n\t\t\t}\n\n\t\t} else if (Object.keys(this.props.group).length) {\n\n\t\t\tif (this.props.group.hasOwnProperty(\"icon\")) {\n\n\t\t\t\tconst avatarImage = this.props.group.icon;\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t} else {\n\n\t\t\t\tconst guid = this.props.group.guid;\n\t\t\t\tconst char = this.props.group.name.charAt(0).toUpperCase();\n\n\t\t\t\tconst avatarImage = this.generateAvatar(guid, char);\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t}\n\t\t}\n\t}\n\n\tgetImage = (image) => {\n\n\t\tlet img = new Image();\n\t\timg.src = image;\n\t\timg.onload = () => {\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ avatarImage: image });\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\tgenerateAvatar = (generator, data) => {\n\n\t\tconst stringToColour = function (str) {\n\n\t\t\tlet hash = 0;\n\t\t\tfor (let i = 0; i < str.length; i++) {\n\t\t\t\thash = str.charCodeAt(i) + ((hash << 5) - hash);\n\t\t\t}\n\n\t\t\tlet colour = '#';\n\t\t\tfor (let i = 0; i < 3; i++) {\n\t\t\t\tlet value = (hash >> (i * 8)) & 0xFF;\n\t\t\t\tcolour += ('00' + value.toString(16)).substr(-2);\n\t\t\t}\n\t\t\treturn colour;\n\t\t}\n\n\t\tconst canvas = document.createElement(\"canvas\");\n\t\tconst context = canvas.getContext(\"2d\");\n\n\t\tcanvas.width = 200;\n\t\tcanvas.height = 200;\n\n\t\t// Draw background\n\t\tcontext.fillStyle = stringToColour(generator);\n\t\tcontext.fillRect(0, 0, canvas.width, canvas.height);\n\n\t\t// Draw text\n\t\tcontext.font = \"bold 100px 'Inter', sans-serif\";\n\t\tcontext.fillStyle = \"white\";//foregroundColor;\n\t\tcontext.textAlign = \"center\";\n\t\tcontext.textBaseline = \"middle\";\n\t\tcontext.fillText(data, canvas.width / 2, canvas.height / 2);\n\n\t\treturn canvas.toDataURL(\"image/png\");\n\t}\n\n\trender() {\n\n\t\tconst borderWidth = this.props.borderWidth;\n\t\tconst borderStyle = this.props.borderStyle;\n\t\tconst borderColor = this.props.borderColor;\n\t\tconst cornerRadius = this.props.cornerRadius;\n\n\t\tconst getStyle = () => ({ borderWidth: borderWidth, borderStyle: borderStyle, borderColor: borderColor, borderRadius: cornerRadius });\n\n\t\treturn (\n\t\t\t<img src={this.state.avatarImage} css={imgStyle()} alt={this.state.avatarImage} style={getStyle()} ref={el => { this.imgRef = el;}} />\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatAvatar.defaultProps = {\n\tborderWidth: \"1px\",\n\tborderStyle: \"solid\",\n\tborderColor: theme.borderColor.primary,\n\tcornerRadius: \"50%\",\n\ttheme: theme,\n\timage: \"\",\n\tuser: {},\n\tgroup: {},\n};\n\nCometChatAvatar.propTypes = {\n\tborderWidth: PropTypes.string,\n\tborderStyle: PropTypes.string,\n\tborderColor: PropTypes.string,\n\tcornerRadius: PropTypes.string,\n\timage: PropTypes.string,\n\ttheme: PropTypes.object,\n\tuser: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.User)]),\n\tgroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)])\n}\n\nexport { CometChatAvatar };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const imgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        display: \"inherit\",\n        width: \"100%\",\n        height: \"100%\"\n    }\n}","export const backdropStyle = (props) => {\n\n    return {\n        zIndex: \"3\",\n        backgroundColor: \"#000\",\n        opacity: \".3\",\n        position: \"fixed\",\n        width: \"100%\",\n        height: \"100%\",\n        top: \"0\",\n        left: \"0\",\n        cursor: \"pointer\",\n        transition: \"background .3s ease-out 0\",\n        ...props.style,\n    }\n}","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport {\n    backdropStyle\n} from \"./style\";\n\nconst CometChatBackdrop = props => (props.show ? <div css={backdropStyle(props)} className=\"modal__backdrop\" onClick={props.clicked}></div> : null);\n\n// Specifies the default values for props:\nCometChatBackdrop.defaultProps = {\n\tshow: false,\n\tstyle: {},\n\tclicked: () => {},\n};\n\nCometChatBackdrop.propTypes = {\n    show: PropTypes.bool,\n    style: PropTypes.object,\n    clicked: PropTypes.func,\n}\n\nexport { CometChatBackdrop };","export const badgeStyle = (props) => {\n\n    return {\n        display: \"block\",\n        fontSize: \"12px\",\n        width: \"auto\",\n        height: \"18px\",\n        borderRadius: \"16px\",\n        backgroundColor: `${props.theme.primaryColor}`,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        fontWeight: \"700\",\n        lineHeight: \"18px\",\n        marginLeft: \"4px\",\n        padding: \"0 9px\",\n        marginRight: \"2px\",\n        opacity: \"1\",\n        transition: \"opacity .1s\",\n    }\n}","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { theme } from \"../../../resources/theme\";\nimport { badgeStyle } from \"./style\";\n\nconst CometChatBadgeCount = (props) => {\n\n\tlet badgeCount = null;\n\t\n\tif(props.count) {\n\t\tbadgeCount = (\n\t\t\t<span css={badgeStyle(props)} className=\"unread-count\">{props.count}</span>\n\t\t);\n\t}\n\t\n\treturn badgeCount;\n}\n\n// Specifies the default values for props:\nCometChatBadgeCount.defaultProps = {\n\tcount: 0,\n\ttheme: theme\n};\n\nCometChatBadgeCount.propTypes = {\n\tcount: PropTypes.number,\n\ttheme: PropTypes.object\n}\n\nexport { CometChatBadgeCount };","export const presenceStyle = (props) => {\n\n    let presenceStatus = {\n        backgroundColor: \"#C4C4C4\"\n    }\n\n    if (props.status === \"online\" || props.status === \"available\") {\n        presenceStatus = {\n            backgroundColor: \"#3BDF2F\"\n        }\n    }\n\n    return {\n        width: \"9px\",\n        height: \"9px\",\n        top: \"-12px\",\n        float: \"right\",\n        position: \"relative\",\n        ...presenceStatus\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\"\nimport PropTypes from \"prop-types\"\n\nimport {CometChatContext} from \"../../../util/CometChatContext\"\n\nimport {presenceStyle} from \"./style\"\n\nconst CometChatUserPresence = props => {\n\n\tconst context = React.useContext(CometChatContext);\n    const [presence, setPresence] = React.useState(false);\n\n    const togglePresence = () => {\n\n        context.FeatureRestriction.isUserPresenceEnabled().then(response => {\n\n            if (response !== presence) {\n                setPresence(response);\n            }\n\n        }).catch(error => {\n\n            if (presence !== false) {\n                setPresence(false);\n            }\n        })\n\n    }\n\n    React.useEffect(togglePresence);\n\n\t//if user presence feature is disabled\n\tif (presence === false) {\n\t\treturn null\n\t}\n\n\tconst borderWidth = props.borderWidth\n\tconst borderColor = props.borderColor\n\tconst cornerRadius = props.cornerRadius\n\n\tconst getStyle = () => ({borderWidth: borderWidth, borderStyle: \"solid\", borderColor: borderColor, borderRadius: cornerRadius})\n\n\treturn <span css={presenceStyle(props)} className=\"presence\" style={getStyle()}></span>\n}\n\n// Specifies the default values for props:\nCometChatUserPresence.defaultProps = {\n\tborderWidth: \"1px\",\n\tborderColor: \"#eaeaea\",\n\tcornerRadius: \"50%\",\n};\n\nCometChatUserPresence.propTypes = {\n\tborderWidth: PropTypes.string,\n\tborderColor: PropTypes.string,\n\tcornerRadius: PropTypes.string,\n}\n\nexport {CometChatUserPresence}","import * as enums from \"../../util/enums.js\";\n\nimport translationAR from \"./locales/ar/translation.json\";\nimport translationDE from \"./locales/de/translation.json\";\nimport translationEN from \"./locales/en/translation.json\";\nimport translationES from \"./locales/es/translation.json\";\nimport translationFR from \"./locales/fr/translation.json\";\nimport translationHI from \"./locales/hi/translation.json\";\nimport translationMS from \"./locales/ms/translation.json\";\nimport translationPT from \"./locales/pt/translation.json\";\nimport translationRU from \"./locales/ru/translation.json\";\nimport translationZH from \"./locales/zh/translation.json\";\nimport translationZHTW from \"./locales/zh-tw/translation.json\";\nimport translationSV from \"./locales/sv/translation.json\";\nimport translationLT from \"./locales/lt/translation.json\";\nimport translationHU from \"./locales/hu/translation.json\";\n\n// the translations\nconst translations = {\n\tar: translationAR,\n\tde: translationDE,\n\ten: translationEN,\n\tes: translationES,\n\tfr: translationFR,\n\thi: translationHI,\n\tms: translationMS,\n\tpt: translationPT,\n\tru: translationRU,\n\tzh: translationZH,\n\t\"zh-tw\": translationZHTW,\n\tsv: translationSV,\n\tlt: translationLT,\n\thu: translationHU,\n};\n\nclass Translator {\n\n    static key = enums.CONSTANTS[\"LOCALE\"];\n    static rtlLanguages = [\"ar\"];\n    static defaultLanguage = \"en\";\n\n    static getLanguage = () => {\n\n        return localStorage.getItem(this.key);\n    }\n\n    static setLanguage = (language) => {\n\n        const item = this.key;\n        localStorage.setItem(item, language);\n    }\n\n    static getBrowserLanguage = () => ((navigator.languages && navigator.languages[0]) || navigator.language || navigator.userLanguage);\n\n    static getDefaultLanguage = () => {\n\n        //get the language from localstorage\n        const savedLanguage = this.getLanguage();\n\n        //get the language set in the browser\n        const browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n        let browserLanguage = browserLanguageCode;\n\n        //check if the language set in the browser has hyphen(-), if yes split and take the first element of the array\n        if (browserLanguageCode !== \"zh-tw\" && browserLanguageCode.indexOf(\"-\") !== -1) {\n\n            const browserLanguageArray = browserLanguageCode.split(\"-\");\n            browserLanguage = browserLanguageArray[0];\n        }\n\n        //if there is language set in localstorage and it is different from browser language, update local storage and return the language code\n        if (savedLanguage) {\n\n            if (savedLanguage !== browserLanguage) {\n\n                this.setLanguage(browserLanguage);\n                \n                //if the translations are not available, default to en\n                return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n                \n            } else {\n\n                //if the translations are not available, default to en\n                return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n            }\n\n        } else {\n\n            this.setLanguage(browserLanguage);\n\n            //if the translations are not available, default to en\n            return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n        }\n    }\n\n    static getDirection(language) {\n        return this.rtlLanguages.includes(language) ? \"rtl\" : \"ltr\";\n    }\n\n    static translate(str, language) {\n\n        if (translations.hasOwnProperty(language)) {\n\n            const languageDb = translations[language];\n            if (languageDb.hasOwnProperty(str)) {\n                return languageDb[str];\n            }\n\n            return str;\n\n        } else {\n\n            const languageDb = translations[this.defaultLanguage];\n            if (languageDb.hasOwnProperty(str)) {\n                return languageDb[str];\n            }\n\n            return str;\n        }\n    }\n}\n\nexport default Translator;","export const notificationContainerStyle = (props, keyframes) => {\n\n    // const toastInRight = keyframes`\n    // from {transform: translateX(100%);}\n    // to {transform: translateX(0);}`;\n\n    // const toastInLeft = keyframes`\n    //     from {transform: translateX(-100%); }\n    //     to {transform: translateX(0);}`;\n\n    // let positionProp = {}\n    // if (props.position === \"top-right\") {\n\n    //     positionProp = {\n    //         top: \"12px\",\n    //         right: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInRight} .5s`\n    //     };\n\n    // } else if (props.position === \"bottom-right\") {\n\n    //     positionProp = {\n    //         bottom: \"12px\",\n    //         right: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInRight} .5s`\n    //     };\n\n    // } else if (props.position === \"top-left\") {\n\n    //     positionProp = {\n    //         top: \"12px\",\n    //         left: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInLeft} .5s`\n    //     };\n\n    // } else if (props.position === \"bottom-left\") {\n\n    //     positionProp = {\n    //         bottom: \"12px\",\n    //         left: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInLeft} .5s`\n    //     };\n    // }\n\n    return {\n        fontSize: \"14px\",\n        boxSizing: \"border-box\",\n        position: \"absolute\",\n        zIndex: \"5\",\n        width: \"80%\",\n        maxWidth: \"320px\",\n        top: \"70px\",\n        left: \"50%\",\n        transform: \"translate(-50%, 0)\",\n    }\n}\n\nexport const notificationStyle = (props, state) => {\n\n    let backgroundColorProp = {\n        backgroundColor: \"#000\",\n    };\n    if (state.type === \"ERROR\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#d9534f\",\n        };\n\n    } else if (state.type === \"SUCCESS\") {\n       \n        backgroundColorProp = {\n            backgroundColor: \"#5cb85c\",\n        };\n\n    } else if (state.type === \"INFO\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#5bc0de\",\n        };\n\n    } else if (state.type === \"WARNING\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#f0ad4e\",\n        };\n    }\n\n    return {\n        transition: \".3s ease\",\n        position: \"relative\",\n        pointerEvents: \"auto\",\n        overflow: \"hidden\",\n        padding: \"8px\",\n        marginBottom: \"16px\",\n        fontSize: \"13px\",\n        width: \"100%\",\n        minHeight: \"50px\",\n        boxShadow: \"0 0 10px #999\",\n        color: \"#fff\",\n        ...backgroundColorProp,\n        backgroundPosition: \"15px\",\n        backgroundRepeat: \"no-repeat\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        boxSizing: \"border-box\"\n    }\n}\n\nexport const notificationIconStyle = () => {\n\n    return {\n        marginRight: \"16px\",\n        width: \"25px\",\n        height: \"25px\",\n        flexShrink: \"0\",\n        \"img\": {\n            maxWidth: \"100%\",\n        }\n    }\n}\n\nexport const notificationMessageContainerStyle = () => {\n\n    return {\n        width: \"calc(100% - 60px)\"\n    }\n}\n\nexport const notificationMessageStyle = () => {\n\n    return {\n        margin: \"0\",\n        textAlign: \"left\",\n        marginLeft: \"-1px\",\n    }\n}\n\nexport const notificationCloseButtonStyle = () => {\n\n    return {\n        width: \"25px\",\n        height: \"25px\",\n        padding: \"0\",\n        border: \"none\",\n        outline: \"none\",\n        backgroundColor: \"transparent\",\n        cursor:\" pointer\",\n        \"img\": {\n            flexShrink: \"0\",\n            maxWidth: \"100%\"\n        }\n    }\n}\n\nexport const iconStyle = (img, theme) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${theme.color.white}`,\n    };\n}\n","export default __webpack_public_path__ + \"static/media/close-circle-filled.2b9a0857.svg\";","export default __webpack_public_path__ + \"static/media/checkmark-filled.73f2a848.svg\";","export default __webpack_public_path__ + \"static/media/warning-filled.178b4e9a.svg\";","export default __webpack_public_path__ + \"static/media/info-filled.2fc272ce.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    notificationContainerStyle,\n    notificationStyle,\n    notificationIconStyle,\n    notificationMessageContainerStyle,\n    notificationMessageStyle,\n    notificationCloseButtonStyle,\n    iconStyle\n} from \"./style\";\n\nimport closeIcon from \"./resources/close-circle-filled.svg\";\nimport successIcon from \"./resources/checkmark-filled.svg\";\nimport errorIcon from \"./resources/warning-filled.svg\";\nimport infoIcon from \"./resources/info-filled.svg\";\nimport warningIcon from \"./resources/warning-filled.svg\";\n\nexport class CometChatToastNotification extends React.Component {\n\n    interval;\n    static types = {\n        \"INFO\": \"info\",\n        \"WARNING\": \"warning\",\n        \"SUCCESS\": \"success\",\n        \"ERROR\": \"error\",\n    }\n\n    constructor(props) {\n\n        super(props);\n\n        this._isMounted = false;\n        this.state = { \n            type: \"\",\n            message: \"\"\n        };\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount = () => {\n\n        this._isMounted = false;\n        this.clearAutoDismiss();\n    }\n\n    setInfo = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"INFO\", message: message, icon: infoIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setError = (message) => {\n        \n        if (this._isMounted) {\n\n            this.setState({ type: \"ERROR\", message: message, icon: errorIcon });\n            //this.setAutoDismiss();\n        }\n    }\n\n    setSuccess = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"SUCCESS\", message: message, icon: successIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setWarning = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"WARNING\", message: message, icon: warningIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setAutoDismiss = () => {\n\n        this.clearAutoDismiss();\n        \n        if (this.props.autoDelete) {\n            this.interval = setTimeout(() => this.deleteToast(), this.props.dismissTime);\n        }\n    }\n\n    clearAutoDismiss = () => {\n        clearTimeout(this.interval);\n    }\n\n    deleteToast = () => {\n        this.setState({ type: \"\", message: \"\", icon: \"\" });\n    }\n\n    render() {\n\n        if (!this.state.type.trim().length || !this.state.message.trim().length) {\n            return null;\n        }\n\n        const messageClassName = `toast__message message-${CometChatToastNotification.types[this.state.type]}`;\n        const iconClassName = `toast__icon icon-${CometChatToastNotification.types[this.state.type]}`;\n        let toastIcon = (this.state.icon.trim().length) ? (\n\n            <div css={notificationIconStyle()} className={iconClassName}>\n                <i css={iconStyle(this.state.icon, this.props.theme)} title={Translator.translate(\"CLOSE\", this.props.lang)}></i>\n            </div>\n        ) : null;\n\n        return (\n            <div css={notificationContainerStyle(this.props, keyframes)} className=\"toast__notification\">\n                <div css={notificationStyle(this.props, this.state)} className=\"toast__container\">\n                    {toastIcon}\n                    <div css={notificationMessageContainerStyle()} className={messageClassName}>\n                        <p css={notificationMessageStyle()}>{Translator.translate(this.state.message, this.props.lang)}</p>\n                    </div>\n                    <button css={notificationCloseButtonStyle()} type=\"button\" onClick={this.deleteToast} className=\"toast__close\">\n                        <i css={iconStyle(closeIcon, this.props.theme)} title={Translator.translate(\"CLOSE\", this.props.lang)}></i>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nCometChatToastNotification.defaultProps = {\n\ttype: \"\",\n\tmessage: \"\",\n\ticon: \"\",\n\tposition: \"center\",\n\tautoDelete: true,\n\tdismissTime: 3000,\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n};\n\nCometChatToastNotification.propTypes = {\n\ttype: PropTypes.oneOf(Object.values(CometChatToastNotification.types).concat(\"\")),\n\tmessage: PropTypes.string.isRequired,\n\ticon: PropTypes.string.isRequired,\n\tposition: PropTypes.oneOf([\"top-right\", \"bottom-right\", \"top-left\", \"bottom-left\", \"center\"]),\n\tautoDelete: PropTypes.bool,\n\tdismissTime: PropTypes.number,\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n};\n","export const alertWrapperStyle = props => {\n\treturn {\n\t\twidth: \"calc(100% - 32px)\",\n\t\theight: \"auto\",\n\t\tbackgroundColor: `${props.theme.backgroundColor.white}`,\n\t\tposition: \"absolute\",\n\t\tmargin: \"0 auto\",\n\t\tpadding: \"16px\",\n\t\tfontSize: \"13px\",\n\t\tborderRadius: \"8px\",\n\t\tborder: \"1px solid #eee\",\n\t\tzIndex: \"4\",\n\t\ttop: \"50%\",\n\t\tleft: \"0\",\n\t\tright: \"0\",\n\t\ttransform: \"translateY(-50%)\",\n\t};\n};\n\nexport const alertMessageStyle = () => {\n\treturn {\n\t\ttextAlign: \"center\"\n\t}\n}\n\nexport const alertButtonStyle = (props) => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tmargin: \"24px 0 0 0\",\n\t\t\"> button\": {\n\t\t\tpadding: \"5px 24px\",\n\t\t\tmargin: \"0 8px\",\n\t\t\tborderRadius: \"4px\",\n\t\t\tfontSize: \"12px\",\n\t\t\tfontWeight: \"600\",\n\t\t\tborder: `1px solid ${props.theme.primaryColor}`,\n\t\t},\n\t\t\"> button[value=yes]\": {\n\t\t\tbackgroundColor: `${props.theme.primaryColor}`,\n\t\t\tcolor: `${props.theme.color.white}`,\n\t\t},\n\t\t\"> button[value=no]\": {\n\t\t\tbackgroundColor: `${props.theme.backgroundColor.secondary}`,\n\t\t},\n\t};\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\n\nimport { CometChatBackdrop } from \"../\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {alertWrapperStyle, alertMessageStyle, alertButtonStyle} from \"./style\";\n\nclass CometChatConfirmDialog extends React.Component {\n\n    render() {\n\n        const confirmButtonText = this.props?.confirmButtonText ? this.props.confirmButtonText : Translator.translate(\"YES\", this.context.language);\n        const cancelButtonText = this.props?.cancelButtonText ? this.props.cancelButtonText : Translator.translate(\"NO\", this.getContext().language);\n\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} style={{position:\"absolute\"}} clicked={this.props.close} />\n                <div className=\"confirm__dialog\" css={alertWrapperStyle(this.props)}>\n                    <div className=\"confirm__message\" css={alertMessageStyle(this.props)}>{this.props?.message}</div>\n                    <div className=\"confirm__buttons\" css={alertButtonStyle(this.props)}>\n                        <button type=\"button\" value=\"no\" onClick={this.props.onClick}>{cancelButtonText}</button>\n                        <button type=\"button\" value=\"yes\" onClick={this.props.onClick}>{confirmButtonText}</button>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nexport { CometChatConfirmDialog };\n","import tabList from \"../resources/tabs.json\";\n\nexport class UIKitSettings {\n\twidgetSettings;\n\n\tstatic userListFilterOptions = {\n\t\tALL: \"all_users\",\n\t\tNONE: \"none\",\n\t\tFRIENDS: \"friends\",\n\t};\n\n\tstatic groupListFilterOptions = {\n\t\tPUBLIC: \"public_groups\",\n\t\tPASSWORD: \"password_protected_groups\",\n\t\tPUBLIC_AND_PASSWORD: \"public_and_password_protected_groups\",\n\t};\n\n\tstatic chatListFilterOptions = {\n\t\tUSERS: \"users\",\n\t\tGROUPS: \"groups\",\n\t\tUSERS_AND_GROUPS: \"all_chats\",\n\t};\n\n\tconstructor() {\n\t\tthis.customJS = \"\";\n\t\tthis.customCSS = \"\";\n\t\tthis.backgroundColor = \"\";\n\t\tthis.primaryColor = \"\";\n\t\tthis.foregroundColor = \"\";\n\t\tthis.overrideSystemBackgroundColor = \"\";\n\n\t\tthis.chatWindow = window;\n\n\t\tthis.userListMode = UIKitSettings.userListFilterOptions[\"ALL\"];\n\t\tthis.groupInMode = UIKitSettings.groupListFilterOptions[\"PUBLIC_AND_PASSWORD\"];\n\t\tthis.chatListMode = UIKitSettings.chatListFilterOptions[\"USERS_AND_GROUPS\"];\n\n\t\tthis.chats = true;\n\t\tthis.calls = false;\n\t\tthis.users = true;\n\t\tthis.groups = true;\n\t\tthis.userSettings = true;\n\t\tthis.tabs = Object.values(tabList);\n\n\t\tthis.searchUsers = true;\n\t\tthis.searchGroups = true;\n\t\tthis.searchMessages = true;\n\t\tthis.searchChats = true;\n\n\t\tthis.unreadCount = true;\n\n\t\tthis.publicGroup = true;\n\t\tthis.privateGroup = true;\n\t\tthis.passwordGroup = true;\n\n\t\tthis.blockUser = true;\n\t\tthis.viewShareMedia = true;\n\n\t\tthis.groupCreation = true;\n\t\tthis.allowDeleteGroup = true;\n\t\tthis.joinOrLeaveGroup = true;\n\t\tthis.viewGroupMembers = true;\n\t\tthis.kickMember = true;\n\t\tthis.banMember = true;\n\t\tthis.allowPromoteDemoteMembers = true;\n\t\tthis.allowAddMembers = true;\n\n\t\tthis.callNotifications = true;\n\t\tthis.joinLeaveNotifications = true;\n\n\t\tthis.enableSoundForMessages = true;\n\t\tthis.enableSoundForCalls = true;\n\n\t\tthis.userVideoCall = true;\n\t\tthis.groupVideoCall = true;\n\t\tthis.userAudioCall = true;\n\t\tthis.groupAudioCall = true;\n\n\t\tthis.sendTypingIndicator = true;\n\t\tthis.showUserPresence = true;\n\t\tthis.showReadDeliveryReceipts = true;\n\n\t\tthis.threadedChats = true;\n\t\tthis.hideDeletedMessages = false;\n\n\t\tthis.sendMessageInOneOnOne = true;\n\t\tthis.sendMessageInGroup = true;\n\t\tthis.editMessage = true;\n\t\tthis.deleteMessage = true;\n\t\tthis.replyingToMessage = true;\n\n\t\tthis.sendEmojis = true;\n\t\tthis.sendEmojisInLargerSize = true;\n\t\tthis.sendGifs = false;\n\t\tthis.shareCopyForwardMessage = false;\n\t\tthis.sendFiles = true;\n\t\tthis.sendPhotoVideos = true;\n\t\tthis.sendVoiceNotes = true;\n\t\tthis.sendLiveReaction = true;\n\n\t\tthis.sendMessageReaction = true;\n\t\tthis.collaborativeWhiteboard = true;\n\t\tthis.collaborativeDocument = true;\n\t\tthis.sendStickers = true;\n\t\tthis.shareLocation = false;\n\t\tthis.polls = true;\n\t\tthis.messageTranslation = true;\n\n\t\tthis.allowModeratorToDeleteMemberMessages = true;\n\t\tthis.setGroupInQnaModeByModerators = false;\n\t\tthis.highlightMessageFromModerators = false;\n\t\tthis.emailReplies = true;\n\t\tthis.smartReplies = true;\n\t\tthis.callRecording = true;\n\t\tthis.callLiveStreaming = true;\n\t\tthis.callTranscription = true;\n\t\tthis.thumbnailGeneration = true;\n\t\tthis.linkPreview = true;\n\t\tthis.saveMessages = true;\n\t\tthis.pinMessages = true;\n\t\tthis.richMediaPreview = true;\n\t\tthis.voiceTranscription = true;\n\t\tthis.mentions = true;\n\t\tthis.xssFilter = true;\n\t\tthis.profanityFilter = true;\n\t\tthis.imageModeration = true;\n\t\tthis.dataMasking = true;\n\t\tthis.malwareScanner = true;\n\t\tthis.sentimentAnalysis = true;\n\t\tthis.inflightMessageModeration = true;\n\t\tthis.messageHistory = true;\n\n\t\tthis.viewProfile = true;\n\t\tthis.messageInPrivate = true;\n\t}\n\n\tsetCustomJS = customJS => {\n\t\tthis.customJS = customJS;\n\t};\n\n\tsetCustomCSS = customCSS => {\n\t\tthis.customCSS = customCSS;\n\t};\n\n\tsetTabs = tabList => {\n\t\tthis.tabs = tabList;\n\t};\n\n\tsetUserSettings = userSettings => {\n\t\tthis.userSettings = userSettings;\n\t};\n\n\tsetCalls = calls => {\n\t\tthis.calls = calls;\n\t};\n\n\tsetUsers = users => {\n\t\tthis.users = users;\n\t};\n\n\tsetChats = chats => {\n\t\tthis.chats = chats;\n\t};\n\n\tsetGroups = groups => {\n\t\tthis.groups = groups;\n\t};\n\n\tsetChatListMode = option => {\n\t\tif (!option.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst chatListFilterKey = this.returnMatchedKey(UIKitSettings.chatListFilterOptions, option);\n\t\tif (chatListFilterKey) {\n\t\t\tthis.chatListMode = UIKitSettings.chatListFilterOptions[chatListFilterKey];\n\t\t}\n\t};\n\n\tsetUserListMode = option => {\n\t\tif (!option.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst userListFilterKey = this.returnMatchedKey(UIKitSettings.userListFilterOptions, option);\n\t\tif (userListFilterKey) {\n\t\t\tthis.userListMode = UIKitSettings.userListFilterOptions[userListFilterKey];\n\t\t}\n\t};\n\n\tsetGroupListMode = () => {};\n\n\tsetUserVideoCall = userVideoCall => {\n\t\tthis.userVideoCall = userVideoCall;\n\t};\n\n\tsetGroupVideoCall = groupVideoCall => {\n\t\tthis.groupVideoCall = groupVideoCall;\n\t};\n\n\tsetUserAudioCall = userAudioCall => {\n\t\tthis.userAudioCall = userAudioCall;\n\t};\n\n\tsetGroupAudioCall = groupAudioCall => {\n\t\tthis.groupAudioCall = groupAudioCall;\n\t};\n\n\tsetEditMessage = editMessage => {\n\t\tthis.editMessage = editMessage;\n\t};\n\n\tsetSendMessageInOneOnOne = sendMessageInOneOnOne => {\n\t\tthis.sendMessageInOneOnOne = sendMessageInOneOnOne;\n\t};\n\n\tsetSendMessageInGroup = sendMessageInGroup => {\n\t\tthis.sendMessageInGroup = sendMessageInGroup;\n\t};\n\n\tsetJoinOrLeaveGroup = joinOrLeaveGroup => {\n\t\tthis.joinOrLeaveGroup = joinOrLeaveGroup;\n\t};\n\n\tsetBlockUser = blockUser => {\n\t\tthis.blockUser = blockUser;\n\t};\n\n\tsetSendEmojis = sendEmojis => {\n\t\tthis.sendEmojis = sendEmojis;\n\t};\n\n\tsetSendEmojisInLargerSize = sendEmojisInLargerSize => {\n\t\tthis.sendEmojisInLargerSize = sendEmojisInLargerSize;\n\t};\n\n\tsetSendGifs = sendGifs => {\n\t\tthis.sendGifs = sendGifs;\n\t};\n\n\tsetShareCopyForwardMessage = shareCopyForwardMessage => {\n\t\tthis.shareCopyForwardMessage = shareCopyForwardMessage;\n\t};\n\n\tsetSendFiles = sendFiles => {\n\t\tthis.sendFiles = sendFiles;\n\t};\n\n\tsetSendPhotoVideos = sendPhotoVideos => {\n\t\tthis.sendPhotoVideos = sendPhotoVideos;\n\t};\n\n\tsetViewShareMedia = viewShareMedia => {\n\t\tthis.viewShareMedia = viewShareMedia;\n\t};\n\n\tsetEnableSoundForMessages = enableSoundForMessages => {\n\t\tthis.enableSoundForMessages = enableSoundForMessages;\n\t};\n\n\tsetEnableSoundForCalls = enableSoundForCalls => {\n\t\tthis.enableSoundForCalls = enableSoundForCalls;\n\t};\n\n\tsetSendStickers = sendStickers => {\n\t\tthis.sendStickers = sendStickers;\n\t};\n\n\tsetViewGroupMembers = viewGroupMembers => {\n\t\tthis.viewGroupMembers = viewGroupMembers;\n\t};\n\n\tsetCallNotifications = callNotifications => {\n\t\tthis.callNotifications = callNotifications;\n\t};\n\n\tsetAllowDeleteGroup = allowDeleteGroup => {\n\t\tthis.allowDeleteGroup = allowDeleteGroup;\n\t};\n\n\tsetKickMember = kickMember => {\n\t\tthis.kickMember = kickMember;\n\t};\n\n\tsetBanMember = banMember => {\n\t\tthis.banMember = banMember;\n\t};\n\n\tsetAllowPromoteDemoteMembers = allowPromoteDemoteMembers => {\n\t\tthis.allowPromoteDemoteMembers = allowPromoteDemoteMembers;\n\t};\n\n\tsetAllowAddMembers = allowAddMembers => {\n\t\tthis.allowAddMembers = allowAddMembers;\n\t};\n\n\tsetShareLocation = shareLocation => {\n\t\tthis.shareLocation = shareLocation;\n\t};\n\n\tsetJoinLeaveNotifications = joinLeaveNotifications => {\n\t\tthis.joinLeaveNotifications = joinLeaveNotifications;\n\t};\n\n\tsetSendVoiceNotes = sendVoiceNotes => {\n\t\tthis.sendVoiceNotes = sendVoiceNotes;\n\t};\n\n\tsetMessageTranslation = messageTranslation => {\n\t\tthis.messageTranslation = messageTranslation;\n\t};\n\n\tsetGroupCreation = groupCreation => {\n\t\tthis.groupCreation = groupCreation;\n\t};\n\n\tsetSendTypingIndicator = sendTypingIndicator => {\n\t\tthis.sendTypingIndicator = sendTypingIndicator;\n\t};\n\n\tsetShowUserPresence = showUserPresence => {\n\t\tthis.showUserPresence = showUserPresence;\n\t};\n\n\tsetDeleteMessage = deleteMessage => {\n\t\tthis.deleteMessage = deleteMessage;\n\t};\n\n\tsetThreadedChats = threadedChats => {\n\t\tthis.threadedChats = threadedChats;\n\t};\n\n\tsetReplyingToMessage = replyingToMessage => {\n\t\tthis.replyingToMessage = replyingToMessage;\n\t};\n\n\tsetShowReadDeliveryReceipts = showReadDeliveryReceipts => {\n\t\tthis.showReadDeliveryReceipts = showReadDeliveryReceipts;\n\t};\n\n\tsetHideDeletedMessages = hideDeletedMessages => {\n\t\tthis.hideDeletedMessages = hideDeletedMessages;\n\t};\n\n\tsetEmailReplies = emailReplies => {\n\t\tthis.emailReplies = emailReplies;\n\t};\n\n\tsetSendMessageReaction = sendMessageReaction => {\n\t\tthis.sendMessageReaction = sendMessageReaction;\n\t};\n\n\tsetCollaborativeWhiteboard = collaborativeWhiteboard => {\n\t\tthis.collaborativeWhiteboard = collaborativeWhiteboard;\n\t};\n\n\tsetCollaborativeDocument = collaborativeDocument => {\n\t\tthis.collaborativeDocument = collaborativeDocument;\n\t};\n\n\tsetPolls = polls => {\n\t\tthis.polls = polls;\n\t};\n\n\tsetSendLiveReaction = sendLiveReaction => {\n\t\tthis.sendLiveReaction = sendLiveReaction;\n\t};\n\n\tsetPublicGroup = publicGroup => {\n\t\tthis.publicGroup = publicGroup;\n\t};\n\n\tsetPrivateGroup = privateGroup => {\n\t\tthis.privateGroup = privateGroup;\n\t};\n\n\tsetPasswordGroup = passwordGroup => {\n\t\tthis.passwordGroup = passwordGroup;\n\t};\n\n\tsetAllowModeratorToDeleteMemberMessages = allowModeratorToDeleteMemberMessages => {\n\t\tthis.allowModeratorToDeleteMemberMessages = allowModeratorToDeleteMemberMessages;\n\t}\n\n\tsetUnreadCount = unreadCount => {\n\t\tthis.unreadCount = unreadCount;\n\t};\n\n\tsetSmartReplies = smartReplies => {\n\t\tthis.smartReplies = smartReplies;\n\t};\n\n\tsetSearchUsers = searchUsers => {\n\t\tthis.searchUsers = searchUsers;\n\t};\n\n\tsetSearchGroups = searchGroups => {\n\t\tthis.searchGroups = searchGroups;\n\t};\n\n\tsetSearchMessages = searchMessages => {\n\t\tthis.searchMessages = searchMessages;\n\t};\n\n\tsetCallRecording = callRecording => {\n\t\tthis.callRecording = callRecording;\n\t};\n\n\tsetCallLiveStreaming = callLiveStreaming => {\n\t\tthis.callLiveStreaming = callLiveStreaming;\n\t};\n\n\tsetCallTranscription = callTranscription => {\n\t\tthis.callTranscription = callTranscription;\n\t};\n\n\tsetThumbnailGeneration = thumbnailGeneration => {\n\t\tthis.thumbnailGeneration = thumbnailGeneration;\n\t};\n\n\tsetLinkPreview = linkPreview => {\n\t\tthis.linkPreview = linkPreview;\n\t};\n\n\tsetSaveMessages = saveMessages => {\n\t\tthis.saveMessages = saveMessages;\n\t};\n\n\tsetPinMessages = pinMessages => {\n\t\tthis.pinMessages = pinMessages;\n\t};\n\n\tsetRichMediaPreview = richMediaPreview => {\n\t\tthis.richMediaPreview = richMediaPreview;\n\t};\n\n\tsetVoiceTranscription = voiceTranscription => {\n\t\tthis.voiceTranscription = voiceTranscription;\n\t};\n\n\tsetMentions = mentions => {\n\t\tthis.mentions = mentions;\n\t};\n\n\tsetXssFilter = xssFilter => {\n\t\tthis.xssFilter = xssFilter;\n\t};\n\n\tsetProfanityFilter = profanityFilter => {\n\t\tthis.profanityFilter = profanityFilter;\n\t};\n\n\tsetImageModeration = imageModeration => {\n\t\tthis.imageModeration = imageModeration;\n\t};\n\n\tsetDataMasking = dataMasking => {\n\t\tthis.dataMasking = dataMasking;\n\t};\n\n\tsetMalwareScanner = malwareScanner => {\n\t\tthis.malwareScanner = malwareScanner;\n\t};\n\n\tsetSentimentAnalysis = sentimentAnalysis => {\n\t\tthis.sentimentAnalysis = sentimentAnalysis;\n\t};\n\n\tsetInflightMessageModeration = inflightMessageModeration => {\n\t\tthis.inflightMessageModeration = inflightMessageModeration;\n\t};\n\n\tsetMessageHistory = messageHistory => {\n\t\tthis.messageHistory = messageHistory;\n\t};\n\n\tsetViewProfile = viewProfile => {\n\t\tthis.viewProfile = viewProfile;\n\t};\n\n\tsetMessageInPrivate = messageInPrivate => {\n\t\tthis.messageInPrivate = messageInPrivate;\n\t};\n\n\tsetChatWindow = chatWindow => {\n\t\tthis.chatWindow = chatWindow;\n\t};\n\n\treturnMatchedKey = (matchWith, optionToMatch) => {\n\t\tfor (const [key, value] of Object.entries(matchWith)) {\n\t\t\tif (value === optionToMatch) {\n\t\t\t\treturn key;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n}\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport class FeatureRestriction {\n\t/**\n\t * Core Chat\n\t */\n\tstatic chat_users_list_enabled = \"core.chat.users.list.enabled\";\n\tstatic chat_users_presence_enabled = \"core.chat.users.presence.enabled\";\n\tstatic chat_users_search_enabled = \"core.chat.users.search.enabled\";\n\n\tstatic chat_groups_enabled = \"core.chat.groups.enabled\";\n\tstatic chat_groups_public_enabled = \"core.chat.groups.public.enabled\";\n\tstatic chat_groups_private_enabled = \"core.chat.groups.private.enabled\";\n\tstatic chat_groups_password_enabled = \"core.chat.groups.password.enabled\";\n\tstatic chat_groups_search_enabled = \"core.chat.groups.search.enabled\";\n\n\tstatic chat_messages_media_enabled = \"core.chat.messages.media.enabled\";\n\tstatic chat_messages_threads_enabled = \"core.chat.messages.threads.enabled\";\n\tstatic chat_messages_replies_enabled = \"core.chat.messages.replies.enabled\";\n\tstatic chat_messages_receipts_enabled = \"core.chat.messages.receipts.enabled\";\n\tstatic chat_messages_unread_count_enabled = \"core.chat.messages.unread-count.enabled\";\n\tstatic chat_messages_search_enabled = \"core.chat.messages.search.enabled\";\n\tstatic chat_messages_history_enabled = \"core.chat.messages.history.enabled\";\n\tstatic chat_messages_custom_enabled = \"core.chat.messages.custom.enabled\";\n\n\tstatic chat_one_on_one_enabled = \"core.chat.one-on-one.enabled\";\n\tstatic chat_voice_notes_enabled = \"core.chat.voice-notes.enabled\";\n\tstatic chat_typing_indicator_enabled = \"core.chat.typing-indicator.enabled\";\n\n\t/**\n\t * Voice & Video Calling/Conferencing\n\t */\n\tstatic calls_enabled = \"core.call.enabled\";\n\tstatic call_one_on_one_video_enabled = \"core.call.one-on-one.video.enabled\";\n\tstatic call_groups_video_enabled = \"core.call.groups.video.enabled\";\n\tstatic call_one_on_one_audio_enabled = \"core.call.one-on-one.audio.enabled\";\n\tstatic call_groups_audio_enabled = \"core.call.groups.audio.enabled\";\n\tstatic call_recording_enabled = \"core.call.recording.enabled\";\n\tstatic call_live_streaming_enabled = \"core.call.live-streaming.enabled\";\n\tstatic call_transcript_enabled = \"core.call.transcript.enabled\";\n\n\t/**\n\t * Collaboration\n\t */\n\tstatic collaboration_whiteboard_enabled = \"features.collaboration.whiteboard.enabled\";\n\tstatic collaboration_document_enabled = \"features.collaboration.document.enabled\";\n\n\t/**\n\t * Moderation\n\t */\n\tstatic moderation_groups_moderators_enabled = \"features.moderation.groups.moderators.enabled\";\n\tstatic moderation_users_block_enabled = \"features.moderation.users.block.enabled\";\n\tstatic moderation_groups_kick_enabled = \"features.moderation.groups.kick.enabled\";\n\tstatic moderation_groups_ban_enabled = \"features.moderation.groups.ban.enabled\";\n\tstatic moderation_xss_filter_enabled = \"features.moderation.xss-filter.enabled\";\n\tstatic moderation_profanity_filter_enabled = \"features.moderation.profanity-filter.enabled\";\n\tstatic moderation_image_moderation_enabled = \"features.moderation.image-moderation.enabled\";\n\tstatic moderation_data_masking_enabled = \"features.moderation.data-masking.enabled\";\n\tstatic moderation_malware_scanner_enabled = \"features.moderation.malware-scanner.enabled\";\n\tstatic moderation_sentiment_analysis_enabled = \"features.moderation.sentiment-analysis.enabled\";\n\tstatic moderation_inflight_message_moderation_enabled = \"features.moderation.inflight-message-moderation.enabled\";\n\n\t/**\n\t * User Engagement\n\t */\n\tstatic reactions_enabled = \"features.ue.reactions.enabled\";\n\tstatic emojis_enabled = \"features.ue.emojis.enabled\";\n\tstatic stickers_enabled = \"features.ue.stickers.enabled\";\n\tstatic message_translation_enabled = \"features.ue.message-translation.enabled\";\n\tstatic email_replies_enabled = \"features.ue.email-replies.enabled\";\n\tstatic polls_enabled = \"features.ue.polls.enabled\";\n\tstatic live_reactions_enabled = \"features.ue.live-reactions.enabled\";\n\tstatic smart_replies_enabled = \"features.ue.smart-replies.enabled\";\n\tstatic mentions_enabled = \"features.ue.mentions.enabled\";\n\n\t/**\n\t * User Experience\n\t */\n\tstatic thumbnail_generation_enabled = \"features.ux.thumbnail-generation.enabled\";\n\tstatic link_preview_enabled = \"features.ux.link-preview.enabled\";\n\tstatic messages_saved_enabled = \"features.ux.messages.saved.enabled\";\n\tstatic messages_pinned_enabled = \"features.ux.messages.pinned.enabled\";\n\tstatic rich_media_preview_enabled = \"features.ux.rich-media-preview.enabled\";\n\tstatic voice_transcription_enabled = \"features.ux.voice-transcription.enabled\";\n\n\t/**\n\t * Extensions slug\n\t */\n\tstatic dataMasking = \"data-masking\";\n\tstatic profanityFilter = \"profanity-filter\";\n\tstatic thumbnailGeneration = \"thumbnail-generator\";\n\tstatic linkPreview = \"link-preview\";\n\tstatic richMediaPreview = \"rich-media\";\n\tstatic sticker = \"stickers\";\n\tstatic reactions = \"reactions\";\n\tstatic messageTranslation = \"message-translation\";\n\tstatic smartReplies = \"smart-reply\";\n\tstatic collaborationWhiteboard = \"whiteboard\";\n\tstatic collaborationDocument = \"document\";\n\tstatic pinMessages = \"pin-message\";\n\tstatic saveMessages = \"save-message\";\n\tstatic voiceTranscription = \"voice-transcription\";\n\tstatic polls = \"polls\";\n\tstatic xssFilter = \"xss-filter\";\n\tstatic imageModeration = \"image-moderation\";\n\tstatic malwareScanner = \"virus-malware-scanner\";\n\tstatic sentimentAnalysis = \"sentiment-analysis\";\n\tstatic emailReplies = \"email-replies\";\n\tstatic emojis = \"emojis\";\n\tstatic mentions = \"mentions\";\n\n\tstatic isExtensionEnabled = extensionKey => {\n\t\treturn new Promise(resolve =>\n\t\t\tCometChat.isExtensionEnabled(extensionKey)\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false)),\n\t\t);\n\t};\n\n\tUIKitSettings;\n\n\tconstructor(UIKitSettings) {\n\t\tthis.UIKitSettings = UIKitSettings;\n\t}\n\n\tisRecentChatListEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.chats));\n\tisGroupListEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.groups));\n\tisUserSettingsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.userSettings));\n\tisEditMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.editMessage));\n\tisQNAModeEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.setGroupInQnaModeByModerators));\n\tisHighlightMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.highlightMessageFromModerators));\n\tisJoinLeaveGroupsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.joinOrLeaveGroup));\n\tisLargerSizeEmojisEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.sendEmojisInLargerSize));\n\tisGifsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.sendGifs));\n\tisShareCopyForwardMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.shareCopyForwardMessage));\n\tisSharedMediaEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewShareMedia));\n\tisMessagesSoundEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.enableSoundForMessages));\n\tisCallsSoundEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.enableSoundForCalls));\n\tisViewingGroupMembersEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewGroupMembers));\n\tisCallActionMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.callNotifications));\n\tisGroupDeletionEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowDeleteGroup));\n\tisChangingGroupMemberScopeEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowPromoteDemoteMembers));\n\tisAddingGroupMembersEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowAddMembers));\n\tisLocationSharingEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.shareLocation));\n\tisGroupActionMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.joinLeaveNotifications));\n\tisGroupCreationEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.groupCreation));\n\tisDeleteMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.deleteMessage));\n\tisHideDeletedMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.hideDeletedMessages));\n\tisViewProfileEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewProfile));\n\tisMessageInPrivateEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.messageInPrivate));\n\n\tisCallListEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.calls_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.calls))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserListEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_list_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.users))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneVideoCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_one_on_one_video_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.userVideoCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupVideoCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_groups_video_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.groupVideoCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneAudioCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_one_on_one_audio_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.userAudioCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupAudioCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_groups_audio_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.groupAudioCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneChatEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_one_on_one_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageInOneOnOne))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupChatEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageInGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDeleteMemberMessageEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_moderators_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.allowModeratorToDeleteMemberMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisBlockUserEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_users_block_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.blockUser))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisEmojisEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.emojis_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendEmojis))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisFilesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_media_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendFiles))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPhotosVideosEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_media_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendPhotoVideos))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisKickingGroupMembersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_kick_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.kickMember))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisBanningGroupMembersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_ban_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.banMember))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisVoiceNotesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_voice_notes_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendVoiceNotes))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisTypingIndicatorsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_typing_indicator_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendTypingIndicator))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserPresenceEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_presence_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.showUserPresence))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisThreadedMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_threads_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.threadedChats))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_replies_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.replyingToMessage))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDeliveryReceiptsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_receipts_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.showReadDeliveryReceipts))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisLiveReactionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.live_reactions_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendLiveReaction))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPublicGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_public_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.publicGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPrivateGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_private_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.privateGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPasswordGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_password_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.passwordGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUnreadCountEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_unread_count_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.unreadCount))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchUsers))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchGroups))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallRecordingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_recording_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callRecording))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallLiveStreamingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_live_streaming_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callLiveStreaming))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallTranscriptEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_transcript_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callTranscription))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageHistoryEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_history_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.messageHistory))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageTranslationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.message_translation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.messageTranslation))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.messageTranslation))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisReactionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.reactions_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.reactions))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageReaction))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCollaborativeWhiteBoardEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.collaboration_whiteboard_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.collaborationWhiteboard))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.collaborativeWhiteboard))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCollaborativeDocumentEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.collaboration_document_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.collaborationDocument))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.collaborativeDocument))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisStickersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.stickers_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sticker))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendStickers))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisEmailRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.email_replies_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.emailReplies))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.emailReplies))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPollsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.polls_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.polls))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.polls))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSmartRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.smart_replies_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.smartReplies))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.smartReplies))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisThumbnailGenerationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.thumbnail_generation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.thumbnailGeneration))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.thumbnailGeneration))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisLinkPreviewEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.link_preview_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.linkPreview))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.linkPreview))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSaveMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.messages_saved_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.saveMessages))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.saveMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPinMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.messages_pinned_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.pinMessages))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.pinMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisRichMediaPreviewEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.rich_media_preview_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.richMediaPreview))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.richMediaPreview))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisVoiceTranscriptionEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.voice_transcription_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.voiceTranscription))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.voiceTranscription))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMentionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.mentions_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.mentions))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.mentions))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisXssFilterEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_xss_filter_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.xssFilter))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.xssFilter))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisProfanityFilterEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_profanity_filter_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.profanityFilter))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.profanityFilter))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisImageModerationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_image_moderation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.imageModeration))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.imageModeration))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDataMaskingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_data_masking_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.dataMasking))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.dataMasking))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMalwareScannerEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_malware_scanner_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.malwareScanner))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.malwareScanner))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSentimentAnalysisEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_sentiment_analysis_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sentimentAnalysis))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sentimentAnalysis))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\t// isInFlightMessageModerationEnabled = () => {\n\n\t//     return new Promise(resolve => {\n\n\t//         CometChat.isFeatureEnabled(FeatureRestriction.moderation_inflight_message_moderation_enabled)\n\t//             .then(response => {\n\n\t//                 return response\n\t//                     && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sentimentAnalysis)\n\t//                     && this.UIKitSettings.inflightMessageModeration;\n\t//             })\n\t//             .catch(error => resolve(false));\n\t//     });\n\t// }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatToastNotification } from \"../components/Shared\";\nimport { UIKitSettings } from \"./UIKitSettings\";\nimport * as enums from \"./enums.js\";\n\nimport Translator from \"../resources/localization/translator\";\nimport { FeatureRestriction } from \"./FeatureRestriction\";\nimport { theme } from \"../resources/theme\";\n\nexport const CometChatContext = React.createContext({});\n\nexport class CometChatContextProvider extends React.Component {\n\tloggedInUser;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst settings = new UIKitSettings();\n\t\tconst featureRestriction = new FeatureRestriction(settings);\n\n\t\tthis.state = {\n\t\t\titem: {},\n\t\t\ttype: \"\",\n\t\t\ttoastMessage: props.toastMessage,\n\t\t\tgroupMembers: props.groupMembers,\n\t\t\tbannedGroupMembers: props.bannedGroupMembers,\n\t\t\tgroupAdmins: props.groupAdmins,\n\t\t\tgroupModerators: props.groupModerators,\n\t\t\tcallInProgress: props.callInProgress,\n\t\t\tcallType: \"\",\n\t\t\tdeletedGroupId: \"\",\n\t\t\tleftGroupId: \"\",\n\t\t\tlastMessage: {},\n\t\t\tunreadMessages: [],\n\t\t\tclearedUnreadMessages: false,\n\t\t\tdirectCallCustomMessage: {},\n\t\t\tdirectCallCustomMessageAction: \"\",\n\t\t\tUIKitSettings: settings,\n\t\t\tFeatureRestriction: featureRestriction,\n\t\t\ttheme: theme,\n\t\t\tlanguage: props.language,\n\t\t\troles: {\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.ADMIN]: Translator.translate(\"ADMINISTRATOR\", props.language),\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]: Translator.translate(\"MODERATOR\", props.language),\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]: Translator.translate(\"PARTICIPANT\", props.language),\n\t\t\t},\n\t\t\tgetLoggedinUser: this.getLoggedinUser,\n\t\t\tsetGroupMembers: this.setGroupMembers,\n\t\t\tupdateGroupMembers: this.updateGroupMembers,\n\t\t\tsetAllGroupMembers: this.setAllGroupMembers,\n\t\t\tsetGroupAdmins: this.setGroupAdmins,\n\t\t\tsetGroupModerators: this.setGroupModerators,\n\t\t\tsetBannedGroupMembers: this.setBannedGroupMembers,\n\t\t\tupdateBannedGroupMembers: this.updateBannedGroupMembers,\n\t\t\tclearGroupMembers: this.clearGroupMembers,\n\t\t\tsetToastMessage: this.setToastMessage,\n\t\t\tsetCallInProgress: this.setCallInProgress,\n\t\t\tsetItem: this.setItem,\n\t\t\tsetType: this.setType,\n\t\t\tsetTypeAndItem: this.setTypeAndItem,\n\t\t\tsetDeletedGroupId: this.setDeletedGroupId,\n\t\t\tsetLeftGroupId: this.setLeftGroupId,\n\t\t\tsetLastMessage: this.setLastMessage,\n\t\t\tsetClearedUnreadMessages: this.setClearedUnreadMessages,\n\t\t\tsetDirectCallCustomMessage: this.setDirectCallCustomMessage,\n\t\t\tcheckIfDirectCallIsOngoing: this.checkIfDirectCallIsOngoing,\n\t\t\tcheckIfCallIsOngoing: this.checkIfCallIsOngoing,\n\t\t\tgetActiveCallSessionID: this.getActiveCallSessionID,\n\t\t\thasKeyValue: this.hasKeyValue,\n\t\t\tsetRoles: this.setRoles,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getLoggedinUser();\n\n\t\tif (this.props.user.trim().length) {\n\t\t\tthis.getUser(this.props.user.trim())\n\t\t\t\t.then(user => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t\tthis.setItem(user);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"uid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.group.trim().length) {\n\t\t\tthis.getGroup(this.props.group.trim())\n\t\t\t\t.then(group => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\tthis.setItem(group);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"guid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.user.trim().length === 0 && this.props.group.trim().length === 0 && this.props._component === enums.CONSTANTS[\"MESSAGES_COMPONENT\"]) {\n\t\t\tconst errorCode = \"UID_OR_GUID_NOT_AVAILABLE\";\n\t\t\tthis.toastRef.setError(errorCode);\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tif (this.props.user.trim().length && prevProps.user !== this.props.user) {\n\t\t\tthis.getUser(this.props.user)\n\t\t\t\t.then(user => {\n\t\t\t\t\t//this.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t\t//this.setItem(user);\n\t\t\t\t\tthis.setTypeAndItem(CometChat.ACTION_TYPE.TYPE_USER, user);\n\t\t\t\t\t//this.setClearedUnreadMessages(false);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"uid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.group.trim().length && prevProps.group !== this.props.group) {\n\t\t\tthis.getGroup(this.props.group)\n\t\t\t\t.then(group => {\n\t\t\t\t\t//this.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\t//this.setItem(group);\n\t\t\t\t\tthis.setTypeAndItem(CometChat.ACTION_TYPE.TYPE_GROUP, group);\n\t\t\t\t\t//this.setClearedUnreadMessages(false);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"guid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t}\n\n\t\t//when the active group is deleted, close the chat window.\n\t\tif (this.state.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.item.guid === this.state.deletedGroupId) {\n\t\t\t//this.setItem({});\n\t\t\t//this.setType(\"\");\n\t\t\tthis.setTypeAndItem({}, \"\");\n\t\t\tthis.setDeletedGroupId(\"\");\n\t\t}\n\n\t\t//when the active group is left, close the chat window.\n\t\tif (this.state.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.item.guid === this.state.leftGroupId) {\n\t\t\tthis.setTypeAndItem({}, \"\");\n\t\t\tthis.setLeftGroupId(\"\");\n\t\t}\n\n\t\tif (prevProps.language !== this.props.language) {\n\t\t\tthis.setState({ language: this.props.language });\n\t\t\tthis.setRoles();\n\t\t}\n\t}\n\n\tsetRoles = () => {\n\t\tconst roles = {\n\t\t\t[CometChat.GROUP_MEMBER_SCOPE.ADMIN]: Translator.translate(\"ADMINISTRATOR\", this.props.language),\n\t\t\t[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]: Translator.translate(\"MODERATOR\", this.props.language),\n\t\t\t[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]: Translator.translate(\"PARTICIPANT\", this.props.language),\n\t\t};\n\t\tthis.setState({ roles: roles });\n\t};\n\n\tgetUser = uid => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (!uid) {\n\t\t\t\tconst error = { code: \"uid not available\" };\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\tCometChat.getUser(uid)\n\t\t\t\t.then(user => resolve(user))\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tgetGroup = guid => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (!guid) {\n\t\t\t\tconst error = { code: \"guid not available\" };\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\tCometChat.getGroup(guid)\n\t\t\t\t.then(group => {\n\t\t\t\t\tif (group.hasJoined === false) {\n\t\t\t\t\t\tconst guid = group.guid;\n\t\t\t\t\t\tconst groupType = group.type;\n\t\t\t\t\t\tlet password = \"\";\n\t\t\t\t\t\tif (groupType === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\t\t\t\t\tconst promptMessage = Translator.translate(\"Enter password\", this.props.lang);\n\t\t\t\t\t\t\tpassword = prompt(promptMessage);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tCometChat.joinGroup(guid, groupType, password)\n\t\t\t\t\t\t\t.then(group => resolve(group))\n\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(group);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tsetToastMessage = (type, message) => {\n\t\t// switch(type) {\n\n\t\t//     case \"error\":\n\t\t//         this.toastRef.setError(message);\n\t\t//     break;\n\t\t//     case \"success\":\n\t\t//         this.toastRef.setSuccess(message);\n\t\t//         break;\n\t\t//     case \"info\":\n\t\t//         this.toastRef.setInfo(message);\n\t\t//         break;\n\t\t//     case \"warning\":\n\t\t//         this.toastRef.setWarning(message);\n\t\t//         break;\n\t\t//     default:\n\t\t//     break;\n\t\t// }\n\n\t\treturn null;\n\t};\n\n\tgetLoggedinUser = () => {\n\t\tlet timerCounter = 10000;\n\t\tlet timer = 0;\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (timerCounter === timer) {\n\t\t\t\treturn reject(`timer reached ${timerCounter}`);\n\t\t\t}\n\n\t\t\tif (this.loggedInUser) {\n\t\t\t\treturn resolve(this.loggedInUser);\n\t\t\t}\n\n\t\t\tif (!CometChat.isInitialized()) {\n\t\t\t\treturn reject(\"CometChat not initialized\");\n\t\t\t}\n\n\t\t\tthis.isUserLoggedIn = setInterval(() => {\n\t\t\t\tCometChat.getLoggedinUser()\n\t\t\t\t\t.then(user => {\n\t\t\t\t\t\tthis.loggedInUser = user;\n\t\t\t\t\t\tclearInterval(this.isUserLoggedIn);\n\t\t\t\t\t\treturn resolve(user);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => reject(error));\n\n\t\t\t\ttimer += 100;\n\t\t\t}, 100);\n\t\t});\n\n\t\t// return new Promise((resolve, reject) => {\n\t\t// \tCometChat.getLoggedinUser()\n\t\t// \t\t.then(user => resolve(user))\n\t\t// \t\t.catch(error => reject(error));\n\t\t// });\n\t};\n\n\tclearGroupMembers = () => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [],\n\t\t\tgroupAdmins: [],\n\t\t\tgroupModerators: [],\n\t\t\tbannedGroupMembers: [],\n\t\t});\n\t};\n\n\tsetAllGroupMembers = (groupMembers, groupAdmins, groupModerators) => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...this.state.groupMembers, ...groupMembers],\n\t\t\tgroupAdmins: [...this.state.groupAdmins, ...groupAdmins],\n\t\t\tgroupModerators: [...this.state.groupModerators, ...groupModerators],\n\t\t});\n\t};\n\n\tupdateGroupMembers = groupMembers => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...groupMembers],\n\t\t});\n\t};\n\n\tsetGroupMembers = groupMembers => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...this.state.groupMembers, ...groupMembers],\n\t\t});\n\t};\n\n\tsetGroupAdmins = groupAdmins => {\n\t\tthis.setState({\n\t\t\tgroupAdmins: [...this.state.groupAdmins, ...groupAdmins],\n\t\t});\n\t};\n\n\tsetGroupModerators = groupModerators => {\n\t\tthis.setState({\n\t\t\tgroupModerators: [...this.state.groupModerators, ...groupModerators],\n\t\t});\n\t};\n\n\tsetBannedGroupMembers = bannedMembers => {\n\t\tthis.setState({\n\t\t\tbannedGroupMembers: [...this.state.bannedGroupMembers, ...bannedMembers],\n\t\t});\n\t};\n\n\tupdateBannedGroupMembers = bannedMembers => {\n\t\tthis.setState({\n\t\t\tbannedGroupMembers: [...bannedMembers],\n\t\t});\n\t};\n\n\tsetCallInProgress = (call, callType) => {\n\t\tthis.setState({ callInProgress: { ...call }, callType });\n\t};\n\n\tsetItem = item => {\n\t\tthis.setState({ item: { ...item } });\n\t};\n\n\tsetType = type => {\n\t\tthis.setState({ type });\n\t};\n\n\tsetTypeAndItem = (type, item) => {\n\t\tthis.setState({ item: { ...item }, type });\n\t};\n\n\tsetDeletedGroupId = guid => {\n\t\tthis.setState({ deletedGroupId: guid });\n\t};\n\n\tsetLeftGroupId = guid => {\n\t\tthis.setState({ leftGroupId: guid });\n\t};\n\n\tsetLastMessage = message => {\n\t\tthis.setState({ lastMessage: message });\n\t};\n\n\tsetClearedUnreadMessages = flag => {\n\t\tthis.setState({ clearedUnreadMessages: flag });\n\t};\n\n\tsetDirectCallCustomMessage = (message, event) => {\n\t\tthis.setState({ directCallCustomMessage: message, directCallCustomMessageAction: event });\n\t};\n\n\tcheckIfDirectCallIsOngoing = () => {\n\t\tlet output = null;\n\n\t\tif (Object.keys(this.state.callInProgress).length && (this.state.callType === enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"] || this.state.callType === enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"])) {\n\t\t\tif (this.state.callInProgress.customData.sessionID === this.state.item.guid) {\n\t\t\t\toutput = enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"];\n\t\t\t} else {\n\t\t\t\toutput = enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"];\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tcheckIfCallIsOngoing = () => {\n\t\tif (Object.keys(this.state.callInProgress).length) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\tlet sessionID;\n\t\tif (this.state.callType === enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"] || this.state.callType === enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]) {\n\t\t\tsessionID = this.state.callInProgress?.data?.customData?.sessionID;\n\t\t} else {\n\t\t\tsessionID = this.state.callInProgress?.sessionId;\n\t\t}\n\n\t\treturn sessionID;\n\t};\n\n\thasKeyValue = (data, key) => {\n\t\tif (data.hasOwnProperty(key) === false || data[key] === null || data[key] === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\trender() {\n\t\t\n\t\treturn (\n\t\t\t<CometChatContext.Provider value={this.state}>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.language} position={this.props.toastNotificationPos} />\n\t\t\t\t{this.props.children}\n\t\t\t</CometChatContext.Provider>\n\t\t);\n\t}\n}\n\nCometChatContextProvider.defaultProps = {\n\ttoastMessage: {},\n\tgroupMembers: [],\n\tbannedGroupMembers: [],\n\tgroupAdmins: [],\n\tgroupModerators: [],\n\tcallInProgress: {},\n\tuser: \"\",\n\tgroup: \"\",\n\t_component: \"\",\n\tlanguage: Translator.getDefaultLanguage(),\n};\n\nCometChatContextProvider.propTypes = {\n\ttoastMessage: PropTypes.object,\n\tgroupMembers: PropTypes.array,\n\tbannedGroupMembers: PropTypes.array,\n\tgroupAdmins: PropTypes.array,\n\tgroupModerators: PropTypes.array,\n\tcallInProgress: PropTypes.object,\n\tgroup: PropTypes.string,\n\tuser: PropTypes.string,\n\t_component: PropTypes.string,\n\tlanguage: PropTypes.string,\n};\n","export class Storage {\n\n    static attachChangeDetection = (callback) => {\n        window.addEventListener('storage', callback);\n    }\n\n    static detachChangeDetection = (callback) => {\n        window.removeEventListener('storage', callback);\n    }\n\n    static setItem = (storageKey, storageValue) => {\n        localStorage.setItem(storageKey, JSON.stringify(storageValue));\n    }\n\n    static getItem = (storageKey) => {\n        return JSON.parse(localStorage.getItem(storageKey));\n    }\n\n    static removeItem = (storageKey) => {\n        localStorage.removeItem(storageKey);\n    }\n\n    static clear = () => {\n\n    }\n}","import Translator from \"../../../resources/localization/translator\";\n\nexport const LocalizedString = language => {\n\treturn {\n\t\tSELECT_VIDEO_SOURCE: Translator.translate(\"SELECT_VIDEO_SOURCE\", language),\n\t\tSELECT_INPUT_AUDIO_SOURCE: Translator.translate(\"SELECT_INPUT_AUDIO_SOURCE\", language),\n\t\tSELECT_OUTPUT_AUDIO_SOURCE: Translator.translate(\"SELECT_OUTPUT_AUDIO_SOURCE\", language),\n\t\tSELECT_MODE: Translator.translate(\"SELECT_MODE\", language),\n\t\tCALL_RECORDING_STARTED_MSG: Translator.translate(\"CALL_RECORDING_STARTED_MSG\", language),\n\t\tUSER_JOINED_CALL_MSG: Translator.translate(\"USER_JOINED_CALL_MSG\", language),\n\t\tCALL_RECORDING_ENDED_MSG: Translator.translate(\"CALL_RECORDING_ENDED_MSG\", language),\n\t\tUSER_LEFT_CALL_MSG: Translator.translate(\"USER_LEFT_CALL_MSG\", language),\n\t\tCAMERA_ERROR_MSG: Translator.translate(\"CAMERA_ERROR_MSG\", language),\n\t\tMIC_ERROR_MSG: Translator.translate(\"MIC_ERROR_MSG\", language),\n\t\tCAMERA_MIC_ERROR_MSG: Translator.translate(\"CAMERA_MIC_ERROR_MSG\", language),\n\t\tRECORDING_TEXT: Translator.translate(\"RECORDING_TEXT\", language),\n\t\tTRYING_TO_START_RECORDING_TEXT: Translator.translate(\"TRYING_TO_START_RECORDING_TEXT\", language),\n\t\tJOINING_TEXT: Translator.translate(\"JOINING_TEXT\", language),\n\t\tUN_MUTE_AUDIO_TEXT: Translator.translate(\"UN_MUTE_AUDIO_TEXT\", language),\n\t\tMUTE_AUDIO_TEXT: Translator.translate(\"MUTE_AUDIO_TEXT\", language),\n\t\tEND_CALL_TEXT: Translator.translate(\"END_CALL_TEXT\", language),\n\t\tSTART_RECORDING_TEXT: Translator.translate(\"START_RECORDING_TEXT\", language),\n\t\tSTOP_RECORDING_TEXT: Translator.translate(\"STOP_RECORDING_TEXT\", language),\n\t\tSTART_SCREEN_SHARE_TEXT: Translator.translate(\"START_SCREEN_SHARE_TEXT\", language),\n\t\tSTOP_SCREEN_SHARE_TEXT: Translator.translate(\"STOP_SCREEN_SHARE_TEXT\", language),\n\t\tMUTE_VIDEO_TEXT: Translator.translate(\"MUTE_VIDEO_TEXT\", language),\n\t\tUN_MUTE_VIDEO_TEXT: Translator.translate(\"UN_MUTE_VIDEO_TEXT\", language),\n\t\tSELECT_LAYOUT_HEADER: Translator.translate(\"SELECT_LAYOUT_HEADER\", language),\n\t\tNO_OF_USER_IN_TILE_TEXT: Translator.translate(\"NO_OF_USER_IN_TILE_TEXT\", language),\n\t\tCHANGE_AUDIO_SOURCE: Translator.translate(\"CHANGE_AUDIO_SOURCE\", language),\n\t\tCHANGE_AUDIO_SOURCE_DESC: Translator.translate(\"CHANGE_AUDIO_SOURCE_DESC\", language),\n\t\tAUDIO_INPUT_DEVICE_LABEL: Translator.translate(\"AUDIO_INPUT_DEVICE_LABEL\", language),\n\t\tNO_AUDIO_DEVICE_AVAILABLE: Translator.translate(\"NO_AUDIO_DEVICE_AVAILABLE\", language),\n\t\tAUDIO_OUTPUT_DEVICE_LABEL: Translator.translate(\"AUDIO_OUTPUT_DEVICE_LABEL\", language),\n\t\tCHANGE_VIDEO_SOURCE: Translator.translate(\"CHANGE_VIDEO_SOURCE\", language),\n\t\tCHANGE_VIDEO_SOURCE_DESC: Translator.translate(\"CHANGE_VIDEO_SOURCE_DESC\", language),\n\t\tVIDEO_DEVICES_LABEL: Translator.translate(\"VIDEO_DEVICES_LABEL\", language),\n\t\tFULL_SCREEN: Translator.translate(\"FULL_SCREEN\", language),\n\t\tEXIT_FULL_SCREEN: Translator.translate(\"EXIT_FULL_SCREEN\", language),\n\t\tCHANGE_LAYOUT: Translator.translate(\"CHANGE_LAYOUT\", language),\n\t\tAUDIO_SETTING: Translator.translate(\"AUDIO_SETTING\", language),\n\t\tVIDEO_SETTING: Translator.translate(\"VIDEO_SETTING\", language),\n\t\tUSER_LIST: Translator.translate(\"USER_LIST\", language),\n\t\tMORE: Translator.translate(\"MORE\", language),\n\t\tMUTE_USER: Translator.translate(\"MUTE_USER\", language),\n\t\tPIN_USER: Translator.translate(\"PIN_USER\", language),\n\t\tUNPIN_USER: Translator.translate(\"UNPIN_USER\", language),\n\t\tUN_MUTE_USER: Translator.translate(\"UN_MUTE_USER\", language),\n\t\tMUTED: Translator.translate(\"MUTED\", language),\n\t\tYOU_HAVE_BLOCKED: Translator.translate(\"YOU_HAVE_BLOCKED\", language),\n\t\tNOT_POSSIBLE_TO_SEND_MESSAGES: Translator.translate(\"NOT_POSSIBLE_TO_SEND_MESSAGES\", language),\n\t\tIOS_BROWSER_WARNING: Translator.translate(\"IOS_BROWSER_WARNING\", language),\n\t\tPEOPLE_TEXT: Translator.translate(\"PEOPLE_TEXT\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT1: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT1\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT2: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT2\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT3: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT3\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT4: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT4\", language),\n\t};\n};\n","\n\nexport const callScreenWrapperStyle = (props, keyframes) => {\n\n    const fadeAnimation = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }`;\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 50px)\",\n        position: \"absolute\",\n        top: \"50px\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        backgroundColor: `${props.theme.backgroundColor.darkGrey}`,\n        zIndex: \"999\",\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        animation: `${fadeAnimation} 250ms ease`,\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n        \"iframe\": {\n            border: \"none\"\n        },\n    }\n}\n\nexport const callScreenBackgroundStyle = (state) => {\n\n    return {\n        display: \"none\",\n        width: \"100vw\",\n        height: \"100vh\",\n        position: \"fixed\",\n        top: \"0\",\n        left: \"0\",\n        bottom: \"0\",\n        right: \"0\",\n        zIndex: \"2147483001\",\n    }\n}\n\nexport const callScreenContainerStyle = (props) => {\n\n    return {\n        width: props.maxWidth,\n        height: props.maxHeight,\n        position: \"fixed\",\n        top: \"0\",\n        left: \"0\",\n        overflow: \"hidden\",\n        zIndex: \"2147483002\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const callScreenInnerBackgroundStyle = () => {\n\n    return {\n        display: \"none\",\n        position: \"absolute\",\n        top: \"0\",\n        left: \"0\",\n        bottom: \"0\",\n        right: \"0\",\n        zIndex: \"2147483003\",\n    }\n}\n\nexport const callScreenHeaderStyle = (state) => {\n\n    const cursorStyle = (state.maximized) ? {} : {\n        cursor: \"grabbing\",\n    };\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        backgroundColor: \"#282c34\",\n        width: \"100%\",\n        height: \"50px\",\n        position: \"absolute\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        zIndex: \"2147483004\",\n        ...cursorStyle\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        width: \"calc(100% - 55px)\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"55px\",\n        padding: \"16px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"button\": {\n            border: \"none\",\n            background: \"transparent\",\n            cursor: \"pointer\",\n            outline: \"none\",\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            width: \"100%\",\n            padding: \"0px\",\n            userSelect: \"none\",\n            \"img\": {\n                maxWidth: \"100%\",\n                flexShrink: \"0\"\n            }\n        }\n    }\n}\n\nexport const callScreenResizerStyle = (state) => {\n\n    const backgroundStyle = (state.maximized) ? {}: {\n        cursor: \"nwse-resize\",\n        clipPath: \"polygon(100% 0,100% 100%,0 100%)\",\n        background: \"repeating-linear-gradient(135deg,hsla(0,0%,100%,.5),hsla(0,0%,100%,.5) 2px,#000 0,#000 4px)\",\n    };\n\n    return {\n        width: \"35px\",\n        height: \"35px\",\n        position: \"absolute\",\n        right: \"0\",\n        bottom: \"0\",\n        zIndex: \"2147483004\", \n        ...backgroundStyle\n    }\n}\n\nexport const iconStyle = (img) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `white`,\n    }\n}","export default __webpack_public_path__ + \"static/media/reduce-size.e5af2bb8.svg\";","export default __webpack_public_path__ + \"static/media/increase-size.97e9cd75.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { Storage } from \"../../../util/Storage\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\nimport { LocalizedString } from \"./strings\";\n\nimport {\n    callScreenBackgroundStyle,\n    callScreenContainerStyle,\n    callScreenInnerBackgroundStyle,\n    callScreenHeaderStyle,\n    callScreenWrapperStyle,\n    headerTitleStyle,\n    headerButtonStyle,\n    callScreenResizerStyle,\n    iconStyle\n} from \"./style\";\n\nimport minimizeIcon from \"./resources/reduce-size.svg\";\nimport maximizeIcon from \"./resources/increase-size.svg\";\n\nclass CometChatCallScreen extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            x: 0,\n            y: 0,\n            rel: null, // position relative to the cursor\n            dragging: false,\n            maximized: true\n        };\n\n        this.loggedInUser = props.loggedInUser;\n        \n        this.callScreenBackgroundEl = React.createRef();\n        this.callScreenInnerBackgroundEl = React.createRef();\n        this.callScreenEl = React.createRef();\n        this.callScreenFrame = React.createRef();\n    }\n\n    componentDidMount() {\n\n        this.document = window.document;\n\n        if (this.props.call.type === enums.CUSTOM_TYPE_MEETING) {\n            this.startDirectCall(this.props.call);\n        } else {\n            this.startDefaultCall(this.props.call);\n        }\n    }\n\n    enableDragging = (e) => {\n\n        e.preventDefault();\n        \n        if (this.checkIfCallScreenIsMaximized() === true) {\n            return false;\n        }\n\n        this.setState({\n            dragging: true,\n            rel: {\n                x: e.pageX - this.state.x,\n                y: e.pageY - this.state.y\n            }\n        });\n\n        this.toggleCallScreenBackground(true);\n        this.toggleCallScreenInnerBackground(true);\n\n        this.document.onmousemove = (e) => this.startDragging(e);\n        this.document.onmouseup = (e) => this.disableDragging(e);\n    }\n\n    checkIfCallScreenIsMaximized = () => {\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth;\n        const dialogHeight = elem.clientHeight;\n\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n\n        if (dialogWidth === windowWidth && dialogHeight === windowHeight) {\n            return true;\n        }\n\n        return false;\n    }\n\n    checkIfCallScreenIsMinimized = () => {\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth;\n        const dialogHeight = elem.clientHeight;\n\n        const minimumWidth = this.props.minWidth;\n        const minimumHeight = this.props.minHeight;\n\n        if (dialogWidth === minimumWidth && dialogHeight === minimumHeight) {\n            return true;\n        }\n\n        return false;\n    }\n\n    startDragging = (e) => {\n        \n        if (!this.state.dragging) return;\n        \n        e = e || window.event;\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth; \n        const dialogHeight = elem.clientHeight; \n        const x = Math.min(\n            Math.max(0, e.pageX - this.state.rel.x),\n            window.innerWidth - dialogWidth - 20\n        );\n        const y = Math.min(\n            Math.max(0, e.pageY - this.state.rel.y),\n            window.innerHeight - dialogHeight - 20\n        ); \n\n        this.setState({\n            x: x,\n            y: y\n        });\n\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    disableDragging = (e) => {\n\n        this.document.onmousemove = null;\n        this.document.onmouseup = null;\n\n        this.setState({ dragging: false });\n\n        this.toggleCallScreenBackground(false);\n        this.toggleCallScreenInnerBackground(false);\n    }\n\n    initResize = (e) => {\n\n        e.preventDefault();\n\n        if (this.checkIfCallScreenIsMaximized() === true) {\n            return false;\n        }\n\n        const element = this.callScreenEl.current;\n\n        this.startX = e.pageX;\n        this.startY = e.pageY;\n\n        this.startWidth = parseFloat(getComputedStyle(element, null).getPropertyValue(\"width\").replace(\"px\", \"\"));\n        this.startHeight = parseInt(getComputedStyle(element, null).getPropertyValue(\"height\").replace(\"px\", \"\"));\n\n        this.document.onmousemove = (e) => this.startResize(e);\n        this.document.onmouseup = (e) => this.stopResize(e);\n    }\n\n    startResize = (e) => {\n        \n        let width = this.startWidth + (e.pageX - this.startX);\n        let height = this.startHeight + (e.pageY - this.startY);\n\n        if (width < this.props.minWidth) {\n            width = this.props.minHWidth;\n        }\n\n        if (width > window.innerWidth) {\n            width = this.props.maxWidth;\n        }\n\n        if (height < this.props.minHeight) {\n            height = this.props.minHeight;\n        }\n\n        if (height > window.innerHeight) {\n            height = this.props.maxHeight;\n        }\n\n        this.callScreenEl.current.style.width = width + \"px\";\n        this.callScreenEl.current.style.height = height + \"px\";\n\n        this.setDimensionOfCallScreenInnerBackground({ width: width + \"px\", height: height + \"px\" });\n\n        this.toggleCallScreenBackground(true);\n        this.toggleCallScreenInnerBackground(true);\n    }\n\n    stopResize = () => {\n        \n        this.document.onmousemove = null;\n        this.document.onmouseup = null;\n\n        this.toggleCallScreenBackground(false);\n        this.toggleCallScreenInnerBackground(false);\n\n        if (this.checkIfCallScreenIsMaximized() === true) {\n            this.setState({ maximized: true });\n        } \n        if (this.checkIfCallScreenIsMinimized() === true) {\n            this.setState({ maximized: false });\n        }\n    }\n\n    toggleCallScreenBackground = (flag) => {\n\n        if (this.callScreenBackgroundEl && this.callScreenBackgroundEl.current) {\n            this.callScreenBackgroundEl.current.style.display = (flag) ? \"block\" : \"none\";\n        }\n    }\n\n    toggleCallScreenInnerBackground = (flag) => {\n\n        if (this.callScreenInnerBackgroundEl && this.callScreenInnerBackgroundEl.current) {\n            this.callScreenInnerBackgroundEl.current.style.display = (flag) ? \"block\" : \"none\";\n        }\n    }\n\n    setDimensionOfCallScreenInnerBackground = (props) => {\n\n        this.callScreenInnerBackgroundEl.current.style.width = props.width;\n        this.callScreenInnerBackgroundEl.current.style.height = props.height;\n    }\n\n    setPositionOfCallScreenInnerBackground = (props) => {\n\n        this.callScreenInnerBackgroundEl.current.style.top = props.y;\n        this.callScreenInnerBackgroundEl.current.style.left = props.x;\n    }\n\n    minimize = () => {\n\n        if (!this.callScreenEl || !this.callScreenEl.current) {\n            return false;\n        }\n\n        const width = this.props.minWidth + \"px\";\n        const height = this.props.minHeight + \"px\";\n\n        this.setState({ maximized: false });\n        this.setSizingAndPostionOfCallScreen({ width: width, height: height });\n        this.setDimensionOfCallScreenInnerBackground({ width: width, height: height });\n        this.setPositionOfCallScreenInnerBackground({ x: \"0px\", y: \"0px\" });\n    }\n\n    maximize = () => {\n\n        if (!this.callScreenEl || !this.callScreenEl.current) {\n            return false;\n        }\n\n        const width = this.props.maxWidth;\n        const height = this.props.maxHeight;\n\n        this.setState({ maximized: true });\n        this.setSizingAndPostionOfCallScreen({ width: width, height: height });\n        this.setDimensionOfCallScreenInnerBackground({ width: width, height: height });\n        this.setPositionOfCallScreenInnerBackground({ x: \"0px\", y: \"0px\" });\n    }\n\n    setSizingAndPostionOfCallScreen = (props) => {\n\n        this.callScreenEl.current.style.width = props.width;\n        this.callScreenEl.current.style.height = props.height;\n        this.callScreenEl.current.style.top = \"0px\";\n        this.callScreenEl.current.style.left = \"0px\";\n    }\n\n    toggle = (e) => {\n\n        this.setState({ x: 0, y: 0 });\n\n        if (this.state.maximized) {\n            this.minimize();\n        } else {\n            this.maximize();\n        }\n\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    startDirectCall = (call) => {\n\n        const sessionId = call.data.customData.sessionID;\n        const customCSS = this.context.UIKitSettings.customCSS;\n\n        const callSettings = new CometChat.CallSettingsBuilder()\n            .enableDefaultLayout(true)\n            .setSessionID(sessionId)\n            .setIsAudioOnlyCall(false)\n            .setCustomCSS(customCSS)\n            .setLocalizedStringObject(LocalizedString(this.props.lang)).build();\n\n        const el = this.callScreenFrame;\n        CometChat.startCall(\n            callSettings,\n            el,\n            new CometChat.OngoingCallListener({\n                onCallEnded: call => {\n\n                    if (this.context) {\n                        this.context.setCallInProgress({}, \"\");\n                    }\n                    Storage.removeItem(enums.CONSTANTS[\"ACTIVECALL\"]);\n                    this.props.actionGenerated(enums.ACTIONS[\"DIRECT_CALL_ENDED\"]);\n                },\n                onError: error => {\n\n                    if (this.context) {\n                        this.context.setCallInProgress(null, \"\");\n                    }\n                    \n                    this.props.actionGenerated(enums.ACTIONS[\"DIRECT_CALL_ERROR\"]);\n                    const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n                    this.context.setToastMessage(\"error\", errorCode);\n                }\n            })\n        );\n    }\n\n    startDefaultCall = (call) => {\n\n        const sessionId = call.getSessionId();\n        const callType = (call.type === CometChat.CALL_TYPE.AUDIO ? true : false);\n        const customCSS = this.context.UIKitSettings.customCSS;\n\n        const callSettings = new CometChat.CallSettingsBuilder()\n\t\t\t\t\t.setSessionID(sessionId)\n\t\t\t\t\t.enableDefaultLayout(true)\n\t\t\t\t\t.setMode(CometChat.CALL_MODE.DEFAULT)\n\t\t\t\t\t.setIsAudioOnlyCall(callType)\n\t\t\t\t\t.setCustomCSS(customCSS)\n\t\t\t\t\t.setLocalizedStringObject(LocalizedString(this.props.lang))\n\t\t\t\t\t.build();\n\n\n        const el = this.callScreenFrame;\n        CometChat.startCall(\n            callSettings,\n            el,\n            new CometChat.OngoingCallListener({\n                onUserJoined: user => {\n\n                    /* Notification received here if another user joins the call. */\n                    /* this method can be use to display message or perform any actions if someone joining the call */\n                    //call initiator gets the same info in outgoingcallaccpeted event\n                    if (call.callInitiator.uid !== this.loggedInUser.uid && call.callInitiator.uid !== user.uid) {\n\n                        const callMessage = {\n                            \"category\": call.category,\n                            \"type\": call.type,\n                            \"action\": call.action,\n                            \"status\": call.status,\n                            \"callInitiator\": call.callInitiator,\n                            \"callReceiver\": call.callReceiver,\n                            \"receiverId\": call.receiverId,\n                            \"receiverType\": call.receiverType,\n                            \"sentAt\": call.sentAt,\n                            \"sender\": { ...user }\n                        };\n                        this.props.actionGenerated(enums.ACTIONS[\"USER_JOINED_CALL\"], callMessage);\n                    }\n                },\n                onUserLeft: user => {\n                    /* Notification received here if another user left the call. */\n                    /* this method can be use to display message or perform any actions if someone leaving the call */\n                    //call initiator gets the same info in outgoingcallaccpeted event\n                    if (call.callInitiator.uid !== this.loggedInUser.uid && call.callInitiator.uid !== user.uid) {\n\n                        const callMessage = {\n                            \"category\": call.category,\n                            \"type\": call.type,\n                            \"action\": \"left\",\n                            \"status\": call.status,\n                            \"callInitiator\": call.callInitiator,\n                            \"callReceiver\": call.callReceiver,\n                            \"receiverId\": call.receiverId,\n                            \"receiverType\": call.receiverType,\n                            \"sentAt\": call.sentAt,\n                            \"sender\": { ...user }\n                        };\n\n                        this.props.actionGenerated(enums.ACTIONS[\"USER_LEFT_CALL\"], callMessage);\n                    }\n                },\n                onCallEnded: endedCall => {\n\n                    /* Notification received here if current ongoing call is ended. */\n                    if (this.context) {\n                        this.context.setCallInProgress(null, \"\");\n                    }\n                    Storage.removeItem(enums.CONSTANTS[\"ACTIVECALL\"]);\n                    this.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_ENDED\"], endedCall);\n                    /* hiding/closing the call screen can be done here. */\n                }\n            })\n        );\n    }\n\n    render() {\n\n        const resizeText = Translator.translate(\"RESIZE\", this.props.lang);\n        let iconView = (<i css={iconStyle(minimizeIcon)} title={resizeText}></i>);\n        if (this.state.maximized === false) {\n            iconView = (<i css={iconStyle(maximizeIcon)} title={resizeText}></i>);\n        }\n\n        return (\n            <React.Fragment>\n                <div css={callScreenBackgroundStyle(this.state)} ref={this.callScreenBackgroundEl}></div>\n                <div ref={this.callScreenEl} className=\"callscreen__container\" css={callScreenContainerStyle(this.props)} \n                    style={{ top: this.state.y + \"px\", left: this.state.x + \"px\" }}>\n                    <div css={callScreenInnerBackgroundStyle()} ref={this.callScreenInnerBackgroundEl}></div>\n                    <div css={callScreenHeaderStyle(this.state)} className=\"callscreen__header\" onMouseDown={this.enableDragging}>\n                        <div css={headerTitleStyle()}>&nbsp;</div>\n                        <div className=\"callscreen__resize\" css={headerButtonStyle()} onClick={this.toggle} onMouseDown={e => e.stopPropagation()}><button type=\"button\" title={resizeText}>{iconView}</button></div>\n                    </div>\n                    <div css={callScreenWrapperStyle(this.props, keyframes)} className=\"callscreen__wrapper\" ref={el => { this.callScreenFrame = el; }}></div>\n                    <div css={callScreenResizerStyle(this.state)} className=\"callscreen__resizer-both\" onMouseDown={this.initResize}></div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\n// Specifies the default values for props:\nCometChatCallScreen.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n    minWidth: 400,\n    minHeight: 300,\n    maxWidth: \"100%\",\n    maxHeight: \"100%\",\n    style: {},\n};\n\nCometChatCallScreen.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n    minWidth: PropTypes.number,\n    minHeight: PropTypes.number,\n    maxWidth: PropTypes.string,\n    maxHeight: PropTypes.string,\n    style: PropTypes.object,\n}\n\nexport { CometChatCallScreen }\n","import * as enums from \"./enums\";\n\nexport class SoundManager {\n\tstatic widgetSettings;\n\tstatic incomingCallAudio = null;\n\tstatic outgoingCallAudio = null;\n\tstatic incomingMessageAudio = null;\n\tstatic outgoingMessageAudio = null;\n\tstatic incomingOtherMessageAudio = null;\n\n\tstatic play = (action, context) => {\n\t\tswitch (action) {\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"]:\n\t\t\t\tthis.onIncomingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"]:\n\t\t\t\tthis.onOutgoingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"]:\n\t\t\t\tthis.onIncomingMessage(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"]:\n\t\t\t\tthis.onIncomingOtherMessage(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"]:\n\t\t\t\tthis.onOutgoingMessage(context);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tstatic pause = (action, context) => {\n\t\tswitch (action) {\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"]:\n\t\t\t\tthis.pauseIncomingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"]:\n\t\t\t\tthis.pauseOutgoingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"]:\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"]:\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"]:\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tstatic onIncomingMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingmessage.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.incomingMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.incomingMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onIncomingOtherMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingOtherMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingothermessage.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingOtherMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.incomingOtherMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.incomingOtherMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onOutgoingMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/outgoingmessage.wav\").then(response => {\n\t\t\t\t\t\tthis.outgoingMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.outgoingMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.outgoingMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic playMessageAlert = messageAudio => {\n\t\tmessageAudio.currentTime = 0;\n\t\tmessageAudio.play();\n\t};\n\n\tstatic onIncomingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingCallAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingcall.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingCallAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playCallAlert(this.incomingCallAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playCallAlert(this.incomingCallAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onOutgoingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingCallAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/outgoingcall.wav\").then(response => {\n\t\t\t\t\t\tthis.outgoingCallAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playCallAlert(this.outgoingCallAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playCallAlert(this.outgoingCallAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic playCallAlert = callAudio => {\n\t\ttry {\n\t\t\tcallAudio.currentTime = 0;\n\t\t\tif (typeof callAudio.loop == \"boolean\") {\n\t\t\t\tcallAudio.loop = true;\n\t\t\t} else {\n\t\t\t\tcallAudio.addEventListener(\n\t\t\t\t\t\"ended\",\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\tthis.currentTime = 0;\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t},\n\t\t\t\t\tfalse,\n\t\t\t\t);\n\t\t\t}\n\t\t\tcallAudio.play();\n\t\t} catch (error) {}\n\t};\n\n\tstatic pauseIncomingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingCallAudio) {\n\t\t\t\t\tthis.incomingCallAudio.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic pauseOutgoingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingCallAudio) {\n\t\t\t\t\tthis.outgoingCallAudio.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic enableSoundForCalls = context => {\n\t\treturn new Promise(resolve => {\n\t\t\tcontext.FeatureRestriction.isCallsSoundEnabled()\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tstatic enableSoundForMessages = context => {\n\t\treturn new Promise(resolve => {\n\t\t\tcontext.FeatureRestriction.isMessagesSoundEnabled()\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n}","export const incomingCallWrapperStyle = (props, keyframes) => {\n\n    const slideDown = keyframes`\n    0% { transform: translateY(-50px); }\n    100% { transform: translateY(0px); }\n    `;\n\n    let positionValue = \"absolute\";\n    let leftPos = \"0\";\n    let rightPos = \"0\";\n    let topPos = \"0\";\n    let bottomPos = \"unset\";\n    let zIndexValue = \"998\";\n    \n    if (props.hasOwnProperty(\"widgetsettings\")) {\n\n        if (props.widgetsettings.hasOwnProperty(\"dockedview\") && props.widgetsettings.dockedview) {\n\n            //if chat window is open\n            if (props.widgetsettings.hasOwnProperty(\"launched\") && props.widgetsettings.launched) {\n\n                zIndexValue = \"2147483000\";\n                positionValue = \"fixed\";\n                topPos = \"unset\";\n                bottomPos = \"100px\";\n                \n                if (props.widgetsettings.hasOwnProperty(\"alignment\") && props.widgetsettings.alignment === \"left\") {\n\n                    rightPos = \"unset\";\n                    leftPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                    \n                } else {\n\n                    leftPos = \"unset\";\n                    rightPos = \"20px\";\n                    \n                    if(props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\"); \n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                }\n                \n            } else {\n\n                leftPos = \"unset\";\n                positionValue = \"fixed\";\n            }\n        } else {\n            zIndexValue = \"2147483000\";\n        }\n    }\n\n    return {\n        position: positionValue,\n        top: topPos,\n        left: leftPos,\n        bottom: bottomPos,\n        right: rightPos,\n        borderRadius: \"10px\",\n        margin: \"16px\",\n        backgroundColor: `${props.theme.backgroundColor.callScreenGrey}`,\n        zIndex: zIndexValue,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        animation: `${slideDown} 250ms ease`,\n        width: \"248px\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n    }\n}\n\nexport const callDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 36px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"left\"\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n    }\n}\n\nexport const callTypeStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        textTransform: \"capitalize\",\n        lineHeight: \"20px\",\n        color: \"#8A8A8A\",\n        display: \"flex\",\n        justifyContent: \"start\",\n        alignItems: \"center\",\n        padding: \"2px 0 0 0px\",\n        \"span\": {\n            padding: \"0 5px\"\n        }\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        margin: \"10px 0 0 0\",\n    }\n}\n\nexport const ButtonStyle = (props, action) => {\n\n    const backgroundColor = (action) ? `${props.theme.backgroundColor.blue}!important` : `${props.theme.backgroundColor.red}!important`;\n\n    return {\n        cursor: \"pointer\",\n        padding: \"8px 16px\",\n        backgroundColor: backgroundColor,\n        borderRadius: \"5px\",\n        color: `${props.theme.color.white}`,\n        fontSize: \"100%\",\n        outline: \"0\",\n        border: \"0\",\n        width: \"49%\",\n        overflow: \"hidden\"\n    }\n}\n\nexport const callIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    }\n}","export default __webpack_public_path__ + \"static/media/incoming-call.aaaf0cb6.svg\";","export default __webpack_public_path__ + \"static/media/incoming-video-call.37a9f849.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CallAlertManager } from \"./controller\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { Storage } from \"../../../util/Storage\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    incomingCallWrapperStyle,\n    callContainerStyle,\n    headerWrapperStyle,\n    callDetailStyle,\n    nameStyle,\n    callTypeStyle,\n    thumbnailStyle,\n    headerButtonStyle,\n    ButtonStyle,\n\tcallIconStyle\n} from \"./style\";\n\nimport audioCallIcon from \"./resources/incoming-call.svg\";\nimport videoCallIcon from \"./resources/incoming-video-call.svg\";\n\nclass CometChatIncomingCall extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tincomingCall: null,\n\t\t\tcallInProgress: null,\n\t\t};\n\n\t\tthis.callButtonRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\n\t\tthis.CallAlertManager = new CallAlertManager();\n\t\tthis.CallAlertManager.attachListeners(this.callScreenUpdated);\n\n\t\tStorage.attachChangeDetection(this.logStorageChange);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.incomingCall) {\n\t\t\tthis.adjustFontSize();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tStorage.detachChangeDetection(this.logStorageChange);\n\t}\n\n\tadjustFontSize = () => {\n\t\tif (this.callButtonRef && this.callButtonRef.current) {\n\t\t\tlet reduceFontSize = false;\n\t\t\tconst buttonNodeList = this.callButtonRef.current.querySelectorAll(\"button\");\n\n\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\tconst parentContainerWidth = buttonNode.clientWidth;\n\t\t\t\tconst currentTextWidth = buttonNode.scrollWidth;\n\n\t\t\t\tif (parentContainerWidth < currentTextWidth) {\n\t\t\t\t\treduceFontSize = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (reduceFontSize) {\n\t\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\t\tbuttonNode.style.fontSize = \"85%\";\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tcallScreenUpdated = (key, call) => {\n\t\tswitch (key) {\n\t\t\tcase enums.INCOMING_CALL_RECEIVED: //occurs at the callee end\n\t\t\t\tthis.incomingCallReceived(call);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_CANCELLED: //occurs(call dismissed) at the callee end, caller cancels the call\n\t\t\t\tthis.incomingCallCancelled(call);\n\t\t\t\tbreak;\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED: //occurs(call dismissed) at the callee end, caller cancels the call\n\t\t\t\tthis.outgoingCallAccepted(call);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tincomingCallReceived = incomingCall => {\n\t\tif (this._isMounted) {\n\t\t\tif (this.state.incomingCall === null) {\n\t\t\t\tif (incomingCall?.callInitiator.uid !== this.loggedInUser?.uid) {\n\t\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\t\tthis.setState({ incomingCall: incomingCall });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tincomingCallCancelled = call => {\n\t\tif (this._isMounted) {\n\t\t\t//we are not marking this as read as it will done in messagelist component\n\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\tthis.setState({ incomingCall: null });\n\t\t}\n\t};\n\n\toutgoingCallAccepted = call => {\n\n\t\tif(call.sender?.uid === this.loggedInUser?.uid) {\n\t\t\tif (this._isMounted) {\n\t\t\t\t//we are not marking this as read as it will done in messagelist component\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t}\n\t\t}\n\t};\n\n\trejectCall = () => {\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\tlet callStatus = this.isCallActive() ? CometChat.CALL_STATUS.BUSY : CometChat.CALL_STATUS.REJECTED;\n\n\t\tCometChat.rejectCall(this.state.incomingCall.sessionId, callStatus)\n\t\t\t.then(rejectedCall => {\n\t\t\t\tif (this.isCallActive() === false) {\n\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t\t\t\t}\n\t\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], rejectedCall);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INCOMING_CALL_REJECTED\"], rejectedCall);\n\t\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ incomingCall: null, callInProgress: null });\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tacceptCall = () => {\n\t\tthis.checkForActiveCallAndEndCall()\n\t\t\t.then(response => {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tCometChat.acceptCall(this.state.incomingCall.sessionId)\n\t\t\t\t\t.then(call => {\n\t\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\t\tthis.context.setCallInProgress(call, enums.CONSTANTS[\"INCOMING_DEFAULT_CALLING\"]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], call);\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INCOMING_CALL_ACCEPTED\"], call);\n\t\t\t\t\t\tthis.setState({ incomingCall: null, callInProgress: call });\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({ incomingCall: null, callInProgress: null });\n\n\t\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tisCallActive = () => {\n\t\tif (Object.keys(this.context.callInProgress).length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet sessionID = this.getActiveCallSessionID();\n\t\tif (!sessionID) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\treturn this.context.getActiveCallSessionID();\n\t};\n\n\tcheckForActiveCallAndEndCall = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (this.isCallActive() === false) {\n\t\t\t\treturn resolve({ success: true });\n\t\t\t}\n\n\t\t\tlet sessionID = this.getActiveCallSessionID();\n\t\t\tCometChat.endCall(sessionID)\n\t\t\t\t.then(response => {\n\t\t\t\t\treturn resolve(response);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treturn reject(error);\n\t\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tactionHandler = (action, call) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\t\tthis.props.actionGenerated(action, call);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlogStorageChange = event => {\n\t\tif (event?.key !== enums.CONSTANTS[\"ACTIVECALL\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.newValue || event.oldValue) {\n\t\t\tlet call;\n\t\t\tif (event.newValue) {\n\t\t\t\tcall = JSON.parse(event.newValue);\n\t\t\t} else if (event.oldValue) {\n\t\t\t\tcall = JSON.parse(event.oldValue);\n\t\t\t}\n\n\t\t\tif (this.state.incomingCall?.getSessionId() === call?.sessionId) {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tlet callScreen = null,\n\t\t\tincomingCallAlert = null;\n\t\tif (this.state.incomingCall) {\n\t\t\tlet callType = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={callIconStyle(audioCallIcon, this.context)} title={Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t<span>{Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang)}</span>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t\tif (this.state.incomingCall.type === CometChat.CALL_TYPE.VIDEO) {\n\t\t\t\tcallType = (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<i css={callIconStyle(videoCallIcon, this.context)} title={Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t\t<span>{Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}</span>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tincomingCallAlert = (\n\t\t\t\t<div css={incomingCallWrapperStyle(this.props, keyframes)} className=\"callalert__wrapper\">\n\t\t\t\t\t<div css={callContainerStyle()} className=\"callalert__container\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"callalert__header\">\n\t\t\t\t\t\t\t<div css={callDetailStyle()} className=\"header__detail\">\n\t\t\t\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.incomingCall.sender.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={callTypeStyle(this.props)} className=\"calltype\">\n\t\t\t\t\t\t\t\t\t{callType}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"header__thumbnail\">\n\t\t\t\t\t\t\t\t<CometChatAvatar user={this.state.incomingCall.sender} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={headerButtonStyle()} className=\"callalert__buttons\" ref={this.callButtonRef}>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 0)} className=\"button button__decline\" onClick={() => this.rejectCall(this.state.incomingCall, CometChat.CALL_STATUS.REJECTED)}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"DECLINE\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 1)} className=\"button button__accept\" onClick={this.acceptCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"ACCEPT\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.callInProgress) {\n\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{incomingCallAlert}\n\t\t\t\t{callScreen}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatIncomingCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatIncomingCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatIncomingCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class CallScreenManager {\n\n\tcallListenerId = \"callscreen_\" + new Date().getTime();\n\n\tattachListeners(callback) {\n\n\t\tCometChat.addCallListener(\n\t\t\tthis.callListenerId,\n\t\t\tnew CometChat.CallListener({\n\t\t\t\tonOutgoingCallAccepted: call => {\n\t\t\t\t\tcallback(enums.OUTGOING_CALL_ACCEPTED, call);\n\t\t\t\t},\n\t\t\t\tonOutgoingCallRejected: call => {\n\t\t\t\t\tcallback(enums.OUTGOING_CALL_REJECTED, call);\n\t\t\t\t},\n\t\t\t\tonIncomingCallCancelled: call => {\n\t\t\t\t\tcallback(enums.INCOMING_CALL_CANCELLED, call);\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeCallListener(this.callListenerId);\n\t}\n}","export const callScreenWrapperStyle = (props, keyframes) => {\n\n    let styles = {\n        width: \"100%\",\n        height: \"100%\",\n        position: \"absolute\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        zIndex: \"999\",\n    }\n\n    if (props.widgetsettings) {\n\n        styles = {\n            width: \"100%\",\n            height: \"100%\",\n            position: \"fixed\",\n            top: \"0\",\n            right: \"0\",\n            bottom: \"0\",\n            left: \"0\",\n            zIndex: \"2147483000\",\n        }\n    }\n\n    const fadeAnimation = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }`;\n\n    return {\n        ...styles,\n        backgroundColor: `${props.theme.backgroundColor.darkGrey}`,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        animation: `${fadeAnimation} 250ms ease`,\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callScreenContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const headerStyle = () => {\n\n    return {\n        padding: \"20px 10px\",\n        width: \"100%\",\n        height: \"20%\",\n    }\n}\n\nexport const headerDurationStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        display: \"inline-block\",\n        padding: \"5px\"\n    }\n}\n\nexport const headerNameStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        textTransform: \"capitalize\",\n        fontSize: \"16px\",\n    }\n}\n\nexport const thumbnailWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"50%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"200px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const headerIconStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"15%\",\n        padding: \"10px\",\n        display: \"flex\",\n        justifyContent: \"center\"\n    }\n}\n\nexport const iconWrapperStyle = () => {\n\n    return {\n        display: \"flex\"\n    }\n}\n\nexport const iconStyle = (img) => {\n\n    return {\n        width: \"50px\",\n        height: \"50px\",\n        borderRadius: \"27px\",\n        backgroundColor: \"red\",\n        display: \"flex\",\n        margin: \"auto 10px\",\n        cursor: \"pointer\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"i\": {\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `white`,\n            display: \"inline-block\",\n            width: \"24px\",\n            height: \"24px\",\n        },\n    };\n}\n\nexport const errorContainerStyle = () => {\n\n    return {\n        color: \"#fff\",\n        textAlign: \"center\",\n        borderRadius: \"2px\",\n        padding: \"13px 10px\",\n        fontSize: \"13px\",\n        width: \"100%\",\n        height: \"10%\",\n        backgroundColor: \"#333\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/end-call.0d5e5b21.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from 'prop-types';\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CallScreenManager } from \"./controller\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tcallScreenWrapperStyle,\n\tcallScreenContainerStyle,\n\theaderStyle,\n\theaderDurationStyle,\n\theaderNameStyle,\n\tthumbnailWrapperStyle,\n\tthumbnailStyle,\n\theaderIconStyle,\n\ticonWrapperStyle,\n\ticonStyle,\n\terrorContainerStyle\n} from \"./style\"; \n\nimport callIcon from \"./resources/end-call.svg\";\n\nclass CometChatOutgoingCall extends React.PureComponent {\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.callScreenFrame = React.createRef();\n\n\t\tthis.state = {\n\t\t\terrorScreen: false,\n\t\t\terrorMessage: null,\n\t\t\toutgoingCallScreen: false,\n\t\t\tcallInProgress: null,\n\t\t}\n\n\t\tCometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n\t\t\tconsole.error(error);\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.CallScreenManager = new CallScreenManager();\n\t\tthis.CallScreenManager.attachListeners(this.callScreenUpdated);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.CallScreenManager.removeListeners();\n\t\tthis.CallScreenManager = null;\n\t}\n\n\tcallScreenUpdated = (key, call) => {\n\n\t\tswitch (key) {\n\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED://occurs at the caller end\n\t\t\t\tthis.outgoingCallAccepted(call);\n\t\t\tbreak;\n\t\t\tcase enums.OUTGOING_CALL_REJECTED://occurs at the caller end, callee rejects the call\n\t\t\t\tthis.outgoingCallRejected(call);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\toutgoingCallAccepted = (call) => {\n\n\t\tif (this.state.outgoingCallScreen === true) {\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_ACCEPTED\"], call);\n\n\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: call, errorScreen: false, errorMessage: null });\n\n\t\t\tif(this.context) {\n\t\t\t\tthis.context.setCallInProgress(call, enums.CONSTANTS[\"OUTGOING_DEFAULT_CALLING\"]);\n\t\t\t}\n\t\t}\n\t}\n\n\toutgoingCallRejected = (call) => {\n\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\tif (call.hasOwnProperty(\"status\") && call.status === CometChat.CALL_STATUS.BUSY) {\n\n\t\t\t//show busy message.\n\t\t\tconst errorMessage = `${call.sender.name} ${Translator.translate(\"ON_ANOTHER_CALL\", this.props.lang)}`;\n\t\t\tthis.setState({ errorScreen: true, errorMessage: errorMessage });\n\t\t\tthis.clearCallInProgress();\n\n\t\t} else {\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_REJECTED\"], call);\n\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null, errorScreen: false, errorMessage: null });\n\t\t\tthis.clearCallInProgress();\n\n\t\t}\n\t}\n\n\tstartCall = (call) => {\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\tthis.setState({ outgoingCallScreen: true, callInProgress: call, errorScreen: false, errorMessage: null });\n\t}\n\n\tactionHandler = (action, call) => {\n\n\t\tswitch (action) {\n\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\t\tthis.props.actionGenerated(action, call);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t//cancelling an outgoing call\n\tcancelCall = () => {\n\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\t//if user busy error, just close the callscreen, no need to reject the call\n\t\tif (this.state.errorScreen) {\n\n\t\t\tthis.setState({ errorScreen: false, errorMessage: null, outgoingCallScreen: false, callInProgress: null });\n\t\t\tthis.clearCallInProgress();\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]);\n\n\t\t} else {\n\n\t\t\tCometChat.rejectCall(this.state.callInProgress.sessionId, CometChat.CALL_STATUS.CANCELLED).then(call => {\n\n\t\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null });\n\t\t\t\tthis.clearCallInProgress();\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]);\n\n\t\t\t}).catch(error => {\n\n\t\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null });\n\t\t\t\tthis.clearCallInProgress();\n\n\t\t\t});\n\t\t}\n\t}\n\n\tclearCallInProgress = () => {\n\t\tif (this.context) {\n\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet callScreen = null, errorScreen = null;\n\t\tif (this.state.callInProgress) {\n\n\t\t\tlet avatar = (<CometChatAvatar user={this.state.callInProgress.receiver} />);\n\t\t\tif (this.state.errorScreen) {\n\t\t\t\terrorScreen = (\n\t\t\t\t\t<div css={errorContainerStyle()} className=\"callscreen__error__wrapper\"><div>{this.state.errorMessage}</div></div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (this.state.outgoingCallScreen) {\n\t\t\t\tcallScreen = (\n\t\t\t\t\t<div css={callScreenWrapperStyle(this.props, keyframes)} className=\"callscreen__wrapper\" ref={el => { this.callScreenFrame = el; }}>\n\t\t\t\t\t\t<div css={callScreenContainerStyle()} className=\"callscreen__container\">\n\t\t\t\t\t\t\t<div css={headerStyle()} className=\"callscreen__header\">\n\t\t\t\t\t\t\t\t<span css={headerDurationStyle()} className=\"header__calling\">{Translator.translate(\"CALLING\", this.props.lang)}</span>\n\t\t\t\t\t\t\t\t<h6 css={headerNameStyle()} className=\"header__name\">{this.state.callInProgress.receiver.name}</h6>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={thumbnailWrapperStyle()} className=\"callscreen__thumbnail__wrapper\">\n\t\t\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"callscreen__thumbnail\">{avatar}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{errorScreen}\n\t\t\t\t\t\t\t<div css={headerIconStyle()} className=\"callscreen__icons\">\n\t\t\t\t\t\t\t\t<div css={iconWrapperStyle()} className=\"icon__block\" onClick={this.cancelCall}>\n\t\t\t\t\t\t\t\t\t<div css={iconStyle(callIcon)} className=\"icon icon__end\"><i></i></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t\t}\n\t\t}\n\t\treturn callScreen;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatOutgoingCall.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n};\n\nCometChatOutgoingCall.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n}\n\nexport { CometChatOutgoingCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class messageAlertManager {\n\n    msgListenerId = \"incoming_message_\" + new Date().getTime();\n\n    attachListeners(callback) {\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, customMessage);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.msgListenerId);\n    }\n}\n","export const incomingCallWrapperStyle = (props, keyframes) => {\n\n    const slideDown = keyframes`\n    0% { transform: translateY(-50px); }\n    100% { transform: translateY(0px); }\n    `;\n\n    let positionValue = \"absolute\";\n    let leftPos = \"0\";\n    let rightPos = \"0\";\n    let topPos = \"0\";\n    let bottomPos = \"unset\";\n    let zIndexValue = \"998\";\n\n    if (props.hasOwnProperty(\"widgetsettings\")) {\n\n        if (props.widgetsettings.hasOwnProperty(\"dockedview\") && props.widgetsettings.dockedview) {\n\n            //if chat window is open\n            if (props.widgetsettings.hasOwnProperty(\"launched\") && props.widgetsettings.launched) {\n\n                zIndexValue = \"2147483000\";\n                positionValue = \"fixed\";\n                topPos = \"unset\";\n                bottomPos = \"100px\";\n\n                if (props.widgetsettings.hasOwnProperty(\"alignment\") && props.widgetsettings.alignment === \"left\") {\n\n                    rightPos = \"unset\";\n                    leftPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n\n                } else {\n\n                    leftPos = \"unset\";\n                    rightPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                }\n\n            } else {\n\n                leftPos = \"unset\";\n                positionValue = \"fixed\";\n            }\n        } else {\n            zIndexValue = \"2147483000\";\n        }\n    }\n\n    return {\n        position: positionValue,\n        top: topPos,\n        left: leftPos,\n        bottom: bottomPos,\n        right: rightPos,\n        borderRadius: \"10px\",\n        margin: \"16px\",\n        backgroundColor: `${props.theme.backgroundColor.callScreenGrey}`,\n        zIndex: zIndexValue,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        animation: `${slideDown} 250ms ease`,\n        width: \"248px\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n    }\n}\n\nexport const callDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 36px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"left\"\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n    }\n}\n\nexport const callTypeStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        textTransform: \"capitalize\",\n        lineHeight: \"20px\",\n        color: \"#8A8A8A\",\n        display: \"flex\",\n        justifyContent: \"start\",\n        alignItems: \"center\",\n        padding: \"2px 0 0 0px\",\n        \"span\": {\n            padding: \"0 5px\"\n        }\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        margin: \"10px 0 0 0\",\n    }\n}\n\nexport const ButtonStyle = (props, action) => {\n\n    const backgroundColor = (action) ? `${props.theme.backgroundColor.blue}!important` : `${props.theme.backgroundColor.red}!important`;\n\n    return {\n\t\t\tcursor: \"pointer\",\n\t\t\tpadding: \"8px 16px\",\n\t\t\tbackgroundColor: backgroundColor,\n\t\t\tborderRadius: \"5px\",\n\t\t\tcolor: `${props.theme.color.white}`,\n\t\t\tfontSize: \"100%\",\n\t\t\toutline: \"0\",\n\t\t\tborder: \"0\",\n\t\t\twidth: \"49%\",\n\t\t\toverflow: \"hidden\",\n\t\t};\n}\n\nexport const callIconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tcursor: \"pointer\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/incoming-video-call.37a9f849.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { messageAlertManager } from \"./controller\";\n\nimport { CometChatAvatar } from \"../../Shared\";\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { Storage } from \"../../../util/Storage\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    incomingCallWrapperStyle,\n    callContainerStyle,\n    headerWrapperStyle,\n    callDetailStyle,\n    nameStyle,\n    callTypeStyle,\n    thumbnailStyle,\n    headerButtonStyle,\n    ButtonStyle,\n\tcallIconStyle\n} from \"./style\";\n\nimport videoCallIcon from \"./resources/incoming-video-call.svg\";\n\nclass CometChatIncomingDirectCall extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tincomingCall: null,\n\t\t\tcallInProgress: null,\n\t\t\tmaximize: true,\n\t\t};\n\n\t\tthis.callButtonRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\n\t\tthis.MessageAlertManager = new messageAlertManager();\n\t\tthis.MessageAlertManager.attachListeners(this.messageListenerCallback);\n\n\t\tStorage.attachChangeDetection(this.logStorageChange);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.incomingCall) {\n\t\t\tthis.adjustFontSize();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tStorage.detachChangeDetection(this.logStorageChange);\n\t}\n\n\tadjustFontSize = () => {\n\t\tif (this.callButtonRef && this.callButtonRef.current) {\n\t\t\tlet reduceFontSize = false;\n\t\t\tconst buttonNodeList = this.callButtonRef.current.querySelectorAll(\"button\");\n\n\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\tconst parentContainerWidth = buttonNode.clientWidth;\n\t\t\t\tconst currentTextWidth = buttonNode.scrollWidth;\n\n\t\t\t\tif (parentContainerWidth < currentTextWidth) {\n\t\t\t\t\treduceFontSize = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (reduceFontSize) {\n\t\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\t\tbuttonNode.style.fontSize = \"85%\";\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageListenerCallback = (key, message) => {\n\t\tswitch (key) {\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED: //occurs at the callee end\n\t\t\t\tthis.incomingCallReceived(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tincomingCallReceived = message => {\n\t\tif (this._isMounted) {\n\t\t\tif (message.type !== enums.CUSTOM_TYPE_MEETING) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (Object.keys(this.context.callInProgress).length) {\n\t\t\t\tif (this.context.checkIfDirectCallIsOngoing() && this.context.getActiveCallSessionID() === message.data.customData.sessionID) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (message?.sender.uid !== this.loggedInUser?.uid) {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({incomingCall: message});\n\t\t\t}\n\t\t}\n\t};\n\n\tjoinCall = () => {\n\t\tthis.checkForActiveCallAndEndCall()\n\t\t\t.then(response => {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ACCEPT_DIRECT_CALL\"], true);\n\n\t\t\t\tif (this.context) {\n\t\t\t\t\tthis.context.setCallInProgress(this.state.incomingCall, enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"]);\n\t\t\t\t}\n\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], this.state.incomingCall);\n\t\t\t\tthis.setState({incomingCall: null, callInProgress: this.state.incomingCall});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tignoreCall = () => {\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], this.state.incomingCall);\n\t\tthis.setState({incomingCall: null});\n\t};\n\n\tcheckForActiveCallAndEndCall = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (this.isCallActive() === false) {\n\t\t\t\treturn resolve({success: true});\n\t\t\t}\n\n\t\t\tlet sessionID = this.getActiveCallSessionID();\n\t\t\tCometChat.endCall(sessionID)\n\t\t\t\t.then(response => {\n\t\t\t\t\treturn resolve(response);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treturn reject(error);\n\t\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tisCallActive = () => {\n\t\tif (Object.keys(this.context.callInProgress).length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet sessionID = this.getActiveCallSessionID();\n\t\tif (!sessionID) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\treturn this.context.getActiveCallSessionID();\n\t};\n\n\tactionHandler = action => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n\t\t\t\tthis.setState({callInProgress: null});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlogStorageChange = event => {\n\t\tif (event?.key !== enums.CONSTANTS[\"ACTIVECALL\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.newValue || event.oldValue) {\n\t\t\tlet call;\n\t\t\tif (event.newValue) {\n\t\t\t\tcall = JSON.parse(event.newValue);\n\t\t\t} else if (event.oldValue) {\n\t\t\t\tcall = JSON.parse(event.oldValue);\n\t\t\t}\n\n\t\t\tif (this.state.incomingCall?.sessionId === call?.sessionId) {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({incomingCall: null});\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tlet callScreen = null,\n\t\t\tincomingCallAlert = null;\n\t\tif (this.state.incomingCall) {\n\t\t\tlet avatar = (\n\t\t\t\t<div css={thumbnailStyle()} className=\"header__thumbnail\">\n\t\t\t\t\t<CometChatAvatar cornerRadius=\"50%\" image={this.state.incomingCall.sender.avatar} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tconst callType = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={callIconStyle(videoCallIcon, this.context)} title={Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t<span>{Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}</span>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t\tincomingCallAlert = (\n\t\t\t\t<div css={incomingCallWrapperStyle(this.props, keyframes)} className=\"callalert__wrapper\">\n\t\t\t\t\t<div css={callContainerStyle()} className=\"callalert__container\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"callalert__header\">\n\t\t\t\t\t\t\t<div css={callDetailStyle()} className=\"header__detail\">\n\t\t\t\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.incomingCall.sender.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={callTypeStyle(this.props)} className=\"calltype\">\n\t\t\t\t\t\t\t\t\t{callType}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={headerButtonStyle()} className=\"callalert__buttons\" ref={this.callButtonRef}>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 0)} className=\"button button__ignore\" onClick={this.ignoreCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"IGNORE\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 1)} className=\"button button__join\" onClick={this.joinCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"JOIN\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.callInProgress) {\n\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{incomingCallAlert}\n\t\t\t\t{callScreen}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatIncomingDirectCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n};\n\nCometChatIncomingDirectCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n}\n\nexport { CometChatIncomingDirectCall };\n","/* eslint-disable no-useless-concat */\n/* eslint-disable no-extend-native */\nimport dateFormat from \"dateformat\";\nimport Translator from \"../resources/localization/translator\";\nconst milliseconds = 1000;\nconst seconds = 1 * milliseconds;\nconst minute = 60 * seconds;\nconst hour = 60 * minute;\nconst day = 24 * hour;\n\nconst wordBoundary = {\n    start: `(?:^|:|;|'|\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)`,\n    end: `(?=$|:|;|'|\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)`,\n};\n\nconst emailPattern = new RegExp(\n    wordBoundary.start +\n    `[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Za-z]{2,6}` +\n    wordBoundary.end,\n    'gi'\n); \nconst urlPattern = new RegExp(\n    wordBoundary.start +\n    `((https?://|www\\\\.|pic\\\\.)[-\\\\w;/?:@&=+$\\\\|\\\\_.!~*\\\\|'()\\\\[\\\\]%#,]+[\\\\w/#](\\\\(\\\\))?)` +\n    wordBoundary.end,\n    'gi'\n);\nconst phoneNumPattern = new RegExp(\n    wordBoundary.start +\n    `(?:\\\\+?(\\\\d{1,3}))?([-. (]*(\\\\d{3})[-. )]*)?((\\\\d{3})[-. ]*(\\\\d{2,4})(?:[-.x ]*(\\\\d+))?)` +\n    wordBoundary.end,\n    'gi'\n);\n\nexport const linkify = (message) => {\n\n    let outputStr = message.replace(phoneNumPattern, \"<a target='blank' rel='noopener noreferrer' href='tel:$&'>$&</a>\");\n    outputStr = outputStr.replace(emailPattern, \"<a target='blank' rel='noopener noreferrer' href='mailto:$&'>$&</a>\");\n\n    const results = outputStr.match(urlPattern);\n\n    results &&\n        results.forEach((url) => {\n\n            url = url.trim();\n            let normalizedURL = url;\n            if (!url.startsWith('http')) {\n                normalizedURL = `//${url}`;\n            }\n            outputStr = outputStr.replace(\n                url,\n                `<a target='blank' rel='noopener noreferrer' href=\"${normalizedURL}\">${url}</a>`\n            );\n        });\n\n    return outputStr;\n}\n\nexport const checkMessageForExtensionsData = (message, extensionKey) => {\n\n    let output = null;\n    \n    if (message.hasOwnProperty(\"metadata\")) {\n\n        const metadata = message.metadata;\n        const injectedObject = metadata[\"@injected\"];\n        if (injectedObject && injectedObject.hasOwnProperty(\"extensions\")) {\n\n            const extensionsObject = injectedObject[\"extensions\"];\n            if (extensionsObject && extensionsObject.hasOwnProperty(extensionKey)) {\n\n                output = extensionsObject[extensionKey];\n            }\n        }\n    }\n\n    return output;\n}\n\nexport const getMessageFileMetadata = (message, metadataKey) => {\n\n    let fileMetadata = null;\n    if(message.hasOwnProperty(\"metadata\")) {\n\n        const metadata = message[\"metadata\"];\n        if (metadata.hasOwnProperty(metadataKey)) {\n            fileMetadata = metadata[metadataKey];\n        }\n    }\n\n    return fileMetadata;\n}\n\nexport const ID = () => {\n    // Math.random should be unique because of its seeding algorithm.\n    // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n    // after the decimal.\n    return '_' + Math.random().toString(36).substr(2, 9);\n};\n\nexport const getUnixTimestamp = () => {\n\n    return Math.round(+new Date() / 1000);\n}\n\nconst dateDiffInDays = (a, b) => {\n\n    const milliSecondsPerDay = day;\n\n    // Discard the time and time-zone information.\n    const utc1 = Date.UTC(a.getFullYear(), a.getMonth(), a.getDate());\n    const utc2 = Date.UTC(b.getFullYear(), b.getMonth(), b.getDate());\n\n    return Math.floor((utc2 - utc1) / milliSecondsPerDay);\n}\n\n\nexport const getTimeStampForLastMessage = (timestamp, lang) => {\n\n    const timeStampInMilliSeconds = timestamp * 1000;\n\n    const messageTimestamp = new Date(timeStampInMilliSeconds);\n    const currentTimestamp = new Date(Date.now());\n\n    const dateDifferenceInDays = dateDiffInDays(messageTimestamp, currentTimestamp);\n\n    if (dateDifferenceInDays < 1) {\n\n        timestamp = dateFormat(messageTimestamp, \"shortTime\");\n\n    } else if (dateDifferenceInDays < 2) {\n\n        timestamp = Translator.translate(\"YESTERDAY\", lang);\n\n    } else if (dateDifferenceInDays < 7) {\n\n        timestamp = dateFormat(messageTimestamp, \"dddd\");\n        timestamp = Translator.translate(timestamp, lang);\n\n    } else {\n\n        timestamp = dateFormat(messageTimestamp, \"dS mmm\");\n    }\n\n    return timestamp;\n}\n\nexport const getMessageSentTime = (timestamp, lang) => {\n\n    let oTimestamp = null;\n\n    const messageTimestamp = new Date(timestamp) * 1000;\n    oTimestamp = dateFormat(messageTimestamp, \"shortTime\");\n\n    return oTimestamp;\n}\n\nexport const getMessageDate = (timestamp, lang) => {\n\n    const timeStampInMilliSeconds = timestamp * 1000;\n\n    const messageTimestamp = new Date(timeStampInMilliSeconds);\n    const currentTimestamp = new Date(Date.now());\n\n    const dateDifferenceInDays = dateDiffInDays(messageTimestamp, currentTimestamp);\n\n    if (dateDifferenceInDays < 1) {\n\n        timestamp = Translator.translate(\"TODAY\", lang);\n\n    } else if (dateDifferenceInDays < 2) {\n\n        timestamp = Translator.translate(\"YESTERDAY\", lang);\n\n    } else if (dateDifferenceInDays < 7) {\n\n        timestamp = dateFormat(messageTimestamp, \"dddd\");\n        timestamp = Translator.translate(timestamp, lang);\n\n    } else {\n\n        timestamp = dateFormat(timeStampInMilliSeconds, \"dS mmm, yyyy\");\n    }\n\n    return timestamp;\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { ID, getUnixTimestamp } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nclass CometChatOutgoingDirectCall extends React.Component {\n\n    sessionID;\n    static contextType = CometChatContext;\n    \n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            callInProgress: null,\n        }\n\n        this.callScreenRef = React.createRef();\n        \n        CometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n            console.error(error);\n        });\n    }\n\n    actionHandler = (action) => {\n\n        switch(action) {\n\n            case enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n            case enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n                this.setState({ callInProgress: null });\n            break;\n            default:\n            break;\n        }\n    }\n\n    startCall = (sessionID) => {\n\n        this.sessionID = sessionID;\n        if (!this.sessionID) {\n            const errorCode = \"ERR_EMPTY_CALL_SESSION_ID\";\n            this.context.setToastMessage(\"error\", errorCode);\n            return false;\n        }\n\n        const customMessage = this.prepareCustomMessageData();\n        this.setState({ callInProgress: customMessage });\n        if(this.context) {\n            this.context.setCallInProgress(customMessage, enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]);\n        }\n\n        setTimeout(() => {\n            this.sendCustomMessage();\n        }, 5);\n    }\n\n    joinCall = (sessionID) => {\n\n        this.sessionID = sessionID;\n        if (this.sessionID === null) {\n            const errorCode = \"ERR_EMPTY_CALL_SESSION_ID\";\n            this.context.setToastMessage(\"error\", errorCode);\n            return false;\n        }\n\n        const customMessage = this.prepareCustomMessageData();\n        this.setState({ callInProgress: customMessage });\n        if (this.context) {\n            this.context.setCallInProgress(customMessage, enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]);\n        }\n    }\n\n    prepareCustomMessageData = () => {\n\n        const receiverType = CometChat.RECEIVER_TYPE.GROUP;\n        const customData = { \"sessionID\": this.sessionID, \"sessionId\": this.sessionID, \"callType\": CometChat.CALL_TYPE.VIDEO };\n        const customType = enums.CUSTOM_TYPE_MEETING;\n        const conversationId = `group_${this.sessionID}`;\n\n        const customMessage = new CometChat.CustomMessage(this.sessionID, receiverType, customType, customData);\n        customMessage.setSender(this.loggedInUser);\n        customMessage.setReceiver(receiverType);\n        customMessage.setConversationId(conversationId);\n        customMessage._composedAt = getUnixTimestamp();\n        customMessage._id = ID();\n\n        return customMessage;\n    }\n\n    sendCustomMessage = () => {\n\n        const customMessage = this.prepareCustomMessageData();\n        this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [customMessage]);\n\n        CometChat.sendCustomMessage(customMessage).then(message => {\n\n            const newMessageObj = { ...message, \"_id\": customMessage._id };\n            this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\n        }).catch(error => {\n\n            const newMessageObj = { ...customMessage, \"error\": error };\n            this.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\n            const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n            this.context.setToastMessage(\"error\", errorCode);\n        });\n    }\n\n    render() {\n\n        let callScreen = null;\n        if(this.state.callInProgress) {\n\n            callScreen = (\n                <CometChatCallScreen ref={el => this.callScreenRef = el} loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />\n            );\n        }\n        return callScreen;\n    }\n}\n\n// Specifies the default values for props:\nCometChatOutgoingDirectCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n};\n\nCometChatOutgoingDirectCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n}\n\nexport { CometChatOutgoingDirectCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { UIKitSettings } from \"../../../util/UIKitSettings\";\n\nexport class ConversationListManager {\n\n    conversationRequest = null;\n\n    conversationListenerId = \"chatlist_\" + new Date().getTime();\n    userListenerId = \"chatlist_user_\" + new Date().getTime();\n    groupListenerId = \"chatlist_group_\" + new Date().getTime();\n    callListenerId = \"chatlist_call_\" + new Date().getTime();\n\n    constructor(context) {\n\n        const chatListMode = context.UIKitSettings.chatListMode;\n        const chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\n        switch (chatListMode) {\n            case chatListFilterOptions[\"USERS\"]:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setConversationType(CometChat.ACTION_TYPE.TYPE_USER).setLimit(30).build();\n            break;\n            case chatListFilterOptions[\"GROUPS\"]:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setConversationType(CometChat.ACTION_TYPE.TYPE_GROUP).setLimit(30).build();\n                break;\n            default:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setLimit(30).build();\n            break;\n        }\n    }\n\n    fetchNextConversation() {\n        return this.conversationRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, offlineUser);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, changedGroup, message, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, kickedFrom, message, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, bannedFrom, message, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, unbannedFrom, message, {\"user\": unbannedUser});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, userAddedIn, message, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, group, message, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, joinedGroup, message, {\"user\": joinedUser});\n                }\n            })\n        );\n\n        CometChat.addMessageListener(\n            this.conversationListenerId,\n            new CometChat.MessageListener({\n                onTextMessageReceived: textMessage => {\n                    callback(enums.TEXT_MESSAGE_RECEIVED, null, textMessage);\n                },\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, null, mediaMessage);\n                },\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, null, customMessage);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, null, deletedMessage);\n                },\n                onMessageEdited: editedMessage => {\n                    callback(enums.MESSAGE_EDITED, null, editedMessage);\n                },\n                onMessagesRead: messageReceipt => {\n                    callback(enums.MESSAGE_READ, null, messageReceipt);\n                }\n            })\n        );\n\n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                  callback(enums.INCOMING_CALL_RECEIVED, null, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, null, call);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.conversationListenerId);\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n        CometChat.removeCallListener(this.callListenerId);\n    }\n\n}\n","class CometChatEvent {\n\tstatic _triggers = {};\n\n\tstatic on(event, callback) {\n\t\tif (!CometChatEvent._triggers[event]) CometChatEvent._triggers[event] = [];\n\t\tCometChatEvent._triggers[event].push(callback);\n\t}\n\n\tstatic triggerHandler(event, params) {\n\t\tif (CometChatEvent._triggers[event]) {\n\t\t\tfor (const i in CometChatEvent._triggers[event]) CometChatEvent._triggers[event][i](params);\n\t\t}\n\t}\n}\n\nexport { CometChatEvent };","export const chatsWrapperStyle = (props, theme) => {\n\n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const chatsHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"69px\",\n\t};\n};\n\nexport const chatsHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) no-repeat left center`,\n\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[0]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const chatsHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n    \n    return {\n        margin: \"0\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"22px\",\n        fontWeight: \"700\",\n        lineHeight: \"26px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const chatsMsgStyle = () =>{\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const chatsMsgTxtStyle = theme => {\n    \n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const chatsListStyle = () => {\n\n    return {\n        height: \"calc(100% - 75px)\",\n        width: \"100%\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { ConversationListManager } from \"./controller\";\n\nimport { CometChatConfirmDialog, CometChatToastNotification } from \"../../Shared\";\nimport { CometChatConversationListItem } from \"../\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { UIKitSettings } from \"../../../util/UIKitSettings\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n  chatsWrapperStyle,\n  chatsHeaderStyle,\n  chatsHeaderCloseStyle,\n  chatsHeaderTitleStyle,\n  chatsMsgStyle,\n  chatsMsgTxtStyle,\n  chatsListStyle\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatConversationList extends React.Component {\n\n\tloggedInUser = null;\n\tincrementUnreadCount = false;\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tconversationlist: [],\n\t\t\tonItemClick: null,\n\t\t\thideGroupActionMessages: false,\n\t\t\tshowConfirmDialog: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t\tconversationToBeDeleted: null,\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.chatListRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.hideGroupActionMessages();\n\n\t\tthis.setState({ conversationlist: [] }, () => {\n\t\t\tthis.ConversationListManager = new ConversationListManager(this.getContext());\n\t\t\tthis.getConversations();\n\t\t\tthis.ConversationListManager.attachListeners(this.conversationCallback);\n\t\t});\n\n\t\t//updating last message whenever a message is composed and sent\n\t\tCometChatEvent.on(\"updateLastMessage\", args => this.updateLastMessage(args));\n\n\t\t//updating unreadcount whenever a new message is received and not read.\n\t\tCometChatEvent.on(enums.EVENTS[\"NEW_MESSAGES\"], args => this.updateUnreadCount(args));\n\n\t\t//clearing unreadcount whenever scrolled to the bottom.\n\t\tCometChatEvent.on(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], args => this.clearUnreadCount(args));\n\t}\n\n\tcomponentDidUpdate() {\n\n\t\t//when a particular chat is selected from the chats list\n\t\tif ((Object.keys(this.getContext().item).length && this.getContext().type.length) || this.getContext().item !== this.item) {\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\t\t\tconst conversationObj = this.filterConversation();\n\t\t\t\n\t\t\tif (conversationObj && conversationObj.unreadMessageCount > 0 && this.incrementUnreadCount === false) {\n\t\t\t\tlet conversationKey = conversationlist.indexOf(conversationObj);\n\t\t\t\tlet newConversationObj = { ...conversationObj, unreadMessageCount: 0 };\n\n\t\t\t\tconversationlist.splice(conversationKey, 1, newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//if user is blocked/unblocked, update conversationlist in state\n\t\tif (this.item && Object.keys(this.item).length && this.item.hasOwnProperty(\"uid\") && this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.item.uid === this.getContext().item.uid && this.item.blockedByMe !== this.getContext().item.blockedByMe) {\n\t\t\tlet conversationlist = [...this.state.conversationlist];\n\n\t\t\t//search for user\n\t\t\tlet convKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_USER && c.conversationWith.uid === this.getContext().item.uid);\n\t\t\tif (convKey > -1) {\n\t\t\t\tconst convObj = conversationlist[convKey];\n\n\t\t\t\tlet convWithObj = { ...convObj.conversationWith };\n\t\t\t\tlet newConvWithObj = Object.assign({}, convWithObj, { blockedByMe: this.getContext().item.blockedByMe });\n\n\t\t\t\tlet newConvObj = Object.assign({}, convObj, { conversationWith: newConvWithObj });\n\n\t\t\t\tconversationlist.splice(convKey, 1, newConvObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//if group detail(membersCount) is updated, update grouplist\n\t\tif (this.item && Object.keys(this.item).length && this.item.hasOwnProperty(\"guid\") && this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.item.guid === this.getContext().item.guid && this.item.membersCount !== this.getContext().item.membersCount) {\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet convKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === this.getContext().item.guid);\n\t\t\tif (convKey > -1) {\n\t\t\t\tconst convObj = conversationlist[convKey];\n\n\t\t\t\tlet convWithObj = { ...convObj.conversationWith };\n\t\t\t\tlet newConvWithObj = Object.assign({}, convWithObj, { membersCount: this.getContext().item.membersCount });\n\n\t\t\t\tlet newConvObj = Object.assign({}, convObj, { conversationWith: newConvWithObj });\n\n\t\t\t\tconversationlist.splice(convKey, 1, newConvObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//upon user deleting a group, remove group from conversation list\n\t\tif (this.getContext().deletedGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().deletedGroupId.trim();\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet conversationKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === guid);\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tconversationlist.splice(conversationKey, 1);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//upon user leaving a group, remove group from conversation list\n\t\tif (this.getContext().leftGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().leftGroupId.trim();\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet conversationKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === guid);\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tconversationlist.splice(conversationKey, 1);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.hideGroupActionMessages();\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\tthis._isMounted = false;\n\t\tthis.ConversationListManager.removeListeners();\n\t\tthis.ConversationListManager = null;\n\n\t};\n\n\tfilterConversation = () => {\n\n\t\tconst conversationlist = [...this.state.conversationlist];\n\t\tconst conversationObj = conversationlist.find(c => {\n\t\t\tif (\n\t\t\t\t(c.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.USER && c.conversationWith.uid === this.getContext().item.uid) ||\n\t\t\t\t(c.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.GROUP && c.conversationWith.guid === this.getContext().item.guid)\n\t\t\t) {\n\t\t\t\treturn c;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t});\n\n\t\treturn conversationObj;\n\t}\n\n\tupdateLastMessage = lastMessage => {\n\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationList.findIndex(c => c.conversationId === lastMessage.conversationId);\n\n\t\tif (conversationKey > -1) {\n\t\t\tconst conversationObj = conversationList[conversationKey];\n\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: { ...lastMessage } };\n\n\t\t\tif (conversationKey === 0) {\n\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t} else {\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t}\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t}\n\t\t} else {\n\t\t\tconst chatListMode = this.getContext().UIKitSettings.chatListMode;\n\t\t\tconst chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\t\t\tif (chatListMode !== chatListFilterOptions[\"USERS_AND_GROUPS\"]) {\n\t\t\t\tif ((chatListMode === chatListFilterOptions[\"USERS\"] && lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) || (chatListMode === chatListFilterOptions[\"GROUPS\"] && lastMessage.receiverType === CometChat.RECEIVER_TYPE.USER)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet newConversation = new CometChat.Conversation();\n\t\t\tnewConversation.setConversationId(lastMessage.conversationId);\n\t\t\tnewConversation.setConversationType(this.getContext().type);\n\t\t\tnewConversation.setConversationWith(this.getContext().item);\n\t\t\tnewConversation.setLastMessage(lastMessage);\n\t\t\tnewConversation.setUnreadMessageCount(0);\n\n\t\t\tconversationList.unshift(newConversation);\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t}\n\t\t}\n\t};\n\n\tupdateUnreadCount = params => {\n\t\t\n\t\tthis.incrementUnreadCount = true;\n\t\treturn false;\n\t};\n\n\tclearUnreadCount = params => {\n\n\t\tthis.incrementUnreadCount = false;\n\n\t\tlet conversationList = [...this.state.conversationlist];\n\t\tconst conversationObj = this.filterConversation();\n\n\t\tif (conversationObj && conversationObj.unreadMessageCount > 0) {\n\t\t\tlet conversationKey = conversationList.indexOf(conversationObj);\n\t\t\tlet newConversationObj = { ...conversationObj, unreadMessageCount: 0 };\n\n\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t}\n\t\treturn false;\n\t};\n\n\tconversationCallback = (key, item, message, options) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE:\n\t\t\t\tthis.updateUser(item);\n\t\t\t\tbreak;\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\t\tthis.markMessageAsDelivered(message);\n\t\t\t\tthis.conversationUpdated(key, message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.conversationUpdated(key, message, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tmarkMessageAsDelivered = message => {\n\n\t\t//if chat window is not open, mark message as delivered\n\t\tif ((this.getContext().type === \"\" || Object.keys(this.getContext().item).length === 0) \n\t\t&& message.hasOwnProperty(\"deliveredAt\") === false) {\n\t\t\tCometChat.markAsDelivered(message);\n\t\t}\n\t};\n\n\tconversationUpdated = (key, message, options) => {\n\t\tconst chatListMode = this.getContext().UIKitSettings.chatListMode;\n\t\tconst chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\n\t\tif (chatListMode !== chatListFilterOptions[\"USERS_AND_GROUPS\"]) {\n\t\t\tif ((chatListMode === chatListFilterOptions[\"USERS\"] && message.receiverType === CometChat.RECEIVER_TYPE.GROUP) || (chatListMode === chatListFilterOptions[\"GROUPS\"] && message.receiverType === CometChat.RECEIVER_TYPE.USER)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tswitch (key) {\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\t\tthis.updateConversation(key, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\t\tthis.conversationEditedDeleted(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tthis.updateGroupMemberAdded(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tthis.updateGroupMemberRemoved(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\tthis.updateGroupMemberScopeChanged(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.updateGroupMemberChanged(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\t\tthis.onMessagesRead(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateUser = user => {\n\t\tconst conversationlist = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationlist.findIndex(conversationObj => conversationObj.conversationType === \"user\" && conversationObj.conversationWith.uid === user.uid);\n\n\t\tif (conversationKey > -1) {\n\t\t\tlet conversationObj = { ...conversationlist[conversationKey] };\n\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith, status: user.getStatus() };\n\n\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: conversationWithObj };\n\t\t\tconversationlist.splice(conversationKey, 1, newConversationObj);\n\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t}\n\t};\n\n\thideGroupActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.hideGroupActionMessages) {\n\t\t\t\t\tthis.setState({ hideGroupActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.hideGroupActionMessages !== false) {\n\t\t\t\t\tthis.setState({ hideGroupActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tplayAudio = message => {\n\t\tif (message.category === CometChat.CATEGORY_ACTION && message.type === CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER && this.state.hideGroupActionMessages === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * Sound alert for incoming messages\n\t\t */\n\t\tconst receiverType = message.getReceiverType();\n\t\tconst receiverId = receiverType === CometChat.RECEIVER_TYPE.USER ? message.getSender().uid : message.getReceiverId();\n\n\t\tif (receiverType === this.getContext().type) {\n\t\t\tif ((receiverType === CometChat.RECEIVER_TYPE.USER && receiverId === this.getContext().item.uid) || (receiverType === CometChat.RECEIVER_TYPE.GROUP && receiverId === this.getContext().item.guid)) {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"], this.getContext());\n\t\t\t} else {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"], this.getContext());\n\t\t\t}\n\t\t} else {\n\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"], this.getContext());\n\t\t}\n\t};\n\n\tonMessagesRead = messageReceipt => {\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconversationList.forEach((conversation, conversationKey) => {\n\t\t\tif (conversation?.conversationType === messageReceipt.receiverType) {\n\t\t\t\tif ((conversation?.conversationType === CometChat.RECEIVER_TYPE.USER && messageReceipt.receiver === conversation?.conversationWith?.uid) || (conversation?.conversationType === CometChat.RECEIVER_TYPE.GROUP && messageReceipt.receiver === conversation?.conversationWith?.guid)) {\n\t\t\t\t\tlet unreadMessageCount = conversation.unreadMessageCount;\n\t\t\t\t\t/**\n\t\t\t\t\t * If the message id of the read reciept if greater than or equal to the lastmessage id, set unreadmessagecount to 0\n\t\t\t\t\t */\n\t\t\t\t\tif (messageReceipt?.messageId >= conversation?.lastMessage?.id) {\n\t\t\t\t\t\tunreadMessageCount = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationObj = { ...conversation, unreadMessageCount: unreadMessageCount };\n\t\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tmakeConversation = message => {\n\t\tconst promise = new Promise(resolve => {\n\t\t\tCometChat.CometChatHelper.getConversationFromMessage(message).then(conversation => {\n\t\t\t\tlet conversationList = [...this.state.conversationlist];\n\t\t\t\tlet conversationKey = conversationList.findIndex(c => c.conversationId === conversation.conversationId);\n\n\t\t\t\tlet conversationObj = { ...conversation };\n\t\t\t\tif (conversationKey > -1) {\n\t\t\t\t\tconversationObj = { ...conversationList[conversationKey] };\n\t\t\t\t}\n\n\t\t\t\tresolve({ conversationKey: conversationKey, conversationObj: conversationObj, conversationList: conversationList });\n\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tmakeUnreadMessageCount = (message, conversation = {}) => {\n\t\t/**\n\t\t * If the received message is sent by the logged in user, don't increment the unread count\n\t\t */\n\t\tif (Object.keys(conversation).length === 0) {\n\t\t\tif (message.sender.uid === this.loggedInUser?.uid) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tlet unreadMessageCount = parseInt(conversation.unreadMessageCount);\n\t\tif (\n\t\t\t(this.getContext().item.hasOwnProperty(\"guid\") && conversation.conversationWith.hasOwnProperty(\"guid\") && this.getContext().item.guid === conversation.conversationWith.guid) ||\n\t\t\t(this.getContext().item.hasOwnProperty(\"uid\") && conversation.conversationWith.hasOwnProperty(\"uid\") && this.getContext().item.uid === conversation.conversationWith.uid)\n\t\t) {\n\t\t\tif (this.incrementUnreadCount === true) {\n\t\t\t\tunreadMessageCount = ++unreadMessageCount;\n\t\t\t} else {\n\t\t\t\tunreadMessageCount = 0;\n\t\t\t}\n\t\t} else {\n\t\t\tunreadMessageCount = this.shouldIncrementCount(message) ? ++unreadMessageCount : unreadMessageCount;\n\t\t}\n\t\treturn unreadMessageCount;\n\t};\n\n\tshouldIncrementCount = incomingMessage => {\n\t\tlet output = false;\n\t\tif (\n\t\t\t(incomingMessage.category === CometChat.CATEGORY_MESSAGE && incomingMessage.sender.uid !== this.loggedInUser?.uid) ||\n\t\t\t(this.getContext().hasKeyValue(incomingMessage, enums.KEYS[\"METADATA\"]) &&\n\t\t\t\tthis.getContext().hasKeyValue(incomingMessage[enums.KEYS[\"METADATA\"]], enums.KEYS[\"INCREMENT_UNREAD_COUNT\"]) &&\n\t\t\t\tincomingMessage[enums.KEYS[\"METADATA\"]][enums.KEYS[\"INCREMENT_UNREAD_COUNT\"]] === true &&\n\t\t\t\tincomingMessage.sender.uid !== this.loggedInUser?.uid)\n\t\t) {\n\t\t\toutput = true;\n\t\t}\n\t\t\n\t\treturn output;\n\t};\n\n\tmakeLastMessage = (message, conversation = {}) => {\n\t\tconst newMessage = Object.assign({}, message);\n\t\treturn newMessage;\n\t};\n\n\tupdateConversation = (key, message) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet unreadMessageCount = this.makeUnreadMessageCount(message, conversationObj);\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\n\t\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: lastMessageObj, unreadMessageCount: unreadMessageCount };\n\t\t\t\t\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\n\t\t\t\tif (key !== enums.INCOMING_CALL_RECEIVED && key !== enums.INCOMING_CALL_CANCELLED) {\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet unreadMessageCount = this.makeUnreadMessageCount(message, {});\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message);\n\t\t\t\t\n\t\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: lastMessageObj, unreadMessageCount: unreadMessageCount };\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\n\t\t\t\tif (key !== enums.INCOMING_CALL_RECEIVED && key !== enums.INCOMING_CALL_CANCELLED) {\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconversationEditedDeleted = message => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = conversationObj.lastMessage;\n\n\t\t\t\tif (lastMessageObj.id === message.id) {\n\t\t\t\t\tconst newLastMessageObj = Object.assign({}, lastMessageObj, message);\n\t\t\t\t\tlet newConversationObj = Object.assign({}, conversationObj, { lastMessage: newLastMessageObj });\n\t\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberAdded = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t}\n\n\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\n\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\tthis.playAudio(message);\n\t\t\t} else {\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\t\t\t\t\tlet scope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t\t\tlet hasJoined = options.hasJoined;\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount, scope: scope, hasJoined: hasJoined };\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberRemoved = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t} else {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberScopeChanged = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\n\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\n\t\t\t\tlet scope = conversationWithObj.scope;\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tscope = options.scope;\n\t\t\t\t}\n\n\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount, scope: scope };\n\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\tthis.playAudio(message);\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberChanged = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tif (options && this.loggedInUser.uid !== options.user.uid) {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getConversations();\n\t};\n\n\t//click handler\n\thandleClick = conversation => {\n\n\t\tif (!this.props.onItemClick) return;\n\t\tthis.props.onItemClick(conversation.conversationWith, conversation.conversationType);\n\t};\n\n\thandleMenuClose = () => {\n\t\tif (!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\tgetConversations = () => {\n\t\t\n\t\tthis.ConversationListManager.fetchNextConversation()\n\t\t\t.then(conversationList => {\n\n\t\t\t\tif (conversationList.length === 0) {\n\t\t\t\t\tif (this.state.conversationlist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_CHATS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t\tlet conversations = [...this.state.conversationlist];\n\t\t\t\t//if conversation exists already in the state, remove it from this list\n\t\t\t\tconversationList.forEach(eachConversation => {\n\n\t\t\t\t\tlet conversationKey = conversations.findIndex(c => c.conversationId === eachConversation.conversationId);\n\t\t\t\t\tif (conversationKey > -1) {\n\n\t\t\t\t\t\tconst newUnreadMessageCount = conversations[conversationKey][\"unreadMessageCount\"] + eachConversation[\"unreadMessageCount\"];\n\t\t\t\t\t\tconst updatedConversation = { ...conversations[conversationKey], unreadMessageCount: newUnreadMessageCount };\n\t\t\t\t\t\tconversations.splice(conversationKey, 1, updatedConversation);\n\n\t\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tthis.setState({ conversationlist: [...conversations, ...conversationList] });\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\tactionHandler = (action, conversation) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CONVERSATION_DELETED\"]:\n\t\t\t\tthis.conversationDeleted(conversation);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_CONVERSATION\"]:\n\t\t\t\tthis.deleteConversation(conversation);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tdeleteConversation = conversation => {\n\n\t\tif (!this.state.showConfirmDialog) {\n\t\t\tthis.setState({ showConfirmDialog: true, conversationToBeDeleted: conversation });\n\t\t}\n\t};\n\n\tonDeleteConfirm = e => {\n\n\t\tconst optionSelected = e.target.value;\n\n\t\tthis.setState({ showConfirmDialog: false });\n\t\tif (optionSelected === \"yes\") {\n\n\t\t\tconst conversation = this.state.conversationToBeDeleted;\n\t\t\tconst conversationWith = conversation.conversationType === CometChat.RECEIVER_TYPE.GROUP ? conversation?.conversationWith?.guid : conversation?.conversationWith?.uid;\n\t\t\tCometChat.deleteConversation(conversationWith, conversation.conversationType)\n\t\t\t\t.then(deletedConversation => {\n\t\t\t\t\tthis.conversationDeleted(conversation);\n\t\t\t\t})\n\t\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\t} else {\n\n\t\t\tthis.setState({ showConfirmDialog: false, conversationToBeDeleted: null });\n\t\t}\n\t};\n\n\tconversationDeleted = conversation => {\n\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationList.findIndex(c => c.conversationId === conversation.conversationId);\n\n\t\tif (conversationKey > -1) {\n\n\t\t\tif (\n\t\t\t\t(conversation.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.USER && conversation.conversationWith.uid === this.getContext().item.uid) ||\n\t\t\t\t(conversation.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.GROUP && conversation.conversationWith.guid === this.getContext().item.guid)\n\t\t\t) {\n\t\t\t\tthis.getContext().setTypeAndItem(\"\", {});\n\t\t\t}\n\n\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\tthis.setState({ conversationlist: conversationList, conversationToBeDeleted: null });\n\t\t}\n\n\t};\n\n\trender() {\n\n\t\tconst conversationList = this.state.conversationlist.map((conversation, key) => {\n\n\t\t\treturn <CometChatConversationListItem key={conversation.conversationId} conversation={conversation} loggedInUser={this.loggedInUser} handleClick={this.handleClick} actionGenerated={this.actionHandler} />;\n\t\t});\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={chatsMsgStyle()} className=\"chats__decorator-message\">\n\t\t\t\t\t<p css={chatsMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet closeBtn = <div css={chatsHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet showConfirmDialog = null;\n\t\tif (this.state.showConfirmDialog) {\n\t\t\tshowConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tonClick={this.onDeleteConfirm}\n\t\t\t\t\tmessage={Translator.translate(\"DELETE_CONFIRM\", this.getContext().language)}\n\t\t\t\t\tconfirmButtonText={Translator.translate(\"DELETE\", this.getContext().language)}\n\t\t\t\t\tcancelButtonText={Translator.translate(\"CANCEL\", this.getContext().language)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst chatList = (\n\t\t\t<div css={chatsWrapperStyle(this.props, theme)} className=\"chats\">\n\t\t\t\t<div css={chatsHeaderStyle(theme)} className=\"chats__header\">\n\t\t\t\t\t{closeBtn}\n\t\t\t\t\t<h4 css={chatsHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t{Translator.translate(\"CHATS\", this.props.lang)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t{messageContainer}\n\t\t\t\t<div css={chatsListStyle()} className=\"chats__list\" onScroll={this.handleScroll} ref={el => (this.chatListRef = el)}>\n\t\t\t\t\t{conversationList}\n\t\t\t\t</div>\n\t\t\t\t{showConfirmDialog}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\n\t\tlet chatListWrapper = chatList;\n\t\t//if used as a standalone component, add errorboundary and context provider\n\t\tif (this.props._parent === \"\") {\n\t\t\tchatListWrapper = <CometChatContextProvider ref={el => (this.contextProviderRef = el)}>{chatList}</CometChatContextProvider>;\n\t\t}\n\n\t\treturn chatListWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => { },\n\t_parent: \"\"\n};\n\nCometChatConversationList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatConversationList };","export const conversationActionStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"8px\",\n\t\tmargin: \"0\",\n\t\twidth: \"72px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.primary}`,\n\t\tborderRadius: \"4px\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"flex-end\",\n\t\tposition: \"absolute\",\n\t\tright: \"16px\",\n\t\theight: \"100%\",\n\t};\n};\n\nexport const groupButtonStyle = (actionInProgress, progressIcon, actionIcon) => {\n\n\tconst backgroundImage = actionInProgress ? progressIcon : actionIcon;\n\n\treturn {\n\t\toutline: \"0\",\n\t\tborder: \"0\",\n\t\theight: \"24px\",\n\t\twidth: \"24px\",\n\t\tborderRadius: \"4px\",\n\t\talignItems: \"center\",\n\t\tdisplay: \"inline-flex\",\n\t\tjustifyContent: \"center\",\n\t\tposition: \"relative\",\n\t\tbackground: `url(${backgroundImage}) center center no-repeat`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/progress.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\n\nimport {CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {conversationActionStyle, groupButtonStyle} from \"./style.js\";\n\nimport loadingIcon from \"./resources/progress.svg\";\nimport deleteIcon from \"./resources/delete.svg\";\n\nclass CometChatConversationListActions extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tdeleteInProgress: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.dataset.title);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tdeleteConversation = event => {\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"DELETE_CONVERSATION\"], this.props.conversation);\n\t\tevent.stopPropagation();\n\t};\n\n\trender() {\n\t\tconst deleteConversation = (\n\t\t\t<li>\n\t\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tcss={groupButtonStyle(this.state.deleteInProgress, loadingIcon, deleteIcon)}\n\t\t\t\tclassName=\"group__button button__delete\"\n\t\t\t\tdata-title={Translator.translate(\"DELETE\", this.context.language)}\n\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\tonClick={this.deleteConversation} />\n\t\t\t</li>\n\t\t);\n\n\t\treturn (\n\t\t\t<ul css={conversationActionStyle(this.context)} className=\"list__item__actions\">\n\t\t\t\t{deleteConversation}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nexport {CometChatConversationListActions};","export const listItem = (props) => {\n\n    const selectedState = (props.selectedConversation && props.selectedConversation.conversationId === props.conversation.conversationId) ? {\n        backgroundColor: `${props.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        position: \"relative\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${props.theme.backgroundColor.primary}`\n        },\n    }\n}\n\nexport const itemThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const itemDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemRowStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"baseline\",\n    }\n}\n\nexport const itemNameStyle = (props) => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"calc(100% - 70px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"22px\",\n        color: `${props.theme.color.primary}`\n    }\n}\n\nexport const itemLastMsgStyle = (props) => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"13px\",\n        fontWeight: \"400\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.helpText}`,\n    }\n}\n\nexport const itemLastMsgTimeStyle = (props) => {\n\n    return {\n        fontSize: \"11px\",\n        width: \"70px\",\n        textAlign: \"right\",\n        color: `${props.theme.color.helpText}`,\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport {CometChatAvatar, CometChatBadgeCount, CometChatUserPresence } from \"../../Shared\";\nimport {CometChatConversationListActions} from \"../CometChatConversationListActions\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData, getTimeStampForLastMessage } from \"../../../util/common\";\nimport { CometChatContext } from \"../../../util/CometChatContext\"\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n  listItem,\n  itemThumbnailStyle,\n  itemDetailStyle,\n  itemRowStyle,\n  itemNameStyle,\n  itemLastMsgStyle,\n  itemLastMsgTimeStyle\n} from \"./style\";\n\nclass CometChatConversationListItem extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tlastMessage: \"\",\n\t\t\tlastMessageTimestamp: \"\",\n\t\t\tenableUnreadCount: false,\n\t\t\tisHovering: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst message = this.getLastMessage();\n\t\tconst timestamp = this.getLastMessageTimestamp();\n\t\tthis.enableUnreadCount();\n\t\tthis.enableHideDeletedMessages();\n\n\t\tthis.setState({ lastMessage: message, lastMessageTimestamp: timestamp });\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst previousItem = JSON.stringify(prevProps.conversation);\n\t\tconst currentItem = JSON.stringify(this.props.conversation);\n\n\t\tif (previousItem !== currentItem) {\n\t\t\tconst message = this.getLastMessage();\n\t\t\tconst timestamp = this.getLastMessageTimestamp();\n\n\t\t\tthis.setState({ lastMessage: message, lastMessageTimestamp: timestamp });\n\t\t}\n\n\t\tthis.enableUnreadCount();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tgetLastMessage = () => {\n\t\tif (this.props.hasOwnProperty(\"conversation\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.hasOwnProperty(\"lastMessage\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet message = null;\n\t\tconst lastMessage = this.props.conversation.lastMessage;\n\n\t\tif (lastMessage.hasOwnProperty(\"deletedAt\")) {\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessage = \"\";\n\t\t\t} else {\n\t\t\t\tmessage = this.props.loggedInUser.uid === lastMessage.sender.uid ? `${Translator.translate(\"YOU_DELETED_THIS_MESSAGE\", this.context.language)}` : `${Translator.translate(\"THIS_MESSAGE_DELETED\", this.context.language)}`;\n\t\t\t}\n\t\t} else {\n\t\t\tswitch (lastMessage.category) {\n\t\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\t\tmessage = this.getMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_CALL:\n\t\t\t\t\tmessage = this.getCallMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_ACTION:\n\t\t\t\t\tmessage = this.getActionMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\t\tmessage = this.getCustomMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn message;\n\t};\n\n\tgetLastMessageTimestamp = () => {\n\t\tif (this.props.hasOwnProperty(\"conversation\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.hasOwnProperty(\"lastMessage\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.lastMessage.hasOwnProperty(\"sentAt\") === false && this.props.conversation.lastMessage.hasOwnProperty(\"_composedAt\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet timestamp = this.props.conversation.lastMessage._composedAt || this.props.conversation.lastMessage.sentAt;\n\t\ttimestamp = getTimeStampForLastMessage(timestamp, this.context.language);\n\n\t\treturn timestamp;\n\t};\n\n\tgetCustomMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props.loggedInUser.uid !== lastMessage.sender.uid ? `${lastMessage.sender.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t{\n\t\t\t\t\tconst pollMessage = Translator.translate(\"CUSTOM_MESSAGE_POLL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${pollMessage}` : `${pollMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t{\n\t\t\t\t\tconst stickerMessage = Translator.translate(\"CUSTOM_MESSAGE_STICKER\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${stickerMessage}` : `${stickerMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t{\n\t\t\t\t\tconst docMessage = Translator.translate(\"CUSTOM_MESSAGE_DOCUMENT\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${docMessage}` : `${docMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t{\n\t\t\t\t\tconst whiteboardMessage = Translator.translate(\"CUSTOM_MESSAGE_WHITEBOARD\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${whiteboardMessage}` : `${whiteboardMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t{\n\t\t\t\t\tconst meetingMessage = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\t\t\t\tmessage = `${sender} ${meetingMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn message;\n\t};\n\n\tgetTextMessage = message => {\n\t\tlet messageText = message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\")) {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\treturn messageText;\n\t};\n\n\tgetMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props?.loggedInUser?.uid !== lastMessage?.sender?.uid ? `${lastMessage?.sender?.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t{\n\t\t\t\t\tconst textMessage = this.getTextMessage(lastMessage);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${textMessage}` : `${textMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.MEDIA:\n\t\t\t\t{\n\t\t\t\t\tconst mediaMessage = Translator.translate(\"MEDIA_MESSAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${mediaMessage}` : `${mediaMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t{\n\t\t\t\t\tconst imageMessage = Translator.translate(\"MESSAGE_IMAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${imageMessage}` : `${imageMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t{\n\t\t\t\t\tconst fileMessage = Translator.translate(\"MESSAGE_FILE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${fileMessage}` : `${fileMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t{\n\t\t\t\t\tconst videoMessage = Translator.translate(\"MESSAGE_VIDEO\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${videoMessage}` : `${videoMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t{\n\t\t\t\t\tconst audioMessage = Translator.translate(\"MESSAGE_AUDIO\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${audioMessage}` : `${audioMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.CUSTOM:\n\t\t\t\t{\n\t\t\t\t\tconst customMessage = Translator.translate(\"CUSTOM_MESSAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${customMessage}` : `${customMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn message;\n\t};\n\n\tgetCallMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props.loggedInUser.uid !== lastMessage.sender.uid ? `${lastMessage.sender.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t{\n\t\t\t\t\tconst videoMessage = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${videoMessage}` : `${videoMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t{\n\t\t\t\t\tconst audioMessage = Translator.translate(\"AUDIO_CALL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${audioMessage}` : `${audioMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn message;\n\t};\n\n\tgetActionMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tif (message.hasOwnProperty(\"actionBy\") === false || message.hasOwnProperty(\"actionOn\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT && (message.actionBy.hasOwnProperty(\"name\") === false || message.actionOn.hasOwnProperty(\"name\") === false)) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED) {\n\t\t\tif (message.hasOwnProperty(\"data\") && message.data.hasOwnProperty(\"extras\")) {\n\t\t\t\tif (message.data.extras.hasOwnProperty(\"scope\")) {\n\t\t\t\t\tif (message.data.extras.scope.hasOwnProperty(\"new\") === false) {\n\t\t\t\t\t\treturn actionMessage;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn actionMessage;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn actionMessage;\n\t\t\t}\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED && message.data.extras.hasOwnProperty(\"scope\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED && message.data.extras.scope.hasOwnProperty(\"new\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tconst byEntity = message.actionBy;\n\t\tconst onEntity = message.actionOn;\n\n\t\tconst byString = byEntity.name;\n\t\tconst forString = message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT ? onEntity.name : \"\";\n\n\t\tswitch (message.action) {\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_ADDED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"ADDED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_JOINED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_LEFT:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"LEFT\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_KICKED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"KICKED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_BANNED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"BANNED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_UNBANNED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"UNBANNED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED: {\n\t\t\t\tconst newScope = message[\"data\"][\"extras\"][\"scope\"][\"new\"];\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"MADE\", this.context.language)} ${forString} ${Translator.translate(newScope, this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tenableUnreadCount = () => {\n\t\tthis.context.FeatureRestriction.isUnreadCountEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableUnreadCount) {\n\t\t\t\t\tthis.setState({ enableUnreadCount: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUnreadCount !== false) {\n\t\t\t\t\tthis.setState({ enableUnreadCount: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.context.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = toggleFlag => {\n\t\tif (toggleFlag && !this.state.isHovering) {\n\t\t\tthis.setState({ isHovering: true });\n\t\t} else if (!toggleFlag && this.state.isHovering) {\n\t\t\tthis.setState({ isHovering: false });\n\t\t}\n\t};\n\n\trender() {\n\t\tlet lastMessageTimeStamp = null;\n\t\tif (this.state.lastMessage) {\n\t\t\tlastMessageTimeStamp = (\n\t\t\t\t<span css={itemLastMsgTimeStyle(this.props)} className=\"item__details__timestamp\">\n\t\t\t\t\t{this.state.lastMessageTimestamp}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\tlet presence;\n\t\tif (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\tconst status = this.props.conversation.conversationWith.status;\n\t\t\tpresence = <CometChatUserPresence status={status} borderColor={this.props.theme.borderColor.primary} />;\n\t\t}\n\n\t\tlet avatar = null;\n\t\tif (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\tavatar = <CometChatAvatar user={this.props.conversation.conversationWith} />;\n\t\t} else if (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = <CometChatAvatar group={this.props.conversation.conversationWith} />;\n\t\t}\n\n\t\tlet unreadCount = null;\n\t\tif (this.state.enableUnreadCount) {\n\t\t\tunreadCount = <CometChatBadgeCount count={this.props.conversation.unreadMessageCount} />;\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatConversationListActions {...this.props} conversation={this.props.conversation} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={listItem(this.props)} className=\"list__item\" onMouseEnter={() => this.handleMouseHover(true)} onMouseLeave={() => this.handleMouseHover(false)} onClick={() => this.props.handleClick(this.props.conversation)}>\n\t\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t{presence}\n\t\t\t\t</div>\n\t\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={itemRowStyle()} className=\"item__details_block_one\">\n\t\t\t\t\t\t<div css={itemNameStyle(this.props)} className=\"item__details__name\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.props.conversation.conversationWith.name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{lastMessageTimeStamp}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={itemRowStyle()} className=\"item__details_block_two\">\n\t\t\t\t\t\t<div css={itemLastMsgStyle(this.props)} className=\"item__details__last-message\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.state.lastMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{unreadCount}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{toolTipView}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationListItem.defaultProps = {\n\ttheme: theme,\n\tloggedInUser: null,\n\tconversation: {\n\t\tconversationWith: {}\n\t}\n};\n\nCometChatConversationListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tloggedInUser: PropTypes.shape(CometChat.User),\n\tconversation: PropTypes.shape(CometChat.Conversation)\n}\n\nexport { CometChatConversationListItem };\n","export const previewWrapperStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -55px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tpadding: \"8px 8px 16px 8px\",\n        marginBottom: \"-8px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tfontSize: \"13px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row-reverse\",\n\t\tjustifyContent: \"space-between\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const previewHeadingStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"space-between\"\n    }\n}\n\nexport const previewCloseStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        borderRadius: \"50%\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const previewOptionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-around\",\n        width: \"100%\",\n    }\n}\n\nexport const previewOptionStyle = context => {\n\n\treturn {\n\t\tpadding: \"8px\",\n\t\tmargin: \"0 8px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.grey}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderRadius: \"10px\",\n\t\tcursor: \"pointer\",\n\t\theight: \"100%\",\n\t\ttextAlign: \"center\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import { useContext } from 'react';\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from '@emotion/core';\nimport PropTypes from 'prop-types';\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\n\nimport { theme } from \"../../../../resources/theme\";\n\nimport {\n    previewWrapperStyle,\n    previewHeadingStyle,\n    previewCloseStyle,\n    previewOptionsWrapperStyle,\n    previewOptionStyle,\n} from \"./style\";\n\nimport closeIcon from \"./resources/close.svg\";\n\nconst CometChatSmartReplyPreview = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    const options = props.options.map((option, key) => {\n\n        return (<div key={key} css={previewOptionStyle(context)} className=\"option\" onClick={() => props.clicked(option)}>{option}</div>)\n    })\n\n    return (\n        <div css={previewWrapperStyle(context, keyframes)} className=\"reply__preview__wrapper\">\n            <div css={previewHeadingStyle()} className=\"preview__heading\">\n                <div css={previewCloseStyle(closeIcon, context)} onClick={props.close} className=\"preview__close\"></div>\n            </div>\n            <div css={previewOptionsWrapperStyle()} className=\"preview__options\">{options}</div>\n        </div>\n    )\n}\n\n// Specifies the default values for props:\nCometChatSmartReplyPreview.defaultProps = {\n    theme: theme\n};\n\nCometChatSmartReplyPreview.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatSmartReplyPreview };","export const stickerWrapperStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -55px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tbackgroundColor: `${context.theme.backgroundColor.grey}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderBottom: \"none\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tborderRadius: \"10px 10px 0 0\",\n\t\theight: \"215px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t};\n};\n\nexport const stickerSectionListStyle = context => {\n\n\treturn {\n\t\tborderTop: `1px solid ${context.theme.borderColor.primary}`,\n\t\tbackgroundColor: `${context.theme.backgroundColor.silver}`,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\ttextTransform: \"uppercase\",\n\t\toverflowX: \"auto\",\n\t\toverflowY: \"hidden\",\n\t\tpadding: \"10px\",\n\t\t\"::-webkit-scrollbar\": {\n\t\t\tbackground: `${context.theme.backgroundColor.primary}`,\n\t\t},\n\t\t\"::-webkit-scrollbar-thumb\": {\n\t\t\tbackground: `${context.theme.backgroundColor.silver}`,\n\t\t},\n\t};\n};\n\nexport const sectionListItemStyle = () => {\n\n    return {\n\n        height: \"35px\",\n        width: \"35px\",\n        cursor: \"pointer\",\n        flexShrink: \"0\",\n        \":not(:first-of-type)\": {\n            marginLeft: \"16px\",\n        },\n    }\n}\n\nexport const stickerListStyle = () => {\n\n    return {\n        height: \"calc(100% - 50px)\",\n        display: \"flex\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        flexWrap: \"wrap\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n    }\n}\n\nexport const stickerItemStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tminWidth: \"50px\",\n\t\tminHeight: \"50px\",\n\t\tmaxWidth: \"70px\",\n\t\tmaxHeight: \"70px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\tmarginRight: \"20px\",\n\t\t[`@media ${mq[1]}, ${mq[2]}, ${mq[3]}`]: {\n\t\t\tmaxWidth: \"70px\",\n\t\t\tmaxHeight: \"70px\",\n\t\t},\n\t};\n};\n\nexport const stickerMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"35%\",\n    }\n}\n\nexport const stickerMsgTxtStyle = context => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"30px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"24px!important\",\n\t\tfontWeight: \"600\",\n\t};\n};\n\nexport const stickerCloseStyle = (img, context) => {\n\t\n\treturn {\n\t\twidth: \"20px\",\n\t\theight: \"20px\",\n\t\tborderRadius: \"50%\",\n\t\talignSelf: \"flex-end\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcursor: \"pointer\",\n\t\tmargin: \"8px 8px 0 0\",\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from '@emotion/core';\nimport PropTypes from 'prop-types';\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport { \n    stickerWrapperStyle, \n    stickerSectionListStyle, \n    stickerListStyle,\n    sectionListItemStyle,\n    stickerItemStyle,\n    stickerMsgStyle,\n    stickerMsgTxtStyle,\n    stickerCloseStyle\n} from \"./style\";\n\nimport closeIcon from \"./resources/close.svg\";\n\nclass CometChatStickerKeyboard extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n\n        super(props, context);\n\n        this.decoratorMessage = Translator.translate(\"LOADING\", context.language);\n\n        this.state = {\n            stickerlist: [],\n            stickerset: {},\n            activestickerlist: [],\n            activestickerset: null\n        }\n    }\n\n    componentDidMount() {\n        this.getStickers();\n    }\n\n    getStickers = () => {\n\n        CometChat.callExtension('stickers', 'GET', 'v1/fetch', null).then(stickers => {\n\n            // Stickers received\n            let activeStickerSet = null; \n            const customStickers = (stickers.hasOwnProperty(\"customStickers\")) ? stickers[\"customStickers\"] : [];\n            const defaultStickers = (stickers.hasOwnProperty(\"defaultStickers\")) ? stickers[\"defaultStickers\"] : [];\n\n            defaultStickers.sort(function (a, b) {\n                return a.stickerSetOrder - b.stickerSetOrder;\n            });\n\n            customStickers.sort(function (a, b) {\n                return a.stickerSetOrder - b.stickerSetOrder;\n            });\n\n            const stickerList = [...defaultStickers, ...customStickers];\n            \n            if (stickerList.length === 0) {\n                this.decoratorMessage = Translator.translate(\"NO_STICKERS_FOUND\", this.context.language);\n            }\n\n            const stickerSet = stickerList.reduce((r, sticker, index) => {\n\n                const { stickerSetName } = sticker;\n                if (index === 0) {\n                    activeStickerSet = stickerSetName;\n                }\n\n                r[stickerSetName] = [...r[stickerSetName] || [], { ...sticker}];\n\n                return r;\n            }, {});\n\n            let activeStickerList = [];\n            if (Object.keys(stickerSet).length) {\n\n                Object.keys(stickerSet).forEach(key => {\n                    stickerSet[key].sort(function (a, b) {\n                        return a.stickerOrder - b.stickerOrder;\n                    });\n                });\n\n                activeStickerList = stickerSet[activeStickerSet];\n            }\n            \n            this.setState({ \n                \"stickerlist\": stickerList, \n                \"stickerset\": stickerSet, \n                \"activestickerlist\": activeStickerList, \n                \"activestickerset\": activeStickerSet \n            });\n\n        }).catch(error => {\n            \n            this.decoratorMessage = Translator.translate(\"SOMETHING_WRONG\", this.context.language);\n            this.setState({ \"activestickerlist\": [], \"stickerset\": {} });\n        });\n    }\n\n    sendStickerMessage = (stickerItem) => {\n        this.props.actionGenerated(enums.ACTIONS[\"SEND_STICKER\"], stickerItem);\n    }\n\n    onStickerSetClicked = (sectionItem) => {\n\n        this.setState({ activestickerlist: [] }, () => {\n\n            const stickerSet = { ...this.state.stickerset };\n            const activeStickerList = stickerSet[sectionItem];\n            this.setState({ \"activestickerset\": sectionItem, \"activestickerlist\": activeStickerList });\n        });\n    }\n\n    closeStickerKeyboard = () => {\n        this.props.actionGenerated(enums.ACTIONS[\"CLOSE_STICKER_KEYBOARD\"]);\n    }\n\n    render() {\n\n        let messageContainer = null;\n        if (this.state.activestickerlist.length === 0) {\n            messageContainer = (\n                <div css={stickerMsgStyle()} className=\"stickers__decorator-message\">\n                    <p css={stickerMsgTxtStyle(this.context)} className=\"decorator-message\">{this.decoratorMessage}</p>\n                </div>\n            );\n        }\n\n        let stickers = null;\n        if (Object.keys(this.state.stickerset).length) {\n\n            const sectionItems = Object.keys(this.state.stickerset).map((sectionItem, key) => {\n\n                const stickerSetThumbnail = this.state.stickerset[sectionItem][0][\"stickerUrl\"];\n                return( <div  key={key}  className=\"stickers__sectionitem\" css={sectionListItemStyle()}  onClick={() => this.onStickerSetClicked(sectionItem)}>\n                    <img src={stickerSetThumbnail} alt={sectionItem} />\n                </div>\n                );\n            });\n\n            let activeStickerList = [];\n            if (this.state.activestickerlist.length) {\n\n                const stickerList = [...this.state.activestickerlist];\n                activeStickerList = stickerList.map((stickerItem, key) => {\n\n                    return (\n                        <div key={key} css={stickerItemStyle(this.context)} onClick={() => this.sendStickerMessage(stickerItem)} className=\"stickers__listitem\">\n                            <img src={stickerItem.stickerUrl} alt={stickerItem.stickerName} />\n                        </div>\n                    );\n                });\n            }\n\n            stickers = (\n                <React.Fragment>\n                    <div css={stickerCloseStyle(closeIcon, this.context)} className=\"stickers__close\" onClick={this.closeStickerKeyboard}></div>\n                    <div css={stickerListStyle(this.props)} className=\"stickers__list\">\n                        {activeStickerList}\n                    </div>\n                    <div css={stickerSectionListStyle(this.context)} className=\"stickers__sections\">\n                        {sectionItems}\n                    </div>\n                </React.Fragment>\n            );\n        }\n\n        return (\n            <div css={stickerWrapperStyle(this.context, keyframes)} className=\"stickers\">\n                {messageContainer}\n                {stickers}\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatStickerKeyboard.defaultProps = {\n    theme: theme\n};\n\nCometChatStickerKeyboard.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatStickerKeyboard };","export const messageReactionsStyle = (props, reactionData, context, loggedInUser) => {\n\n\tconst uid = loggedInUser?.uid;\n\tlet borderStyle = {};\n\tlet hoveredBorderStyle = {};\n\n\tif (reactionData.hasOwnProperty(uid)) {\n\t\tborderStyle = {\n\t\t\tborder: `1px solid ${context.theme.primaryColor}`,\n\t\t};\n\n\t\thoveredBorderStyle = { ...borderStyle };\n\t} else {\n\t\tborderStyle = {\n\t\t\tborder: \"1px solid transparent\",\n\t\t};\n\n\t\thoveredBorderStyle = {\n\t\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\t};\n\t}\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tpadding: \"2px 6px\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t\tverticalAlign: \"top\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tborderRadius: \"12px\",\n\t\tmargin: \"4px 4px 0 0\",\n\t\t...borderStyle,\n\t\t\".emoji-mart-emoji\": {\n\t\t\tdisplay: \"inline-flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tcursor: \"pointer\",\n\t\t},\n\t\t\"&:hover\": {\n\t\t\t...hoveredBorderStyle,\n\t\t},\n\t};\n};\n\nexport const emojiButtonStyle = (img, context) => {\n\n    return {\n        outline: \"0\",\n        border: \"0\",\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        display: \"inline-flex\",\n        justifyContent: \"center\",\n        position: \"relative\",\n        \"i\": {\n            height: \"24px\",\n            width: \"24px\",\n            mask: `url(${img}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n        }        \n    }\n}\n\nexport const reactionCountStyle = context => {\n\n\treturn {\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tpadding: \"0 1px 0 3px\",\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/reactions.db072cb2.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { Emoji } from \"emoji-mart\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageReactionsStyle,\n    reactionCountStyle,\n    emojiButtonStyle,\n} from \"./style\";\n\nimport reactIcon from \"./resources/reactions.svg\";\n\nclass CometChatMessageReactions extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tenableMessageReaction: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t\tthis.enableMessageReaction();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tenableMessageReaction = () => {\n\t\t/**\n\t\t * If reacting to messages feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableMessageReaction && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableMessageReaction !== false) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\treactToMessages = emoji => {\n\n\t\tlet messageObject = { ...this.props.message };\n\t\tdelete messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"][emoji.colons][this.loggedInUser.uid];\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], messageObject);\n\n\t\tCometChat.callExtension(\"reactions\", \"POST\", \"v1/react\", {\n\t\t\tmsgId: this.props.message.id,\n\t\t\temoji: emoji.colons,\n\t\t}).then(response => {\n\t\t\t\n\t\t\t// Reaction failed\n\t\t\tif (!response || !response.success || response.success !== true) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t});\n\t};\n\n\tgetMessageReactions = reaction => {\n\t\t\n\t\tif (reaction === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst messageReactions = Object.keys(reaction).map((data, key) => {\n\t\t\tconst reactionData = reaction[data];\n\t\t\tconst reactionName = data.replaceAll(\":\", \"\");\n\t\t\tconst reactionCount = Object.keys(reactionData).length;\n\n\t\t\tif (!reactionCount) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst userList = [];\n\t\t\tlet reactionTitle = \"\";\n\n\t\t\tfor (const user in reactionData) {\n\t\t\t\tuserList.push(reactionData[user][\"name\"]);\n\t\t\t}\n\n\t\t\tif (userList.length) {\n\t\t\t\treactionTitle = userList.join(\", \");\n\t\t\t\tconst str = ` ${Translator.translate(\"REACTED\", this.context.language)}`;\n\t\t\t\treactionTitle = reactionTitle.concat(str);\n\t\t\t}\n\n\t\t\tconst reactionClassName = `reaction reaction__${reactionName}`;\n\t\t\treturn (\n\t\t\t\t<div key={key} css={messageReactionsStyle(this.props, reactionData, this.context, this.loggedInUser)} className={reactionClassName} title={reactionTitle}>\n\t\t\t\t\t<Emoji emoji={{ id: reactionName }} size={16} native onClick={this.reactToMessages} />\n\t\t\t\t\t<span css={reactionCountStyle(this.context)} className=\"reaction__count\">\n\t\t\t\t\t\t{reactionCount}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\n\t\treturn messageReactions;\n\t};\n\n\taddMessageReaction = () => {\n\t\t//If reacting to messages feature is disabled\n\t\tif (this.state.enableMessageReaction === false) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst addReactionEmoji = (\n\t\t\t<div key=\"-1\" css={messageReactionsStyle(this.props, {}, this.context)} className=\"reaction reaction__add\" title={Translator.translate(\"ADD_REACTION\", this.context.language)}>\n\t\t\t\t<button type=\"button\" css={emojiButtonStyle(reactIcon, this.context)} className=\"button__reacttomessage\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"REACT_TO_MESSAGE\"], this.props.message)}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\n\t\treturn addReactionEmoji;\n\t};\n\n\trender() {\n\t\tconst reaction = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tconst messageReactions = this.getMessageReactions(reaction);\n\n\t\tconst addReactionEmoji = this.addMessageReaction();\n\n\t\tif (messageReactions !== null && messageReactions.length && addReactionEmoji !== null) {\n\t\t\tif (this.props.message?.sender?.uid !== this.loggedInUser?.uid) {\n\t\t\t\tmessageReactions.push(addReactionEmoji);\n\t\t\t} else {\n\t\t\t\tmessageReactions.unshift(addReactionEmoji);\n\t\t\t}\n\t\t}\n\n\t\treturn messageReactions;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageReactions.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatMessageReactions.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatMessageReactions };\n","export const modalWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tminWidth: \"350px\",\n\t\tminHeight: \"450px\",\n\t\twidth: \"50%\",\n\t\theight: \"40%\",\n\t\toverflow: \"hidden\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tposition: \"fixed\",\n\t\tleft: \"50%\",\n\t\ttop: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\tzIndex: \"1002\",\n\t\tmargin: \"0 auto\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n\t\tborderRadius: \"12px\",\n\t\tdisplay: \"block\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n};\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalErrorStyle = (context) => {\n\n    return {\n        fontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tmargin: \"8px 0\",\n\t\twidth: \"100%\",\n    }\n}\n\nexport const modalTableStyle = context => {\n\n\treturn {\n\t\tborderCollapse: \"collapse\",\n\t\tmargin: \"0\",\n\t\tpadding: \"0\",\n\t\twidth: \"100%\",\n\t\theight: \"90%\",\n\t\ttr: {\n\t\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\t\tdisplay: \"table\",\n\t\t\twidth: \"100%\",\n\t\t\ttableLayout: \"fixed\",\n\t\t},\n\t};\n};\n\nexport const tableCaptionStyle = () => {\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"15px\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n    }\n}\n\nexport const tableBodyStyle = () => {\n\n    return {\n        height: \"calc(100% - 40px)\",\n        overflowY: \"auto\",\n        display: \"block\",\n        \"tr\": {\n            \"td\": {\n                padding: \"8px 16px\",\n                fontSize: \"14px\",\n                \"input\": {\n                    width: \"100%\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    fontSize: \"14px\",\n                    \"&:focus\": {\n                        outline: \"none\"\n                    }\n                },\n                \"label\": {\n                    padding: \"8px 16px\", \n                },\n                \":first-of-type\": {\n                    width: \"120px\"\n                }\n            }\n        }\n    }\n}\n\n\nexport const tableFootStyle = (context, state, img) => {\n\n\tlet loadingState = {};\n\tlet textMargin = {};\n\n\tif (state.creatingPoll) {\n\t\tloadingState = {\n\t\t\tdisabled: \"true\",\n\t\t\tpointerEvents: \"none\",\n\t\t\tbackground: `url(${img}) no-repeat right 10px center ${context.theme.primaryColor}`,\n\t\t};\n\n\t\ttextMargin = {\n\t\t\tmarginRight: \"24px\",\n\t\t};\n\t}\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\ttr: {\n\t\t\tborder: \"none\",\n\t\t\ttd: {\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tbutton: {\n\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\tpadding: \"8px 16px\",\n\t\t\t\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\t\t\t\tborderRadius: \"5px\",\n\t\t\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\t\t\tfontSize: \"14px\",\n\t\t\t\t\toutline: \"0\",\n\t\t\t\t\tborder: \"0\",\n\t\t\t\t\t...loadingState,\n\t\t\t\t\tspan: {\n\t\t\t\t\t\t...textMargin,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const iconWrapperStyle = () => {\n\n    return {\n        width: \"50px\"\n    }\n}\n\nexport const addOptionIconStyle = (img, context) => {\n\n    return {\n        backgroundSize: \"28px 28px\",\n        cursor: \"pointer\",\n        display: \"block\",\n        height: \"24px\",\n        width: \"24px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n    }\n}","export default __webpack_public_path__ + \"static/media/creating.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/add-circle-filled.a7750fa2.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBackdrop } from \"../../../Shared\";\nimport { CometChatCreatePollOptions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\"; \n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalErrorStyle,\n    modalTableStyle,\n    tableCaptionStyle,\n    tableBodyStyle,\n    tableFootStyle,\n    iconWrapperStyle,\n    addOptionIconStyle\n} from \"./style\";\n\nimport creatingIcon from \"./resources/creating.svg\";\nimport addIcon from \"./resources/add-circle-filled.svg\";\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatCreatePoll extends React.Component {\n\n    loggedInUser = null;\n    static contextType = CometChatContext;\n\n    constructor(props) {\n\n        super(props);\n        this.state = {\n            errorMessage: \"\",\n            options: [],\n            creatingPoll: false\n        }\n\n        this.questionRef = React.createRef();\n        this.optionOneRef = React.createRef();\n        this.optionTwoRef = React.createRef();\n        this.optionRef = React.createRef();\n    }\n\n    addPollOption = () => {\n\n        const options = [...this.state.options];\n        options.push({ value: \"\", id: new Date().getTime() });\n        this.setState({options: options});\n    }\n\n    removePollOption = (option) => {\n\n        const options = [...this.state.options];\n        const optionKey = options.findIndex(opt => opt.id === option.id);\n        if (optionKey > -1) {\n\n            options.splice(optionKey, 1);\n            this.setState({ options: options});\n        }\n    }\n\n    optionChangeHandler = (event, option) => {\n\n        const options = [...this.state.options];\n        const optionKey = options.findIndex(opt => opt.id === option.id); \n        if (optionKey > -1) {\n\n            const newOption = { ...option, value: event.target.value}\n            options.splice(optionKey, 1, newOption);\n            this.setState({ options: options });\n        }\n    }\n\n    createPoll = () => {\n\n        const question = this.questionRef.current.value.trim();\n        const firstOption = this.optionOneRef.current.value.trim();\n        const secondOption = this.optionTwoRef.current.value.trim();\n        const optionItems = [firstOption, secondOption];\n\n        if (question.length === 0) {\n\n            this.setState({ errorMessage: Translator.translate(\"INVALID_POLL_QUESTION\", this.context.language) });\n            return false;\n        }\n\n        if (firstOption.length === 0 || secondOption.length === 0) {\n\n            this.setState({ errorMessage: Translator.translate(\"INVALID_POLL_OPTION\", this.context.language) });\n            return false;\n        }\n\n        this.state.options.forEach(function (option) {\n            optionItems.push(option.value)\n        })\n\n        let receiverId;\n        let receiverType = this.context.type;\n        if (this.context.type === CometChat.RECEIVER_TYPE.USER) {\n            receiverId = this.context.item.uid;\n        } else if (this.context.type === CometChat.RECEIVER_TYPE.GROUP) {\n            receiverId = this.context.item.guid;\n        }\n        \n        this.setState({ creatingPoll: true, errorMessage: \"\" });\n\n        CometChat.callExtension('polls', 'POST', 'v2/create', {\n            \"question\": question,\n            \"options\": optionItems,\n            \"receiver\": receiverId,\n            \"receiverType\": receiverType\n        }).then(response => {\n\n            if (response && response.hasOwnProperty(\"success\") && response[\"success\"] === true) {\n\n                this.setState({ creatingPoll: false });\n                this.props.actionGenerated(enums.ACTIONS[\"POLL_CREATED\"]);\n\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n\n        }).catch(error => {\n\n            this.setState({ creatingPoll: false });\n            this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n        });\n    }\n\n    render() {\n\n        const optionList = [...this.state.options];\n        const pollOptionView = optionList.map((option, index) => {\n            return (\n                <CometChatCreatePollOptions \n                key={index} \n                option={option} \n                tabIndex={index+4}\n                lang={this.context.language}\n                optionChangeHandler={this.optionChangeHandler}\n                removePollOption={this.removePollOption} />\n            );\n        });\n\n        const createText = (this.state.creatingPoll) ? Translator.translate(\"CREATING\", this.context.language) : Translator.translate(\"CREATE\", this.context.language);\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__createpoll\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <table css={modalTableStyle(this.context)}>\n                            <caption css={tableCaptionStyle()} className=\"modal__title\">{Translator.translate(\"CREATE_POLL\", this.context.language)}</caption>\n                            <tbody css={tableBodyStyle()}>\n                                <tr className=\"error\">\n                                    <td colSpan=\"3\"><div css={modalErrorStyle(this.context)}>{this.state.errorMessage}</div></td>\n                                </tr>\n                                <tr className=\"poll__question\">\n                                    <td><label>{Translator.translate(\"QUESTION\", this.context.language)}</label></td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" autoFocus tabIndex=\"1\" placeholder={Translator.translate(\"ENTER_YOUR_QUESTION\", this.context.language)} ref={this.questionRef} />\n                                    </td>\n                                </tr>\n                                <tr className=\"poll__options\">\n                                    <td>\n                                        <label>{Translator.translate(\"OPTIONS\", this.context.language)}</label>\n                                    </td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" tabIndex=\"2\" placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", this.context.language)} ref={this.optionOneRef} />\n                                    </td>\n                                </tr>\n                                <tr ref={this.optionRef} className=\"poll__options\">\n                                    <td>&nbsp;</td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" tabIndex=\"3\" placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", this.context.language)} ref={this.optionTwoRef} />\n                                    </td>\n                                </tr>\n                                {pollOptionView}\n                                <tr>\n                                    <td>&nbsp;</td>\n                                    <td>\n                                        <label>{Translator.translate(\"ADD_NEW_OPTION\", this.context.language)}</label>\n                                    </td>\n                                    <td css={iconWrapperStyle()}>\n                                        <i tabIndex=\"100\" css={addOptionIconStyle(addIcon, this.context)} className=\"option__add\" onClick={this.addPollOption}></i>\n                                    </td>\n                                </tr>\n                            </tbody>\n                            <tfoot css={tableFootStyle(this.context, this.state, creatingIcon)}>\n                                <tr className=\"createpoll\">\n                                    <td colSpan=\"2\">\n                                        <button type=\"button\" onClick={this.createPoll}>\n                                            <span>{createText}</span>\n                                        </button>\n                                    </td>\n                                </tr>\n                            </tfoot>\n                        </table>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatCreatePoll.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatCreatePoll.propTypes = {\n\ttheme: PropTypes.object,\n};\n\nexport { CometChatCreatePoll };\n","export const removeOptionIconStyle = (img, context) => {\n\n\treturn {\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.red}`,\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"block\",\n\t\theight: \"24px\",\n\t\twidth: \"24px\",\n\t};\n};\n\nexport const iconWrapperStyle = () => {\n    return {\n        width: \"50px\"\n    }\n}","export default __webpack_public_path__ + \"static/media/remove.b83180e3.svg\";","import { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\n\nimport { iconWrapperStyle } from \"../CometChatCreatePoll/style\";\n\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport { removeOptionIconStyle } from \"./style\";\nimport removeIcon from \"./resources/remove.svg\";\n\nconst CometChatCreatePollOptions = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    return (\n        <tr className=\"poll__options\">\n            <td>&nbsp;</td>\n            <td>\n                <input \n                autoFocus\n                tabIndex={props.tabIndex}\n                type=\"text\" \n                autoComplete=\"off\" \n                placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", context.language)}\n                value={props.value}\n                onChange={(event) => props.optionChangeHandler(event, props.option)} />\n            </td>\n            <td css={iconWrapperStyle()} className=\"option__remove\">\n                <span css={removeOptionIconStyle(removeIcon, context)} onClick={() => props.removePollOption(props.option)}></span>\n            </td>\n        </tr>\n    );\n}\n\nexport { CometChatCreatePollOptions };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageTxtContainerStyle,\n    messageTxtWrapperStyle,\n    messageTxtTitleStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle\n} from \"./style\";\n\n\nimport documentIcon from \"./resources/collaborative-document.svg\";\n\nclass CometChatReceiverDocumentBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tlaunchCollaborativeDocument = () => {\n\t\tlet documentUrl = null;\n\t\tlet documentData = checkMessageForExtensionsData(this.props.message, \"document\");\n\t\tif (documentData && documentData.hasOwnProperty(\"document_url\") && documentData.document_url.length) {\n\t\t\tdocumentUrl = documentData.document_url;\n\t\t\twindow.open(documentUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = `${this.props.message.sender.name} ${Translator.translate(\"SHARED_COLLABORATIVE_DOCUMENT\", this.context.language)}`;\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__document\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__document__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__document__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__document__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(documentIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_DOCUMENT\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeDocument}>\n\t\t\t\t\t\t\t\t\t\t<p>{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverDocumentBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverDocumentBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverDocumentBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const pollQuestionStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"100%\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const pollAnswerStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tmargin: \"10px 0\",\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t},\n\t};\n};\n\nexport const pollTotalStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        alignSelf: \"flex-end\"\n    }\n}\n\nexport const pollPercentStyle = (context, width) => {\n\n    const curvedBorders = (width === \"100%\") ? { borderRadius: \"8px\" } : {\n        borderRadius: \"8px 0 0 8px\"\n    };\n\n    return {\n        maxWidth: \"100%\",\n        width: width,\n        ...curvedBorders,\n        backgroundColor: `${context.theme.backgroundColor.primary}`,\n        minHeight: \"35px\",\n        height: \"100%\",\n        position: \"absolute\",\n        zIndex: \"1\",\n    }\n}\n\nexport const answerWrapperStyle = (state, optionData, context) => {\n\n\tlet countPadding = \"0px 16px 0px 0px\";\n    let widthProp = \"calc(100% - 40px)\";\n\tif (optionData.hasOwnProperty(\"voters\") && optionData.voters.hasOwnProperty(state?.loggedInUser?.uid)) {\n\t\t//countPadding = \"0px 8px\";\n\t\twidthProp = \"calc(100% - 40px)\";\n\t}\n\n\treturn {\n\t\twidth: \"100%\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tminHeight: \"35px\",\n        padding: \"0 16px\",\n\t\theight: \"100%\",\n\t\tzIndex: \"2\",\n\t\tp: {\n\t\t\tmargin: \"0\",\n\t\t\twidth: widthProp,\n\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\twordWrap: \"break-word\",\n\t\t\tfontSize: \"14px\",\n\t\t},\n\t\tspan: {\n\t\t\tmaxWidth: \"40px\",\n\t\t\tpadding: countPadding,\n\t\t\tfontWeight: \"bold\",\n\t\t\tdisplay: \"inline-block\",\n\t\t\tfontSize: \"13px\",\n\t\t},\n\t};\n};\n\nexport const checkIconStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/checkmark.2fca5711.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\nimport * as enums from \"../../../../util/enums.js\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageTxtContainerStyle,\n    messageTxtWrapperStyle,\n    pollQuestionStyle,\n    pollAnswerStyle,\n    pollPercentStyle,\n    answerWrapperStyle,\n    checkIconStyle,\n    pollTotalStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle\n} from \"./style\";\n\n\nimport checkImg from \"./resources/checkmark.svg\";\n\nclass CometChatReceiverPollMessageBubble extends React.Component {\n\tpollId;\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tloggedInUser: null\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.setState({ loggedInUser: {...user} });\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n        \n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tanswerPollQuestion = (event, selectedOption) => {\n\t\tCometChat.callExtension(\"polls\", \"POST\", \"v2/vote\", {\n\t\t\tvote: selectedOption,\n\t\t\tid: this.pollId,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (response.hasOwnProperty(\"success\") === false || (response.hasOwnProperty(\"success\") && response[\"success\"] === false)) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tconst pollExtensionData = checkMessageForExtensionsData(this.props.message, \"polls\");\n\t\tif (!pollExtensionData) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// if (!this.props.message.hasOwnProperty(\"metadata\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata.hasOwnProperty(\"@injected\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata[\"@injected\"].hasOwnProperty(\"extensions\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata[\"@injected\"][\"extensions\"].hasOwnProperty(\"polls\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst pollOptions = [];\n\t\t//const pollExtensionData = this.props.message.metadata[\"@injected\"][\"extensions\"][\"polls\"];\n\n\t\tthis.pollId = pollExtensionData.id;\n\t\tconst total = pollExtensionData.results.total;\n\t\tlet totalText = Translator.translate(\"NO_VOTE\", this.context.language);\n\n\t\tif (total === 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTE\", this.context.language)}`;\n\t\t} else if (total > 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTES\", this.context.language)}`;\n\t\t}\n\n\t\tfor (const option in pollExtensionData.options) {\n\t\t\tconst optionData = pollExtensionData.results.options[option];\n\t\t\tconst vote = optionData[\"count\"];\n\n\t\t\tlet width = \"0%\";\n\t\t\tif (total) {\n\t\t\t\tconst fraction = vote / total;\n\t\t\t\twidth = fraction.toLocaleString(\"en\", { style: \"percent\" });\n\t\t\t}\n\n\t\t\tlet checkIcon = null;\n\t\t\tif (optionData.hasOwnProperty(\"voters\") && optionData.voters.hasOwnProperty(this.loggedInUser?.uid)) {\n\t\t\t\tcheckIcon = <i css={checkIconStyle(checkImg, this.context)}></i>;\n\t\t\t}\n\n\t\t\tconst template = (\n\t\t\t\t<li key={option} onClick={event => this.answerPollQuestion(event, option)}>\n\t\t\t\t\t<div css={pollPercentStyle(this.context, width)}> </div>\n\t\t\t\t\t<div css={answerWrapperStyle(this.state, optionData, this.context)}>\n\t\t\t\t\t\t{checkIcon}\n\t\t\t\t\t\t<span>{width}</span>\n\t\t\t\t\t\t<p>{optionData.text}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t\tpollOptions.push(template);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__poll\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__poll__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__poll__wrapper\">\n\t\t\t\t\t\t\t\t<p css={pollQuestionStyle()} className=\"poll__question\">\n\t\t\t\t\t\t\t\t\t{pollExtensionData.question}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<ul css={pollAnswerStyle(this.context)} className=\"poll__options\">\n\t\t\t\t\t\t\t\t\t{pollOptions}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<p css={pollTotalStyle()} className=\"poll__votes\">\n\t\t\t\t\t\t\t\t\t{totalText}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverPollMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverPollMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverPollMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageImgContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-start\",\n\t\tmaxWidth: \"128px\",\n\t\theight: \"128px\",\n\t\tcursor: \"pointer\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tmaxWidth: \"128px\",\n\t\t\theight: \"128px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageImgContainerStyle,\n    messageImgWrapperStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverStickerMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet stickerData = null;\n\t\tlet stickerImg = null;\n\t\tif (this.props.message.hasOwnProperty(\"data\") && this.props.message.data.hasOwnProperty(\"customData\")) {\n\t\t\tstickerData = this.props.message.data.customData;\n\n\t\t\tif (stickerData.hasOwnProperty(\"sticker_url\")) {\n\t\t\t\tconst stickerName = stickerData.hasOwnProperty(\"sticker_name\") ? stickerData.sticker_name : Translator.translate(\"STICKER\", this.context.language);\n\t\t\t\tstickerImg = <img src={stickerData.sticker_url} alt={stickerName} />;\n\t\t\t}\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__sticker\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageImgContainerStyle()} className=\"message__image__container\">\n\t\t\t\t\t\t\t<div css={messageImgWrapperStyle(this.context)} className=\"message__image__wrapper\">\n\t\t\t\t\t\t\t\t{stickerImg}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverStickerMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverStickerMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverStickerMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtTitleStyle,\n\tmessageTxtStyle,\n\tmessageBtnStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle,\n} from \"./style\";\n\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\n\nclass CometChatReceiverWhiteboardBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeWhiteboard = () => {\n\t\tlet whiteboardUrl = null;\n\t\tlet whiteboardData = checkMessageForExtensionsData(this.props.message, \"whiteboard\");\n\t\tif (whiteboardData && whiteboardData.hasOwnProperty(\"board_url\") && whiteboardData.board_url.length) {\n\t\t\tlet username = this.loggedInUser?.name.split(\" \").join(\"_\");\n\t\t\t// Appending the username to the board_url\n\t\t\twhiteboardUrl = whiteboardData.board_url + \"&username=\" + username;\n\t\t\twindow.open(whiteboardUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = `${this.props.message.sender.name} ${Translator.translate(\"SHARED_COLLABORATIVE_WHITEBOARD\", this.context.language)}`;\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__whiteboard\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__whiteboard__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__whiteboard__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__whiteboard__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(whiteboardIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_WHITEBOARD\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"whiteboard__title\">\n\t\t\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"whiteboard__button\">\n\t\t\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeWhiteboard}>\n\t\t\t\t\t\t\t\t\t\t<p>{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverWhiteboardBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverWhiteboardBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverWhiteboardBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle,\n} from \"./style\";\n\nimport documentIcon from \"./resources/collaborative-document.svg\";\n\nclass CometChatSenderDocumentBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n            \n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeDocument = () => {\n\t\tlet documentUrl = null;\n\t\tlet documentData = checkMessageForExtensionsData(this.props.message, \"document\");\n\t\tif (documentData && documentData.hasOwnProperty(\"document_url\") && documentData.document_url.length) {\n\t\t\tdocumentUrl = documentData.document_url;\n\t\t\twindow.open(documentUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = Translator.translate(\"CREATED_DOCUMENT\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__document\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__document__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__document__container\">\n\t\t\t\t\t\t\t<i css={iconStyle(documentIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_DOCUMENT\", this.context.language)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeDocument}>\n\t\t\t\t\t\t\t\t<p>{Translator.translate(\"LAUNCH\", this.context.language)}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderDocumentBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderDocumentBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderDocumentBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const pollQuestionStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"100%\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const pollAnswerStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tmargin: \"10px 0\",\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t},\n\t};\n};\n\nexport const pollTotalStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        alignSelf: \"flex-end\"\n    }\n}\n\nexport const pollPercentStyle = (context, width) => {\n\n    const curvedBorders = (width === \"100%\") ? { borderRadius: \"8px\" } : {\n        borderRadius: \"8px 0 0 8px\"\n    };\n\n    return {\n        maxWidth: \"100%\",\n        width: width,\n        ...curvedBorders,\n        backgroundColor: `${context.theme.backgroundColor.primary}`,\n        minHeight: \"35px\",\n        height: \"100%\",\n        position: \"absolute\",\n        zIndex: \"1\",\n    }\n}\n\nexport const answerWrapperStyle = (context, width) => {\n\n    return {\n        width: \"100%\",\n        color: `${context.theme.color.primary}`,\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: \"35px\",\n        padding: \"0 16px\",\n        height: \"100%\",\n        zIndex: \"2\",\n        \"p\": {\n            margin: \"0\",\n            width: \"calc(100% - 40px)\",\n            whiteSpace: \"pre-wrap\",\n            wordWrap: \"break-word\",\n            fontSize: \"14px\",\n        },\n        \"span\": {\n            maxWidth: \"40px\",\n            padding: \"0px 16px 0px 0px\",\n            fontWeight: \"bold\",\n            display: \"inline-block\",\n            fontSize: \"13px\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    pollQuestionStyle,\n    pollAnswerStyle,\n    pollTotalStyle,\n    pollPercentStyle,\n    answerWrapperStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderPollMessageBubble extends React.Component {\n\tpollId;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tconst pollExtensionData = checkMessageForExtensionsData(this.props.message, \"polls\");\n\t\tif (!pollExtensionData) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst pollOptions = [];\n\n\t\tthis.pollId = pollExtensionData.id;\n\t\tconst total = pollExtensionData.results.total;\n\t\tlet totalText = Translator.translate(\"NO_VOTE\", this.context.language);\n\n\t\tif (total === 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTE\", this.context.language)}`;\n\t\t} else if (total > 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTES\", this.context.language)}`;\n\t\t}\n\n\t\tfor (const option in pollExtensionData.results.options) {\n\t\t\tconst optionData = pollExtensionData.results.options[option];\n\t\t\tconst vote = optionData[\"count\"];\n\n\t\t\tlet width = \"0%\";\n\t\t\tif (total) {\n\t\t\t\tconst fraction = vote / total;\n\t\t\t\twidth = fraction.toLocaleString(\"en\", { style: \"percent\" });\n\t\t\t}\n\n\t\t\tconst template = (\n\t\t\t\t<li key={option}>\n\t\t\t\t\t<div css={pollPercentStyle(this.context, width)}> </div>\n\t\t\t\t\t<div css={answerWrapperStyle(this.context, width)}>\n\t\t\t\t\t\t<span>{width}</span>\n\t\t\t\t\t\t<p>{optionData.text}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t\tpollOptions.push(template);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__poll\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__poll__wrapper\">\n\t\t\t\t\t\t<p css={pollQuestionStyle()} className=\"poll__question\">\n\t\t\t\t\t\t\t{pollExtensionData.question}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<ul css={pollAnswerStyle(this.context)} className=\"poll__options\">\n\t\t\t\t\t\t\t{pollOptions}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<p css={pollTotalStyle()} className=\"poll__votes\">\n\t\t\t\t\t\t\t{totalText}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderPollMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderPollMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderPollMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapper = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"128px\",\n\t\theight: \"128px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tmaxWidth: \"128px\",\n\t\t\theight: \"128px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageImgWrapper,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderStickerBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet stickerData = null;\n\t\tlet stickerImg = null;\n\t\tif (this.props.message.hasOwnProperty(\"data\") && this.props.message.data.hasOwnProperty(\"customData\")) {\n\t\t\tstickerData = this.props.message.data.customData;\n\n\t\t\tif (stickerData.hasOwnProperty(\"sticker_url\")) {\n\t\t\t\tconst stickerName = stickerData.hasOwnProperty(\"sticker_name\") ? stickerData.sticker_name : Translator.translate(\"STICKER\", this.context.language);\n\t\t\t\tstickerImg = <img src={stickerData.sticker_url} alt={stickerName} />;\n\t\t\t}\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__sticker\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageImgWrapper(this.context)} className=\"message__img__wrapper\">\n\t\t\t\t\t\t{stickerImg}{\" \"}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderStickerBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderStickerBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderStickerBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"> img\": {\n            backgroundColor: \"white\"\n        }\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        paddingLeft: \"8px\"\n    }\n}\n\nexport const messageTxtIconStyle = (img, context) => {\n\n    return {\n        mask: `url(${img}) no-repeat left center`,\n        backgroundColor: `${context.theme.color.white}`,\n        width: \"24px\",\n        height: \"24px\"\n    }\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n                fontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageTxtIconStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\n\nclass CometChatSenderWhiteboardBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeWhiteboard = () => {\n\t\tlet whiteboardUrl = null;\n\t\tlet whiteboardData = checkMessageForExtensionsData(this.props.message, \"whiteboard\");\n\t\tif (whiteboardData && whiteboardData.hasOwnProperty(\"board_url\") && whiteboardData.board_url.length) {\n\t\t\tlet username = this.loggedInUser?.name.split(\" \").join(\"_\");\n\t\t\t// Appending the username to the board_url\n\t\t\twhiteboardUrl = whiteboardData.board_url + \"&username=\" + username;\n\t\t\twindow.open(whiteboardUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = Translator.translate(\"CREATED_WHITEBOARD\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__whiteboard\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__whiteboard__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__whiteboard__container\">\n\t\t\t\t\t\t\t<i css={messageTxtIconStyle(whiteboardIcon, this.context)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeWhiteboard}>\n\t\t\t\t\t\t\t\t<p>{Translator.translate(\"LAUNCH\", this.context.language)}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderWhiteboardBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderWhiteboardBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderWhiteboardBubble };","export const actionMessageStyle = () => {\n\n    return {\n        padding: \"8px 16px\",\n        marginBottom: \"16px\",\n        textAlign: \"center\",\n        height: \"36px\"\n    }\n}\n\nexport const actionMessageTxtStyle = () => {\n\n    return {\n        fontSize: \"13.5px\",\n        margin: \"0\",\n        lineHeight: \"20px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { actionMessageStyle, actionMessageTxtStyle } from \"./style\"\n\nclass CometChatActionMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tgetCallActionMessage = message => {\n\t\tconst call = message;\n\t\tlet actionMessage = null;\n\n\t\tswitch (call.status) {\n\t\t\tcase CometChat.CALL_STATUS.INITIATED: {\n\t\t\t\tactionMessage = Translator.translate(\"CALL_INITIATED\", this.context.language);\n\t\t\t\tif (call.type === CometChat.CALL_TYPE.AUDIO) {\n\t\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_AUDIO_CALL\", this.context.language) : Translator.translate(\"INCOMING_AUDIO_CALL\", this.context.language);\n\t\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.INITIATED) {\n\t\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_AUDIO_CALL\", this.context.language) : Translator.translate(\"INCOMING_AUDIO_CALL\", this.context.language);\n\t\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (call.type === CometChat.CALL_TYPE.VIDEO) {\n\t\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_VIDEO_CALL\", this.context.language) : Translator.translate(\"INCOMING_VIDEO_CALL\", this.context.language);\n\t\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.INITIATED) {\n\t\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_VIDEO_CALL\", this.context.language) : Translator.translate(\"INCOMING_VIDEO_CALL\", this.context.language);\n\t\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.ONGOING: {\n\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\tactionMessage = Translator.translate(\"CALL_ACCEPTED\", this.context.language);\n\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.ONGOING) {\n\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_ACCEPTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t} else if (call.action === \"left\") {\n\t\t\t\t\t\tif (call.sender.uid === this.loggedInUser?.uid) {\n\t\t\t\t\t\t\tactionMessage = `${Translator.translate(\"YOU\", this.context.language)} ${Translator.translate(\"LEFT_THE_CALL\", this.context.language)}`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactionMessage = `${call.sender.name} ${Translator.translate(\"LEFT_THE_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.UNANSWERED: {\n\t\t\t\tactionMessage = Translator.translate(\"CALL_UNANSWERED\", this.context.language);\n\n\t\t\t\tif (call.type === CometChat.CALL_TYPE.AUDIO && (call.receiverType === CometChat.RECEIVER_TYPE.USER || call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {\n\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"UNANSWERED_AUDIO_CALL\", this.context.language) : Translator.translate(\"MISSED_AUDIO_CALL\", this.context.language);\n\t\t\t\t} else if (call.type === CometChat.CALL_TYPE.VIDEO && (call.receiverType === CometChat.RECEIVER_TYPE.USER || call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {\n\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"UNANSWERED_VIDEO_CALL\", this.context.language) : Translator.translate(\"MISSED_VIDEO_CALL\", this.context.language);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.REJECTED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_REJECTED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.ENDED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_ENDED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.CANCELLED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_CANCELLED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.BUSY:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_BUSY\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\tgetActionMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tconst byUser = message?.actionBy?.name;\n\t\tconst onUser = message?.actionOn?.name;\n\n\t\tswitch (message.action) {\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_JOINED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_LEFT:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"LEFT\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_ADDED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"ADDED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_KICKED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"KICKED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_BANNED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"BANNED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_UNBANNED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"UNBANNED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED: {\n\t\t\t\tconst newScope = message?.newScope;\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"MADE\", this.context.language)} ${onUser} ${Translator.translate(newScope, this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\tgetMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tif (message.category === CometChat.CATEGORY_CALL) {\n\t\t\tactionMessage = this.getCallActionMessage(message);\n\t\t} else if (message.category === CometChat.CATEGORY_ACTION) {\n\t\t\tactionMessage = this.getActionMessage(message);\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div css={actionMessageStyle()} className=\"action__message\">\n\t\t\t\t<p css={actionMessageTxtStyle()}>{this.getMessage(this.props.message)}</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatActionMessageBubble.defaultProps = {\n    theme: theme,\n};\n\nCometChatActionMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatActionMessageBubble };","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const messageContainerStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf: \"flex-end\"\n    } : {\n        alignSelf: \"flex-start\"\n    };\n\n    return {\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        flexShrink: \"0\",\n        ...alignment\n    }\n}\n\nexport const messageWrapperStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        display: \"flex\",\n        flexDirection : \"column\",\n    } : {};\n\n    return {\n        flex: \"1 1\",\n        position: \"relative\",\n        width: \"100%\",\n        ...alignment\n    }\n}\n\nexport const messageTxtWrapperStyle = (props, context, loggedInUser) => {\n\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf: \"flex-end\",\n    } : {\n        alignSelf: \"flex-start\",\n    };\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        padding: \"8px 12px\",\n        alignSelf: \"flex-end\",\n        Width: \"100%\",\n        backgroundColor: `${context.theme.backgroundColor.secondary}`,\n        fontStyle: \"italic\",\n        ...alignment\n    }\n}\n\nexport const messageTxtStyle = context => {\n\n\treturn {\n\t\tfontSize: \"14px!important\",\n\t\tmargin: \"0\",\n\t\tlineHeight: \"20px!important\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageInfoWrapperStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf : \"flex-end\",\n    } : {\n        alignSelf: \"flex-start\",\n    };\n\n    return {\n        ...alignment,\n    }\n}\n\nexport const messageTimeStampStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfontSize: \"11px\",\n\t\tfontWeight: 500,\n\t\tlineHeight: \"12px\",\n\t\ttextTransform: \"uppercase\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"12px 0\",\n        float: \"left\",\n    }\n}\n\nexport const messageDetailStyle = (props, loggedInUser) => {\n\n\tlet paddingSpace = {};\n\tif (props.message?.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\tpaddingSpace = {\n\t\t\tpaddingLeft: \"5px\",\n\t\t};\n\t}\n\n\treturn {\n\t\tflex: \"1 1\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tposition: \"relative\",\n\t\t...paddingSpace,\n\t};\n};\n\nexport const nameWrapperStyle = (props, loggedInUser) => {\n\n\tlet paddingSpace = {};\n\tif (props.message?.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\tpaddingSpace = {\n\t\t\tpadding: \"3px 5px\",\n\t\t};\n\t}\n\n\treturn {\n\t\talignSelf: \"flex-start\",\n\t\t...paddingSpace,\n\t};\n};\n\nexport const nameStyle = context => {\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};","import React, { useContext, useState, useEffect } from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtStyle,\n    messageInfoWrapperStyle,\n    messageTimeStampStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle\n} from \"./style\";\n\nconst CometChatDeleteMessageBubble = (props) => {\n\n    const context = useContext(CometChatContext);\n\n\tconst [loggedInUser, setLoggedInUser] = useState(null);\n\n\tuseEffect(() => {\n\t\tcontext.getLoggedinUser().then(user => {\n\t\t\tsetLoggedInUser({ ...user });\n\t\t});\n\t}, [context]);\n\n    let message = null;\n    const messageDate = (props.message.sentAt * 1000);\n    if (props.message?.sender?.uid === loggedInUser?.uid) {\n\n\t\t\tmessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={messageTxtWrapperStyle(props, context, loggedInUser)} className=\"message__txt__wrapper\">\n\t\t\t\t\t\t<p css={messageTxtStyle(context)} className=\"message__txt\">\n\t\t\t\t\t\t\t{Translator.translate(\"YOU_DELETED_THIS_MESSAGE\", context.language)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={messageInfoWrapperStyle(props, loggedInUser)} className=\"message__info__wrapper\">\n\t\t\t\t\t\t<span css={messageTimeStampStyle(context)} className=\"message__timestamp\">\n\t\t\t\t\t\t\t{dateFormat(messageDate, \"shortTime\")}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t} else {\n\n\t\t\tlet avatar = null,\n\t\t\t\tname = null;\n\t\t\tif (props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tavatar = (\n\t\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t\t<CometChatAvatar user={props.message.sender} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tname = (\n\t\t\t\t\t<div css={nameWrapperStyle(props, loggedInUser)} className=\"message__name__wrapper\">\n\t\t\t\t\t\t<span css={nameStyle(context)} className=\"message__name\">\n\t\t\t\t\t\t\t{props.message.sender.name}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tmessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(props, loggedInUser)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t<div css={messageTxtWrapperStyle(props, context, loggedInUser)} className=\"message__txt__wrapper\">\n\t\t\t\t\t\t\t<p css={messageTxtStyle(context)} className=\"message__txt\">\n\t\t\t\t\t\t\t\t{Translator.translate(\"THIS_MESSAGE_DELETED\", context.language)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle(props, loggedInUser)} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<span css={messageTimeStampStyle(context)} className=\"message__timestamp\">\n\t\t\t\t\t\t\t\t{dateFormat(messageDate, \"shortTime\")}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n    return (\n        <div css={messageContainerStyle(props, loggedInUser)} className=\"message__deleted\">\n            <div css={messageWrapperStyle(props, loggedInUser)} className=\"message__wrapper\">{message}</div>                            \n        </div>\n    )\n}\n\n// Specifies the default values for props:\nCometChatDeleteMessageBubble.defaultProps = {\n    theme: theme\n};\n\nCometChatDeleteMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatDeleteMessageBubble };","export const pickerStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        \".emoji-mart\": {\n            borderRadius: \"5px 5px 0 0\",\n            borderBottom: \"0px\",\n            \".emoji-mart-category-list\": {\n                \" > li\": {\n                    width: \"50px\",\n                    height: \"30px\",\n                    margin: \"8px\",\n                    \".emoji-mart-emoji\": {\n                        width: \"50px\",\n                        height: \"30px\",\n                        padding: \"0px\",\n                        \" > span\": {\n                            width: \"50px!important\",\n                            height: \"30px!important\",\n                            cursor: \"pointer\",\n                        }\n                    }\n                }\n            },\n        },\n        \".emoji-mart-scroll\": {\n            height: \"200px\"\n        },\n        \".emoji-mart-preview, .emoji-mart-search\": {\n            display: \"none\"\n        },\n        \".emoji-mart-category\": {\n            \".emoji-mart-emoji:hover:before\": {\n                background: \"none\",\n                borderRadius: \"0px\",\n            }\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { Picker } from \"emoji-mart\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    pickerStyle\n} from \"./style\";\n\nclass CometChatEmojiKeyboard extends React.Component {\n\n    categories = {};\n    title = \"\";\n\n    constructor(props) {\n\n        super(props);\n\n        const categories = {\n            people: Translator.translate(\"SMILEY_PEOPLE\", props.lang),\n            nature: Translator.translate(\"ANIMALES_NATURE\", props.lang),\n            foods: Translator.translate(\"FOOD_DRINK\", props.lang),\n            activity: Translator.translate(\"ACTIVITY\", props.lang),\n            places: Translator.translate(\"TRAVEL_PLACES\", props.lang),\n            objects: Translator.translate(\"OBJECTS\", props.lang),\n            symbols: Translator.translate(\"SYMBOLS\", props.lang),\n            flags: Translator.translate(\"FLAGS\", props.lang)\n        }\n\n        const title = Translator.translate(\"PICK_YOUR_EMOJI\", props.lang);\n\n        this.state = {\n            categories: categories, \n            title: title\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n\n        if(prevProps.lang !== this.props.lang) {\n\n            const categories = {\n                search: Translator.translate(\"SEARCH\", this.props.lang),\n                people: Translator.translate(\"SMILEY_PEOPLE\", this.props.lang),\n                nature: Translator.translate(\"ANIMALES_NATURE\", this.props.lang),\n                foods: Translator.translate(\"FOOD_DRINK\", this.props.lang),\n                activity: Translator.translate(\"ACTIVITY\", this.props.lang),\n                places: Translator.translate(\"TRAVEL_PLACES\", this.props.lang),\n                objects: Translator.translate(\"OBJECTS\", this.props.lang),\n                symbols: Translator.translate(\"SYMBOLS\", this.props.lang),\n                flags: Translator.translate(\"FLAGS\", this.props.lang)\n            }\n\n            const title = Translator.translate(\"PICK_YOUR_EMOJI\", this.props.lang);\n\n            this.setState({ categories: { ...categories}, title: title });\n        }\n    }\n\n    render() {\n\n        const exclude = [\"search\", \"recent\"];\n        return(\n            <div css={pickerStyle()}>\n            <Picker\n            title={this.state.title}\n            emoji=\"point_up\"\n            native\n            onClick={this.props.emojiClicked}\n            showPreview={false}\n            exclude={exclude}\n            i18n={{ categories: this.state.categories }} \n            style={{ bottom: \"100px\", \"zIndex\": \"2\", \"width\": \"100%\", height: \"230px\" }} />\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatEmojiKeyboard.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n};\n\nCometChatEmojiKeyboard.propTypes = {\n    lang: PropTypes.string,\n}\n\nexport { CometChatEmojiKeyboard };","export const imageWrapperStyle = (context, closeIcon, img) => {\n\n    const heightProps = (img) ? {\n        height: \"auto\",\n    } : {\n        height: \"100%\",\n    };\n\n\tconst mq = [...context.theme.breakPoints];\n\n    return {\n\t\tposition: \"absolute\",\n\t\ttop: \"0\",\n\t\tleft: \"0\",\n\t\tbottom: \"0\",\n\t\tright: \"0\",\n\t\twidth: \"100%\",\n\t\tpadding: \"1.8% 2.3%\",\n\t\tzIndex: \"9999\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tbackground: `url(${closeIcon}) no-repeat 99% 0.8% #fff`,\n\t\tcursor: \"pointer\",\n\t\t...heightProps,\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n}\n\nexport const imgStyle = image => {\n\n    const sizeProps = (!image) ? {\n        width: \"24px\",\n        height: \"24px\",\n    } : {\n\t\tmaxHeight: \"100%\",\n\t};\n\n\treturn {\n\t\tobjectFit: \"contain\",\n\t\t...sizeProps,\n\t};\n};","export default __webpack_public_path__ + \"static/media/ring.f2985674.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React, { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatBackdrop } from \"../../Shared\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport {\n    imageWrapperStyle,\n    imgStyle,\n} from \"./style\";\n\nimport loadingIcon from \"./resources/ring.svg\";\nimport closeIcon from \"./resources/close.svg\";\n\nconst CometChatImageViewer = (props) => {\n\n    const context = useContext(CometChatContext);\n    const [image, setImage] = React.useState(null);\n\n    let img = new Image();\n    img.src = props.message.data.url;\n\n    img.onload = () => {\n        setImage(img.src);\n    };\n\n    let imageIcon = null;\n    if (image) {\n        imageIcon = image;\n    } else {\n        imageIcon = loadingIcon;\n    }\n\n    return (\n        <React.Fragment>\n            <CometChatBackdrop show={true} clicked={props.close} />\n            <div css={imageWrapperStyle(context, closeIcon, image)} onClick={props.close} className=\"image__wrapper\">\n                <img src={imageIcon} css={imgStyle(image)} alt={imageIcon} />\n            </div>\n        </React.Fragment>\n    );\n}\n\n\n// Specifies the default values for props:\nCometChatImageViewer.defaultProps = {\n\tcount: 0,\n\tclose: () => {},\n};\n\nCometChatImageViewer.propTypes = {\n\tshow: PropTypes.bool,\n\tclose: PropTypes.func,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatImageViewer };","export const messagePreviewContainerStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tboxShadow: \"0px 1px 2px 1px rgba(0,0,0,0.18)\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messagePreviewWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\"\n    }\n}\n\nexport const previewImageStyle = (img) => {\n\n    return {\n        background: `url(${img}) no-repeat center center`,\n        backgroundSize: \"contain\",\n        height: \"150px\",\n        margin: \"12px 0\",\n    }\n}\n\nexport const previewDataStyle = context => {\n\n\treturn {\n\t\tborderTop: `1px solid  ${context.theme.borderColor.primary}`,\n\t\tborderBottom: `1px solid  ${context.theme.borderColor.primary}`,\n\t\tpadding: \"16px\",\n\t};\n};\n\nexport const previewTitleStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontWeight: \"700\",\n\t\tmarginBottom: \"8px\",\n\t};\n};\n\nexport const previewDescStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontStyle: \"italic\",\n\t\tfontSize: \"13px\",\n\t};\n};\n\nexport const previewTextStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\t\".message__txt__wrapper\": {\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tcolor: `${context.theme.color.helpText}`,\n\t\t\tfontStyle: \"normal\",\n\t\t\tpadding: \"8px 0\",\n\t\t},\n\t};\n};\n\nexport const previewLinkStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\tpadding: \"12px\",\n\t\t\"> a\": {\n\t\t\tdisplay: \"inline-block\",\n\t\t\tcolor: `${context.theme.color.blue}`,\n\t\t\tfontWeight: \"700\",\n\t\t},\n\t};\n};\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messagePreviewContainerStyle,\n    messagePreviewWrapperStyle,\n    previewImageStyle,\n    previewDataStyle,\n    previewTitleStyle,\n    previewDescStyle,\n    previewLinkStyle,\n    previewTextStyle,\n} from \"./style\";\n\nclass CometChatLinkPreview extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    render() {\n\n        const linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n        const linkObject = linkPreviewData[\"links\"][0];\n\n        const pattern = /(http:|https:)?\\/\\/(www\\.)?(youtube.com|youtu.be)(\\S+)?/;\n        const linkText = (linkObject[\"url\"].match(pattern)) ? Translator.translate(\"VIEW_ON_YOUTUBE\", this.context.language) : Translator.translate(\"VISIT\", this.context.language);\n\n        return (\n            <div css={messagePreviewContainerStyle(this.context)} className=\"message__preview\">\n                <div css={messagePreviewWrapperStyle()} className=\"preview__card\">\n                    <div css={previewImageStyle(linkObject[\"image\"])} className=\"card__image\"></div>\n                    <div css={previewDataStyle(this.context)} className=\"card__info\">\n                        <div css={previewTitleStyle(this.context)} className=\"card__title\"><span>{linkObject[\"title\"]}</span></div>\n                        <div css={previewDescStyle(this.context)} className=\"card__desc\"><span>{linkObject[\"description\"]}</span></div>\n                        <div css={previewTextStyle(this.context)} className=\"card__text\">{this.props.messageText}</div>\n                    </div>\n                    <div css={previewLinkStyle(this.context)} className=\"card__link\">\n                        <a href={linkObject[\"url\"]} target=\"_blank\" rel=\"noopener noreferrer\">{linkText}</a>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatLinkPreview.defaultProps = {\n    theme: theme\n};\n\nCometChatLinkPreview.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatLinkPreview };","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {\n    reactionContainerStyle,\n    reactionEmojiStyle\n} from \"./style\";\n\nimport heartIcon from \"./resources/heart.png\";\n\nclass CometChatLiveReactions extends React.PureComponent {\n\n    static contextType = CometChatContext;\n    \n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.parentElement = React.createRef();\n\n\t\tthis.counter = 0;\n\t\tthis.verticalSpeed = 5;\n\t\tthis.horizontalSpeed = 2;\n\t\tthis.items = [];\n\n\t\tthis.before = Date.now();\n\n\t\tconst reaction = props.reaction ? enums.CONSTANTS[\"LIVE_REACTIONS\"][props.reaction] : enums.CONSTANTS[\"LIVE_REACTIONS\"][\"heart\"];\n\t\tconst reactionImg = <img src={heartIcon} alt={reaction} />;\n\t\tthis.emojis = Array(6).fill(reactionImg);\n\t}\n\n\tcomponentDidMount() {\n\n\t\t//this.sendMessage();\n\t\tthis.setItems();\n\t\tthis.requestAnimation();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.timer = null;\n\t}\n\n\tsendMessage = () => {\n\n        //fetching the metadata type from constants\n\t\tconst metadata = { type: enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"], reaction: this.props.reaction };\n\n        const receiverType = this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER ? CometChat.ACTION_TYPE.TYPE_USER : CometChat.ACTION_TYPE.TYPE_GROUP;\n        const receiverId = (this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER) ? this?.context?.item?.uid : this?.context?.item?.guid;\n\n\t\tlet transientMessage = new CometChat.TransientMessage(receiverId, receiverType, metadata);\n\t\tCometChat.sendTransientMessage(transientMessage);\n\t};\n\n\tsetItems = () => {\n\t\tconst width = this.parentElement.offsetWidth;\n\t\tconst height = this.parentElement.offsetHeight;\n\n\t\tconst elements = this.parentElement.querySelectorAll(\".emoji\");\n\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\tconst element = elements[i],\n\t\t\t\telementWidth = element.offsetWidth,\n\t\t\t\telementHeight = element.offsetHeight;\n\n\t\t\tconst item = {\n\t\t\t\telement: element,\n\t\t\t\telementHeight: elementHeight,\n\t\t\t\telementWidth: elementWidth,\n\t\t\t\tySpeed: -this.verticalSpeed,\n\t\t\t\tomega: (2 * Math.PI * this.horizontalSpeed) / (width * 60), //omega= 2Pi*frequency\n\t\t\t\trandom: (Math.random() / 2 + 0.5) * i * 10000, //random time offset\n\t\t\t\tx: function (time) {\n\t\t\t\t\treturn ((Math.sin(this.omega * (time + this.random)) + 1) / 2) * (width - elementWidth);\n\t\t\t\t},\n\t\t\t\ty: height + (Math.random() + 1) * i * elementHeight,\n\t\t\t};\n\n\t\t\tthis.items.push(item);\n\t\t}\n\t};\n\n\trequestAnimation = () => {\n\t\tthis.timer = setTimeout(this.animate, 1000 / 60);\n\t};\n\n\tanimate = () => {\n\t\tif (!this.parentElement) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst height = this.parentElement.offsetHeight;\n\t\tconst time = +new Date(); //little trick, gives unix time in ms\n\n\t\tfor (let i = 0; i < this.items.length; i++) {\n\t\t\tconst item = this.items[i];\n\n\t\t\tconst transformString = \"translate3d(\" + item.x(time) + \"px, \" + item.y + \"px, 0px)\";\n\t\t\titem.element.style.transform = transformString;\n\n\t\t\titem.element.style.visibility = \"visible\";\n\n\t\t\tif (item.y <= height) {\n\t\t\t\titem.element.classList.add(\"fade\");\n\t\t\t}\n\n\t\t\titem.y += item.ySpeed;\n\t\t}\n\n\t\tthis.requestAnimation();\n\t};\n\n\trender() {\n\t\tconst emojis = this.emojis.map((emoji, index) => (\n\t\t\t<span className=\"emoji\" css={reactionEmojiStyle()} key={index}>\n\t\t\t\t{emoji}\n\t\t\t</span>\n\t\t));\n\t\treturn (\n\t\t\t<div ref={el => (this.parentElement = el)} css={reactionContainerStyle()}>\n\t\t\t\t{emojis}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { CometChatLiveReactions };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg==\"","export const reactionContainerStyle = () => {\n\n    return {\n        width: \"100px\",\n        height: \"calc(100% - 120px)\",\n        overflow: \"hidden\",\n        position: \"absolute\",\n        top: \"70px\",\n        right: \"0\",\n    }\n}\n\nexport const reactionEmojiStyle = () => {\n\n    return {\n        position: \"absolute\",\n        color: \"#DD4144\",\n        visibility: \"hidden\",\n        width: \"20px\",\n        height: \"20px\",\n        opacity: \"1\",\n        transition: \"opacity 3s\",\n        \"&.fade\": {\n            opacity: \"0\"\n        }\n    }\n}","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const messageActionStyle = (props, context, loggedInUser) => {\n\n    const topPos = (props.message.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? { top: \"-4px\" } : { top: \"-30px\" };\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? { alignSelf: \"flex-end\" } : { alignSelf: \"flex-start\" };\n    const direction = (props.message?.sender?.uid === loggedInUser?.uid) ? { \n        \"li:not(:last-of-type)\": {\n            marginRight: \"8px\",\n        }\n\n    } : {\n        flexDirection: \"row-reverse\",\n        \"li:not(:first-of-type)\": {\n            marginRight: \"8px\",\n        }\n\n    };\n\n    return {\n        position: \"absolute\",\n        zIndex: \"1\",\n        display: \"flex\",\n        listStyleType: \"none\",\n        padding: \"8px\",\n        margin: \"0\",\n        height: \"35px\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        ...alignment,\n        ...topPos,\n        ...direction,\n    }\n}\n\nexport const actionGroupStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        position: \"relative\",\n    }\n}\n\nexport const groupButtonStyle = (img, context, deleteOption) => {\n\n    const backgroundProp = (deleteOption) ? {\n        backgroundColor: `${context.theme.color.red}!important`\n    } : {\n        backgroundColor: `${context.theme.secondaryTextColor}!important`\n    };\n\n    return {\n        outline: \"0\",\n        border: \"0\",\n        height: \"24px\",\n        width: \"24px\",\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        display: \"inline-flex\",\n        justifyContent: \"center\",\n        position: \"relative\",\n        mask: `url(${img}) center center no-repeat`,\n        ...backgroundProp\n    }\n}","export default __webpack_public_path__ + \"static/media/threaded-message.d845cc3f.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","export default __webpack_public_path__ + \"static/media/edit.35ebcb35.svg\";","export default __webpack_public_path__ + \"static/media/reactions.db072cb2.svg\";","export default __webpack_public_path__ + \"static/media/message-translate.80731563.svg\";","export default __webpack_public_path__ + \"static/media/send-message-in-private.293d36b5.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageActionStyle,\n\tactionGroupStyle,\n\tgroupButtonStyle\n} from \"./style\";\n\nimport startThreadIcon from \"./resources/threaded-message.svg\";\nimport deleteIcon from \"./resources/delete.svg\";\nimport editIcon from \"./resources/edit.svg\";\nimport reactIcon from \"./resources/reactions.svg\";\nimport translateIcon from \"./resources/message-translate.svg\";\nimport sendMessageInPrivateIcon from \"./resources/send-message-in-private.svg\";\n\n\nclass CometChatMessageActions extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tenableMessageReaction: false,\n\t\t\tenableThreadedChats: false,\n\t\t\tenableDeleteMessage: false,\n\t\t\tenableEditMessage: false,\n\t\t\tenableTranslateMessage: false,\n\t\t\tenableMessageInPrivate: false,\n\t\t\tenableDeleteMessageForModerator: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\n\t\t\tthis.setState({loggedInUser: { ...user }});\n\n\t\t}).then(() => {\n\n\t\t\tthis.enableMessageReaction();\n\t\t\tthis.enableThreadedChats();\n\t\t\tthis.enableDeleteMessage();\n\t\t\tthis.enableDeleteMessageForModerator();\n\t\t\tthis.enableEditMessage();\n\t\t\tthis.enableTranslateMessage();\n\t\t\tthis.enableMessageInPrivate();\n\t\t});\n\t}\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.dataset.title);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tenableMessageReaction = () => {\n\t\t/**\n\t\t * If reacting to messages feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t});\n\t};\n\n\tenableThreadedChats = () => {\n\t\t/**\n\t\t * If threaded chats are open, return false\n\t\t */\n\t\tif (this.props.message.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * If threaded replies feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isThreadedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableThreadedChats: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableThreadedChats: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableThreadedChats: false });\n\t\t\t});\n\t};\n\n\tenableDeleteMessage = () => {\n\t\tthis.context.FeatureRestriction.isDeleteMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableDeleteMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableDeleteMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableDeleteMessage: false });\n\t\t\t});\n\t};\n\n\tenableDeleteMessageForModerator = () => {\n\t\tthis.context.FeatureRestriction.isDeleteMemberMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableDeleteMessageForModerator: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableDeleteMessageForModerator: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableDeleteMessageForModerator: false });\n\t\t\t});\n\t};\n\n\tenableEditMessage = () => {\n\t\t/**\n\t\t * If the message is not sent by the logged in user or the message type is not text\n\t\t */\n\t\tif (this.props.message.sender?.uid !== this.state.loggedInUser?.uid || this.props.message.type !== CometChat.MESSAGE_TYPE.TEXT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.context.FeatureRestriction.isEditMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableEditMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableEditMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableEditMessage: false });\n\t\t\t});\n\t};\n\n\tenableTranslateMessage = () => {\n\t\t/**\n\t\t * message type is not text\n\t\t */\n\t\tif (this.props.message.type !== CometChat.MESSAGE_TYPE.TEXT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.context.FeatureRestriction.isMessageTranslationEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableTranslateMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableTranslateMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableTranslateMessage: false });\n\t\t\t});\n\t};\n\n\t/**\n\t * If message in private feature is enabled\n\t */\n\tenableMessageInPrivate = () => {\n\t\tthis.context.FeatureRestriction.isMessageInPrivateEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableMessageInPrivate: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableMessageInPrivate: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableMessageInPrivate: false });\n\t\t\t});\n\t};\n\n\tsendMessageInPrivate = () => {\n\t\t\n\t\tconst item = this.props.message?.sender;\n\t\tconst type = CometChat.ACTION_TYPE.TYPE_USER;\n\n\t\tthis.context.setTypeAndItem(type, item);\n\t};\n\n\treactToMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"REACT_TO_MESSAGE\"], this.props.message);\n\t};\n\n\tviewThread = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"], this.props.message);\n\t};\n\n\tdeleteMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"DELETE_MESSAGE\"], this.props.message);\n\t};\n\n\teditMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"EDIT_MESSAGE\"], this.props.message);\n\t};\n\n\ttranslateMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TRANSLATE_MESSAGE\"], this.props.message);\n\t};\n\n\trender() {\n\t\t//don't show the tooltip while the message is being sent\n\t\tif (this.props.message.hasOwnProperty(\"sentAt\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet reactToMessage = null;\n\t\tif (this.state.enableMessageReaction) {\n\t\t\treactToMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(reactIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__reacttomessage\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"ADD_REACTION\", this.context.language)}\n\t\t\t\t\t\tonClick={this.reactToMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet threadedChats = null;\n\t\tif (this.state.enableThreadedChats) {\n\t\t\tthreadedChats = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(startThreadIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__threadedchats\"\n\t\t\t\t\t\tdata-title={this.props.message.replyCount ? Translator.translate(\"REPLY_TO_THREAD\", this.context.language) : Translator.translate(\"REPLY_IN_THREAD\", this.context.language)}\n\t\t\t\t\t\tonClick={this.viewThread}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * in one-on-one chat, allow deleting self messages if delete feature is enabled\n\t\t * in group chat, allow deleting other's messages for moderators and admins if moderator delete feature && delete feature is enabled\n\t\t */\n\t\tlet deleteMessage = null;\n\t\tif (\n\t\t\t(this.props.message.sender?.uid === this.state.loggedInUser?.uid && this.state.enableDeleteMessage) ||\n\t\t\t(this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP &&\n\t\t\t\tthis.props.message.sender?.uid !== this.state.loggedInUser?.uid &&\n\t\t\t\tthis.context.item.hasOwnProperty(\"scope\") &&\n\t\t\t\tthis.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT &&\n\t\t\t\tthis.state.enableDeleteMessageForModerator &&\n\t\t\t\tthis.state.enableDeleteMessage)\n\t\t) {\n\t\t\tdeleteMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(deleteIcon, this.context, 1)}\n\t\t\t\t\t\tclassName=\"group__button button__delete\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"DELETE_MESSAGE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.deleteMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet editMessage = null;\n\t\tif (this.state.enableEditMessage) {\n\t\t\teditMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(editIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__edit\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"EDIT_MESSAGE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.editMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet translateMessage = null;\n\t\tif (this.state.enableTranslateMessage) {\n\t\t\ttranslateMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\tcss={groupButtonStyle(translateIcon, this.context)}\n\t\t\t\t\tclassName=\"group__button button__translate\"\n\t\t\t\t\tdata-title={Translator.translate(\"TRANSLATE_MESSAGE\", this.context.language)}\n\t\t\t\t\tonClick={this.translateMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * if send message in private feature is enabled, if group chat window is open, and messages are not sent by the loggedin user...\n\t\t */\n\t\tlet messageInPrivate = null;\n\t\tif (this.state.enableMessageInPrivate === true && this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.props.message?.sender?.uid !== this.state.loggedInUser?.uid) {\n\t\t\tmessageInPrivate = (\n\t\t\t\t<li>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(sendMessageInPrivateIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__translate\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"SEND_MESSAGE_IN_PRIVATE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.sendMessageInPrivate}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet tooltip = (\n\t\t\t<ul css={messageActionStyle(this.props, this.context, this.state.loggedInUser)} className=\"message__actions\">\n\t\t\t\t{reactToMessage}\n\t\t\t\t{threadedChats}\n\t\t\t\t{editMessage}\n\t\t\t\t{deleteMessage}\n\t\t\t\t{messageInPrivate}\n\t\t\t\t{translateMessage}\n\t\t\t</ul>\n\t\t);\n\n\t\tif (threadedChats === null && deleteMessage === null && editMessage === null && reactToMessage === null && translateMessage === null && messageInPrivate === null) {\n\t\t\ttooltip = null;\n\t\t}\n\n\t\treturn tooltip;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageActions.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatMessageActions.propTypes = {\n\ttheme: PropTypes.object.isRequired,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatMessageActions };\n","export const chatComposerStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\torder: \"3\",\n\t\tposition: \"relative\",\n\t\tflex: \"none\",\n\t\tminHeight: \"105px\",\n\t};\n};\n\nexport const editPreviewContainerStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -60px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tpadding: \"7px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tborderColor: `${context.theme.borderColor.primary}`,\n\t\tborderWidth: \"1px 1px 1px 5px\",\n\t\tborderStyle: \"solid\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontSize: \"13px\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const previewHeadingStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\"\n    }\n}\n\nexport const previewTextStyle = () => {\n\n    return {\n        padding: \"5px 0\",\n    }\n}\n\nexport const previewCloseStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        borderRadius: \"50%\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`\n    }\n}\n\nexport const composerInputStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"100%\",\n        flexDirection: \"row\",\n        alignItems: \"flex-end\",\n        position: \"relative\",\n        zIndex: \"2\",\n        padding: \"0\",\n        minHeight: \"85px\",\n    }\n}\n\nexport const inputInnerStyle = (props, state, context) => {\n\n    const borderRadiusVal = (state.emojiViewer || state.stickerViewer) ? {\n        borderRadius: \"0 0 8px 8px\",\n    } : {\n        borderRadius: \"8px\",\n    };\n\n    return {\n        flex: \"1 1 auto\",\n        position: \"relative\",\n        outline: \"none\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        minHeight: \"85px\",\n        ...borderRadiusVal\n    }\n}\n\nexport const messageInputStyle = (disabled) => {\n\n    const disabledState = (disabled) ? {\n        pointerEvents : \"none\",\n        opacity: \"0.4\"\n    } : {};\n\n    return {\n        width: \"100%\",\n        fontSize: \"15px\",\n        lineHeight: \"20px\",\n        fontWeight: \"400\",\n        padding: \"16px\",\n        outline: \"none\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        position: \"relative\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        zIndex: \"1\",\n        minHeight: \"50px\",\n        maxHeight: \"100px\",\n        userSelect: \"text\",\n        ...disabledState,\n        '&:empty:before': {\n            content: \"attr(placeholder)\",\n            color: \"rgb(153, 153, 153)\",\n            pointerEvents: \"none\",\n            display: \"block\", /* For Firefox */\n        }\n    }\n}\n\nexport const inputStickyStyle = (disabled, attachments, context) => {\n\n    const disabledState = (disabled) ? {\n        pointerEvents: \"none\",\n    } : {};\n\n    const flexDirectionProp = (attachments === null) ? {\n        flexDirection: \"row-reverse\",\n    } : {};\n\n    return {\n        padding: \"8px 16px\",\n        // height: \"40px\",\n        borderTop: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.grey}`,\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        ...flexDirectionProp,\n        ...disabledState,\n        '&:empty:before': {\n            pointerEvents: \"none\",\n        }\n    }\n}\n\nexport const stickyAttachmentStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"auto\"\n    }\n}\n\nexport const attachmentIconStyle = () => {\n\n    return {\n        margin: \"auto 0\",\n        width: \"24px\",\n        height: \"20px\",\n        cursor: \"pointer\",\n    }\n}\n\nexport const filePickerStyle = (state) => {\n\n    const active = (state.showFilePicker) ? {\n        width: \"calc(100% - 20px)\",\n        opacity: \"1\",\n    } : {};\n\n    return {\n        width: \"0\",\n        borderRadius: \"8px\",\n        overflow: \"hidden\",\n        zIndex: \"1\",\n        opacity: \"0\",\n        transition: \"width 0.5s linear\",\n        ...active,\n    }\n}\n\nexport const fileListStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        padding: \"0 0 0 16px\",\n    }\n}\n\nexport const fileItemStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: \"0 16px 0 0\",\n        \" > i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        },\n        ' > input': {\n            display: \"none\",\n        },\n    }\n}\n\nexport const stickyAttachButtonStyle = (img, context) => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        cursor: \"pointer\",\n        width: \"24px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}\n\nexport const stickyButtonStyle = (state) => {\n\n    const active = (state.showFilePicker) ? {\n        display: \"none\",\n    } : {\n        display: \"flex\",\n    };\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        cursor: \"pointer\",\n        width: \"auto\",\n        ...active\n    }\n}\n\nexport const emojiButtonStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}\n\nexport const sendButtonStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.primaryColor}`\n        }\n    }\n}\n\nexport const reactionBtnStyle = () => {\n\n    return {\n        cursor: \"pointer\",\n        height: \"24px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n    }\n}\n\nexport const stickerBtnStyle = (img, context) => {\n\n    return {\n        cursor: \"pointer\",\n        height: \"24px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/add-circle-filled.a7750fa2.svg\";","export default __webpack_public_path__ + \"static/media/video.2493964e.svg\";","export default __webpack_public_path__ + \"static/media/audio-file.5e5200f5.svg\";","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","export default __webpack_public_path__ + \"static/media/image.74b5a891.svg\";","export default __webpack_public_path__ + \"static/media/emoji.c7a39969.svg\";","export default __webpack_public_path__ + \"static/media/send-message.1fcc4bdc.svg\";","export default __webpack_public_path__ + \"static/media/polls.30ae277d.svg\";","export default __webpack_public_path__ + \"static/media/stickers.d5d3db8f.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport \"emoji-mart/css/emoji-mart.css\";\n\nimport { CometChatSmartReplyPreview, CometChatCreatePoll, CometChatStickerKeyboard } from \"../Extensions\";\nimport { CometChatEmojiKeyboard } from \"../\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData, ID, getUnixTimestamp } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tchatComposerStyle,\n\teditPreviewContainerStyle,\n\tpreviewHeadingStyle,\n\tpreviewCloseStyle,\n\tpreviewTextStyle,\n\tcomposerInputStyle,\n\tinputInnerStyle,\n\tmessageInputStyle,\n\tinputStickyStyle,\n\tstickyAttachmentStyle,\n\tfilePickerStyle,\n\tfileListStyle,\n\tfileItemStyle,\n\tstickyAttachButtonStyle,\n\tstickyButtonStyle,\n\temojiButtonStyle,\n\tsendButtonStyle,\n\treactionBtnStyle,\n\tstickerBtnStyle\n} from \"./style\";\n\nimport roundedPlus from \"./resources/add-circle-filled.svg\";\nimport videoIcon from \"./resources/video.svg\";\nimport audioIcon from \"./resources/audio-file.svg\";\nimport docIcon from \"./resources/file-upload.svg\";\nimport imageIcon from \"./resources/image.svg\";\nimport insertEmoticon from \"./resources/emoji.svg\";\nimport sendBlue from \"./resources/send-message.svg\";\nimport pollIcon from \"./resources/polls.svg\";\nimport stickerIcon from \"./resources/stickers.svg\";\nimport closeIcon from \"./resources/close.svg\";\nimport documentIcon from \"./resources/collaborative-document.svg\";\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\nimport heartIcon from \"./resources/heart.png\";\n\nclass CometChatMessageComposer extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.imageUploaderRef = React.createRef();\n\t\tthis.fileUploaderRef = React.createRef();\n\t\tthis.audioUploaderRef = React.createRef();\n\t\tthis.videoUploaderRef = React.createRef();\n\t\tthis.messageInputRef = React.createRef();\n\t\tthis.liveReactionInProgress = false;\n\t\tthis.isTyping = false;\n\n\t\tthis.state = {\n\t\t\tshowFilePicker: false,\n\t\t\tmessageInput: \"\",\n\t\t\tmessageType: \"\",\n\t\t\temojiViewer: false,\n\t\t\tcreatePoll: false,\n\t\t\tmessageToBeEdited: \"\",\n\t\t\treplyPreview: null,\n\t\t\tstickerViewer: false,\n\t\t\tmessageToReact: \"\",\n\t\t\tshareDocument: false,\n\t\t\tshareWhiteboard: false,\n\t\t\tenableLiveReaction: false,\n\t\t\tenablePolls: false,\n\t\t\tenableTypingIndicator: false,\n\t\t\tenableStickers: false,\n\t\t\tenablePhotosVideos: false,\n\t\t\tenableFiles: false,\n\t\t\tenableEmojis: false,\n\t\t\tenableCollaborativeDocument: false,\n\t\t\tenableCollaborativeWhiteboard: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : null;\n\t\tthis.enableLiveReaction();\n\t\tthis.enablePolls();\n\t\tthis.enableTypingIndicator();\n\t\tthis.enableStickers();\n\t\tthis.enablePhotosVideos();\n\t\tthis.enableFiles();\n\t\tthis.enableEmojis();\n\t\tthis.enableCollaborativeDocument();\n\t\tthis.enableCollaborativeWhiteboard();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (prevProps.messageToBeEdited !== this.props.messageToBeEdited) {\n\t\t\tconst messageToBeEdited = this.props.messageToBeEdited;\n\n\t\t\tthis.setState({ messageInput: messageToBeEdited, messageToBeEdited: messageToBeEdited });\n\n\t\t\tconst element = this.messageInputRef.current;\n\t\t\tif (messageToBeEdited) {\n\t\t\t\tlet messageText = messageToBeEdited.text;\n\n\t\t\t\t//xss extensions data\n\t\t\t\tconst xssData = checkMessageForExtensionsData(messageToBeEdited, \"xss-filter\");\n\t\t\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\t\t\tmessageText = xssData.sanitized_text;\n\t\t\t\t}\n\n\t\t\t\telement.focus();\n\t\t\t\telement.textContent = \"\";\n\t\t\t\tthis.pasteHtmlAtCaret(messageText, false);\n\t\t\t} else {\n\t\t\t\telement.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\tif (prevProps.replyPreview !== this.props.replyPreview) {\n\t\t\tthis.setState({ replyPreview: this.props.replyPreview });\n\t\t}\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.messageToReact);\n\t\tconst currentMessageStr = JSON.stringify(this.props.messageToReact);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setState({ messageToReact: this.props.messageToReact });\n\t\t}\n\n\t\tif (this.context.item !== this.item) {\n\t\t\tthis.messageInputRef.current.textContent = \"\";\n\t\t\tthis.setState({ stickerViewer: false, emojiViewer: false, replyPreview: null, messageToBeEdited: \"\", messageInput: \"\" });\n\n\t\t\tthis.focusOnMessageComposer();\n\t\t}\n\n\t\tif (prevState.messageInput !== this.state.messageInput) {\n\t\t\tthis.focusOnMessageComposer();\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : null;\n\t\tthis.enableLiveReaction();\n\t\tthis.enablePolls();\n\t\tthis.enableTypingIndicator();\n\t\tthis.enableStickers();\n\t\tthis.enablePhotosVideos();\n\t\tthis.enableFiles();\n\t\tthis.enableEmojis();\n\t\tthis.enableCollaborativeDocument();\n\t\tthis.enableCollaborativeWhiteboard();\n\t}\n\n\t/**\n\t * if live reactions feature is disabled\n\t */\n\tenableLiveReaction = () => {\n\t\tthis.context.FeatureRestriction.isLiveReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLiveReaction) {\n\t\t\t\t\tthis.setState({ enableLiveReaction: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLiveReaction !== false) {\n\t\t\t\t\tthis.setState({ enableLiveReaction: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if polls feature is disabled\n\t */\n\tenablePolls = () => {\n\t\tthis.context.FeatureRestriction.isPollsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enablePolls) {\n\t\t\t\t\tthis.setState({ enablePolls: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePolls !== false) {\n\t\t\t\t\tthis.setState({ enablePolls: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if typing indicator feature is disabled\n\t */\n\tenableTypingIndicator = () => {\n\t\tthis.context.FeatureRestriction.isTypingIndicatorsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableTypingIndicator) {\n\t\t\t\t\tthis.setState({ enableTypingIndicator: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableTypingIndicator !== false) {\n\t\t\t\t\tthis.setState({ enableTypingIndicator: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if stickers feature is disabled\n\t */\n\tenableStickers = () => {\n\t\tthis.context.FeatureRestriction.isStickersEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableStickers) {\n\t\t\t\t\tthis.setState({ enableStickers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableStickers !== false) {\n\t\t\t\t\tthis.setState({ enableStickers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if uploding photos, videos feature is disabled\n\t */\n\tenablePhotosVideos = () => {\n\t\tthis.context.FeatureRestriction.isPhotosVideosEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enablePhotosVideos) {\n\t\t\t\t\tthis.setState({ enablePhotosVideos: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePhotosVideos !== false) {\n\t\t\t\t\tthis.setState({ enablePhotosVideos: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if uploding files feature is disabled\n\t */\n\tenableFiles = () => {\n\t\tthis.context.FeatureRestriction.isFilesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableFiles) {\n\t\t\t\t\tthis.setState({ enableFiles: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableFiles !== false) {\n\t\t\t\t\tthis.setState({ enableFiles: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sending emojis feature is disabled\n\t */\n\tenableEmojis = () => {\n\t\tthis.context.FeatureRestriction.isEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableEmojis) {\n\t\t\t\t\tthis.setState({ enableEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sharing collborative document feature is disabled\n\t */\n\tenableCollaborativeDocument = () => {\n\t\tthis.context.FeatureRestriction.isCollaborativeDocumentEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableCollaborativeDocument) {\n\t\t\t\t\tthis.setState({ enableCollaborativeDocument: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCollaborativeDocument !== false) {\n\t\t\t\t\tthis.setState({ enableCollaborativeDocument: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sharing collborative whiteboard feature is disabled\n\t */\n\tenableCollaborativeWhiteboard = () => {\n\t\tthis.context.FeatureRestriction.isCollaborativeWhiteBoardEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableCollaborativeWhiteboard) {\n\t\t\t\t\tthis.setState({ enableCollaborativeWhiteboard: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCollaborativeWhiteboard !== false) {\n\t\t\t\t\tthis.setState({ enableCollaborativeWhiteboard: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tfocusOnMessageComposer = () => {\n\t\tif (this.messageInputRef && this.messageInputRef.current) {\n\t\t\tthis.messageInputRef.current.focus();\n\t\t}\n\t};\n\n\tpasteHtmlAtCaret(html, selectPastedContent) {\n\t\tvar sel, range;\n\t\tconst chatWindow = this.context.UIKitSettings.chatWindow;\n\t\tif (chatWindow.getSelection) {\n\t\t\t// IE9 and non-IE\n\t\t\tsel = chatWindow.getSelection();\n\t\t\tif (sel.getRangeAt && sel.rangeCount) {\n\t\t\t\trange = sel.getRangeAt(0);\n\t\t\t\trange.deleteContents();\n\n\t\t\t\t// Range.createContextualFragment() would be useful here but is\n\t\t\t\t// only relatively recently standardized and is not supported in\n\t\t\t\t// some browsers (IE9, for one)\n\t\t\t\tvar el = document.createElement(\"div\");\n\t\t\t\tel.innerText = html;\n\t\t\t\tvar frag = document.createDocumentFragment(),\n\t\t\t\t\tnode,\n\t\t\t\t\tlastNode;\n\t\t\t\twhile ((node = el.firstChild)) {\n\t\t\t\t\tlastNode = frag.appendChild(node);\n\t\t\t\t}\n\t\t\t\tvar firstNode = frag.firstChild;\n\t\t\t\trange.insertNode(frag);\n\n\t\t\t\t// Preserve the selection\n\t\t\t\tif (lastNode) {\n\t\t\t\t\trange = range.cloneRange();\n\t\t\t\t\trange.setStartAfter(lastNode);\n\t\t\t\t\tif (selectPastedContent) {\n\t\t\t\t\t\trange.setStartBefore(firstNode);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trange.collapse(true);\n\t\t\t\t\t}\n\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if ((sel = document.selection) && sel.type !== \"Control\") {\n\t\t\t// IE < 9\n\t\t\tvar originalRange = sel.createRange();\n\t\t\toriginalRange.collapse(true);\n\t\t\tsel.createRange().pasteHTML(html);\n\t\t\tif (selectPastedContent) {\n\t\t\t\trange = sel.createRange();\n\t\t\t\trange.setEndPoint(\"StartToStart\", originalRange);\n\t\t\t\trange.select();\n\t\t\t}\n\t\t}\n\t}\n\n\temojiClicked = (emoji, event) => {\n\t\tif (this.state.messageToReact) {\n\t\t\tthis.reactToMessages(emoji);\n\t\t\treturn;\n\t\t}\n\n\t\tconst element = this.messageInputRef.current;\n\t\telement.focus();\n\t\tthis.pasteHtmlAtCaret(emoji.native, false);\n\t\tthis.setState({ messageInput: element.innerText, messageType: \"text\" });\n\t};\n\n\tchangeHandler = event => {\n\t\tthis.startTyping();\n\n\t\tconst elem = event.currentTarget;\n\t\tlet messageInput = elem.textContent.trim();\n\n\t\tif (!messageInput.length) {\n\t\t\tevent.currentTarget.textContent = messageInput;\n\t\t\t//return false;\n\t\t}\n\n\t\tthis.setState({ messageInput: elem.innerText, messageType: \"text\" });\n\t};\n\n\ttoggleFilePicker = () => {\n\t\tconst currentState = !this.state.showFilePicker;\n\t\tthis.setState({ showFilePicker: currentState });\n\t};\n\n\topenFileDialogue = fileType => {\n\t\tswitch (fileType) {\n\t\t\tcase \"image\":\n\t\t\t\tthis.imageUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"file\":\n\t\t\t\tthis.fileUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"audio\":\n\t\t\t\tthis.audioUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"video\":\n\t\t\t\tthis.videoUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonImageChange = e => {\n\t\tif (!this.imageUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.imageUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\tevent => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.IMAGE);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonFileChange = e => {\n\t\tif (!this.fileUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.fileUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\tevent => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.FILE);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonAudioChange = e => {\n\t\tif (!this.audioUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.audioUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\t() => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.AUDIO);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonVideoChange = e => {\n\t\tif (!this.videoUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.videoUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\t() => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.VIDEO);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tgetReceiverDetails = () => {\n\t\tlet receiverId;\n\t\tlet receiverType;\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\treceiverId = this.context.item.uid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.USER;\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\treceiverId = this.context.item.guid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.GROUP;\n\t\t}\n\n\t\treturn { receiverId: receiverId, receiverType: receiverType };\n\t};\n\n\tsendMediaMessage = (messageInput, messageType) => {\n\t\tthis.toggleFilePicker();\n\t\tthis.endTyping(null, null);\n\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet mediaMessage = new CometChat.MediaMessage(receiverId, messageInput, messageType, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\tmediaMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\n\t\tmediaMessage.setSender(this.loggedInUser);\n\t\tmediaMessage.setReceiver(this.context.type);\n\t\tmediaMessage.setType(messageType);\n\t\tmediaMessage.setMetadata({\n\t\t\t[enums.CONSTANTS[\"FILE_METADATA\"]]: messageInput,\n\t\t});\n\t\tmediaMessage._composedAt = getUnixTimestamp();\n\t\tmediaMessage._id = ID();\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [mediaMessage]);\n\n\t\tCometChat.sendMessage(mediaMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: mediaMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...mediaMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tsendMessageOnEnter = event => {\n\t\tif (event.keyCode === 13 && !event.shiftKey) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.sendTextMessage();\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tsendTextMessage = () => {\n\t\tif (this.state.emojiViewer) {\n\t\t\tthis.setState({ emojiViewer: false });\n\t\t}\n\n\t\tif (!this.state.messageInput.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.state.messageToBeEdited) {\n\t\t\tthis.editMessage();\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.endTyping(null, null);\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet messageInput = this.state.messageInput.trim();\n\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageInput, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\ttextMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\ttextMessage.setSender(this.loggedInUser);\n\t\ttextMessage.setReceiver(this.context.type);\n\t\ttextMessage.setText(messageInput);\n\t\ttextMessage._composedAt = getUnixTimestamp();\n\t\ttextMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [textMessage]);\n\t\tthis.setState({ messageInput: \"\", replyPreview: false });\n\n\t\tthis.messageInputRef.current.textContent = \"\";\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tCometChat.sendMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: textMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...textMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\n\t\t\t\tif (error && error.hasOwnProperty(\"code\") && error.code === \"ERR_GUID_NOT_FOUND\") {\n\t\t\t\t\t//this.context.setDeletedGroupId(this.context.item.guid);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\teditMessage = () => {\n\t\tthis.endTyping(null, null);\n\n\t\tconst messageToBeEdited = this.props.messageToBeEdited;\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet messageText = this.state.messageInput.trim();\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageText, receiverType);\n\t\ttextMessage.setId(messageToBeEdited.id);\n\n\t\tconst newMessage = Object.assign({}, textMessage, { messageFrom: messageToBeEdited.messageFrom });\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], newMessage);\n\n\t\tthis.setState({ messageInput: \"\" });\n\t\tthis.messageInputRef.current.textContent = \"\";\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tthis.closeEditPreview();\n\n\t\tCometChat.editMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], { ...message });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tcloseEditPreview = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]);\n\t};\n\n\tstartTyping = (timer, metadata) => {\n\t\tlet typingInterval = timer || 5000;\n\n\t\t//if typing indicator feature is disabled\n\t\tif (this.state.enableTypingIndicator === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.isTyping) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet typingMetadata = metadata || undefined;\n\n\t\tlet typingNotification = new CometChat.TypingIndicator(receiverId, receiverType, typingMetadata);\n\t\tCometChat.startTyping(typingNotification);\n\n\t\tthis.isTyping = setTimeout(() => {\n\t\t\tthis.endTyping(null, typingMetadata);\n\t\t}, typingInterval);\n\t};\n\n\tendTyping = (event, metadata) => {\n\t\t//fixing synthetic issue\n\t\tif (event) {\n\t\t\tevent.persist();\n\t\t}\n\n\t\t//if typing indicator is disabled for chat wigdet in dashboard\n\t\tif (this.state.enableTypingIndicator === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet typingMetadata = metadata || undefined;\n\n\t\tlet typingNotification = new CometChat.TypingIndicator(receiverId, receiverType, typingMetadata);\n\t\tCometChat.endTyping(typingNotification);\n\n\t\tclearTimeout(this.isTyping);\n\t\tthis.isTyping = null;\n\t};\n\n\ttoggleStickerPicker = () => {\n\t\tconst stickerViewer = this.state.stickerViewer;\n\t\tthis.setState({ stickerViewer: !stickerViewer, emojiViewer: false });\n\t};\n\n\ttoggleEmojiPicker = () => {\n\t\tconst emojiViewer = this.state.emojiViewer;\n\t\tthis.setState({ emojiViewer: !emojiViewer, stickerViewer: false });\n\t};\n\n\ttoggleCreatePoll = () => {\n\t\tconst createPoll = this.state.createPoll;\n\t\tthis.setState({ createPoll: !createPoll });\n\t};\n\n\ttoggleCollaborativeDocument = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tCometChat.callExtension(\"document\", \"POST\", \"v1/create\", {\n\t\t\treceiver: receiverId,\n\t\t\treceiverType: receiverType,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\t// Response with document url\n\t\t\t\tif (response && response.hasOwnProperty(\"document_url\")) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"DOCUMENT_SUCCESS\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.setToastMessage(\"error\", \"DOCUMENT_FAIL\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\ttoggleCollaborativeBoard = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tCometChat.callExtension(\"whiteboard\", \"POST\", \"v1/create\", {\n\t\t\treceiver: receiverId,\n\t\t\treceiverType: receiverType,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\t// Response with board_url\n\t\t\t\tif (response && response.hasOwnProperty(\"board_url\")) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"WHITEBOARD_SUCCESS\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.setToastMessage(\"error\", \"WHITEBOARD_FAIL\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tcloseCreatePoll = () => {\n\t\tthis.toggleCreatePoll();\n\t\tthis.toggleFilePicker();\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"POLL_CREATED\"]:\n\t\t\t\tthis.toggleCreatePoll();\n\t\t\t\tthis.toggleFilePicker();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SEND_STICKER\"]:\n\t\t\t\tthis.sendSticker(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLOSE_STICKER_KEYBOARD\"]:\n\t\t\t\tthis.toggleStickerPicker();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tsendSticker = stickerMessage => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tconst customData = { sticker_url: stickerMessage.stickerUrl, sticker_name: stickerMessage.stickerName };\n\t\tconst customType = enums.CUSTOM_TYPE_STICKER;\n\n\t\tconst customMessage = new CometChat.CustomMessage(receiverId, receiverType, customType, customData);\n\t\tif (this.props.parentMessageId) {\n\t\t\tcustomMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\tcustomMessage.setSender(this.loggedInUser);\n\t\tcustomMessage.setReceiver(this.context.type);\n\t\tcustomMessage.setMetadata({ incrementUnreadCount: true });\n\t\tcustomMessage._composedAt = getUnixTimestamp();\n\t\tcustomMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [customMessage]);\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tCometChat.sendCustomMessage(customMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: customMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...customMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tsendReplyMessage = messageInput => {\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageInput, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\ttextMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\ttextMessage.setSender(this.loggedInUser);\n\t\ttextMessage.setReceiver(this.context.type);\n\t\ttextMessage._composedAt = getUnixTimestamp();\n\t\ttextMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [textMessage]);\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\t\tthis.setState({ replyPreview: null });\n\n\t\tCometChat.sendMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: textMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...textMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tclearReplyPreview = () => {\n\t\tthis.setState({ replyPreview: null });\n\t};\n\n\tstartLiveReaction = event => {\n\t\t//if a live reaction is already in progress, return\n\t\tif (this.animationInProgress === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\t//fetch the interval from the constants\n\t\tconst liveReactionInterval = enums.CONSTANTS[\"LIVE_REACTION_INTERVAL\"];\n\n\t\t//mount the live reaction component\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"SEND_LIVE_REACTION\"]);\n\t\tthis.sendTransientMessage();\n\n\t\t//set the timer to stop the live reaction\n\t\tthis.timeout = setTimeout(this.stopLiveReaction, liveReactionInterval);\n\t};\n\n\tstopLiveReaction = () => {\n\t\t\n\t\t//unmount the live reaction component\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"STOP_LIVE_REACTION\"]);\n\n\t\t//set the animation flag to false\n\t\tthis.animationInProgress = false;\n\t};\n\t\n\t\n\tsendTransientMessage = () => {\n\t\t//fetching the metadata type from constants\n\t\tconst metadata = { type: enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"], reaction: this.props.reaction };\n\n\t\tconst receiverType = this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER ? CometChat.ACTION_TYPE.TYPE_USER : CometChat.ACTION_TYPE.TYPE_GROUP;\n\t\tconst receiverId = this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER ? this?.context?.item?.uid : this?.context?.item?.guid;\n\n\t\tlet transientMessage = new CometChat.TransientMessage(receiverId, receiverType, metadata);\n\t\tCometChat.sendTransientMessage(transientMessage);\n\t};\n\n\treactToMessages = emoji => {\n\n\t\t//close the emoji keyboard\n\t\tthis.toggleEmojiPicker();\n\n\t\t//message object data structure\n\t\tlet messageObject = { ...this.state.messageToReact };\n\t\tlet newMessageObject = {};\n\t\tlet reactionObject = {};\n\n\t\tconst userObject = {};\n\t\tif (this.loggedInUser.avatar && this.loggedInUser.avatar.length) {\n\t\t\tuserObject[\"name\"] = this.loggedInUser.name;\n\t\t\tuserObject[\"avatar\"] = this.loggedInUser.avatar;\n\t\t} else {\n\t\t\tuserObject[\"name\"] = this.loggedInUser.name;\n\t\t}\n\n\t\tconst emojiObject = {\n\t\t\t[emoji.colons]: { [this.loggedInUser.uid]: userObject },\n\t\t};\n\n\t\tconst reactionExtensionsData = checkMessageForExtensionsData(messageObject, \"reactions\");\n\t\t//if the message object has reactions extension data in metadata\n\t\tif (reactionExtensionsData) {\n\t\t\t//if the reactions metadata has the selected emoji/reaction\n\t\t\tif (reactionExtensionsData[emoji.colons]) {\n\t\t\t\t//if the reactions metadata has the selected emoji/reaction for the loggedin user\n\t\t\t\tif (reactionExtensionsData[emoji.colons][this.loggedInUser.uid]) {\n\t\t\t\t\treactionObject = {\n\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"],\n\t\t\t\t\t};\n\t\t\t\t\tdelete reactionObject[emoji.colons][this.loggedInUser.uid];\n\t\t\t\t} else {\n\t\t\t\t\treactionObject = {\n\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"],\n\t\t\t\t\t\t[emoji.colons]: {\n\t\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"][emoji.colons],\n\t\t\t\t\t\t\t[this.loggedInUser.uid]: userObject,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treactionObject = {\n\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"],\n\t\t\t\t\t...emojiObject,\n\t\t\t\t};\n\t\t\t}\n\t\t} else {\n\t\t\tif (messageObject.hasOwnProperty(\"metadata\") === false) {\n\t\t\t\tmessageObject[\"metadata\"] = {};\n\t\t\t}\n\n\t\t\tif (messageObject[\"metadata\"].hasOwnProperty(\"@injected\") === false) {\n\t\t\t\tmessageObject[\"metadata\"][\"@injected\"] = {};\n\t\t\t}\n\n\t\t\tif (messageObject[\"metadata\"][\"@injected\"].hasOwnProperty(\"extensions\") === false) {\n\t\t\t\tmessageObject[\"metadata\"][\"@injected\"][\"extensions\"] = {};\n\t\t\t}\n\n\t\t\tif (messageObject[\"metadata\"][\"@injected\"][\"extensions\"].hasOwnProperty(\"reactions\") === false) {\n\t\t\t\tmessageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"] = {};\n\t\t\t}\n\n\t\t\treactionObject = {\n\t\t\t\t...emojiObject,\n\t\t\t};\n\t\t}\n\n\t\tconst metadatObject = {\n\t\t\tmetadata: {\n\t\t\t\t...messageObject[\"metadata\"],\n\t\t\t\t\"@injected\": {\n\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"],\n\t\t\t\t\textensions: {\n\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"],\n\t\t\t\t\t\treactions: {\n\t\t\t\t\t\t\t...reactionObject,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\n\t\tnewMessageObject = {\n\t\t\t...messageObject,\n\t\t\tdata: {\n\t\t\t\t...messageObject,\n\t\t\t\t...metadatObject,\n\t\t\t},\n\t\t\t...metadatObject,\n\t\t};\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], newMessageObject);\n\n\t\tCometChat.callExtension(\"reactions\", \"POST\", \"v1/react\", {\n\t\t\tmsgId: this.state.messageToReact.id,\n\t\t\temoji: emoji.colons,\n\t\t})\n\t\t.then(response => {\n\t\t\t// Reaction failed\n\t\t\tif (!response || !response.success || response.success !== true) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t}\n\t\t})\n\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\trender() {\n\t\tlet liveReactionBtn = null;\n\t\tconst liveReactionText = Translator.translate(\"LIVE_REACTION\", this.context.language);\n\t\tif (enums.CONSTANTS[\"LIVE_REACTIONS\"].hasOwnProperty(this.props.reaction)) {\n\t\t\tconst reactionName = this.props.reaction;\n\t\t\tliveReactionBtn = (\n\t\t\t\t<div title={liveReactionText} css={reactionBtnStyle()} className=\"button__reactions\" onClick={this.startLiveReaction}>\n\t\t\t\t\t<img src={heartIcon} alt={reactionName} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet disabledState = false;\n\t\tif (this.context.item.blockedByMe) {\n\t\t\tdisabledState = true;\n\t\t}\n\n\t\tconst docText = Translator.translate(\"ATTACH_FILE\", this.context.language);\n\t\tlet docs = (\n\t\t\t<div\n\t\t\t\ttitle={docText}\n\t\t\t\tcss={fileItemStyle(docIcon, this.context)}\n\t\t\t\tclassName=\"filelist__item item__file\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.openFileDialogue(\"file\");\n\t\t\t\t}}>\n\t\t\t\t<i></i>\n\t\t\t\t<input onChange={this.onFileChange} type=\"file\" id=\"file\" ref={this.fileUploaderRef} />\n\t\t\t</div>\n\t\t);\n\n\t\tconst videoText = Translator.translate(\"ATTACH_VIDEO\", this.context.language);\n\t\tconst audioText = Translator.translate(\"ATTACH_AUDIO\", this.context.language);\n\t\tconst imageText = Translator.translate(\"ATTACH_IMAGE\", this.context.language);\n\t\tlet avp = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div\n\t\t\t\t\ttitle={videoText}\n\t\t\t\t\tcss={fileItemStyle(videoIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__video\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"video\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onVideoChange} accept=\"video/*\" type=\"file\" ref={this.videoUploaderRef} />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\ttitle={audioText}\n\t\t\t\t\tcss={fileItemStyle(audioIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__audio\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"audio\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onAudioChange} accept=\"audio/*\" type=\"file\" ref={this.audioUploaderRef} />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\ttitle={imageText}\n\t\t\t\t\tcss={fileItemStyle(imageIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__image\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"image\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onImageChange} accept=\"image/*\" type=\"file\" ref={this.imageUploaderRef} />\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tconst pollText = Translator.translate(\"CREATE_POLL\", this.context.language);\n\t\tlet createPollBtn = (\n\t\t\t<div title={pollText} css={fileItemStyle(pollIcon, this.context)} className=\"filelist__item item__poll\" onClick={this.toggleCreatePoll}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst collaborativeDocText = Translator.translate(\"COLLABORATE_USING_DOCUMENT\", this.context.language);\n\t\tlet collaborativeDocBtn = (\n\t\t\t<div title={collaborativeDocText} css={fileItemStyle(documentIcon, this.context)} className=\"filelist__item item__document\" onClick={this.toggleCollaborativeDocument}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst collaborativeBoardText = Translator.translate(\"COLLABORATE_USING_WHITEBOARD\", this.context.language);\n\t\tlet collaborativeBoardBtn = (\n\t\t\t<div title={collaborativeBoardText} css={fileItemStyle(whiteboardIcon, this.context)} className=\"filelist__item item__whiteboard\" onClick={this.toggleCollaborativeBoard}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst emojiText = Translator.translate(\"EMOJI\", this.context.language);\n\t\tlet emojiBtn = (\n\t\t\t<div\n\t\t\t\ttitle={emojiText}\n\t\t\t\tcss={emojiButtonStyle(insertEmoticon, this.context)}\n\t\t\t\tclassName=\"button__emoji\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.toggleEmojiPicker();\n\t\t\t\t\tthis.setState({ messageToReact: \"\" });\n\t\t\t\t}}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst StickerText = Translator.translate(\"STICKER\", this.context.language);\n\t\tlet stickerBtn = (\n\t\t\t<div title={StickerText} css={stickerBtnStyle(stickerIcon, this.context)} className=\"button__sticker\" onClick={this.toggleStickerPicker}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst sendMessageText = Translator.translate(\"SEND_MESSAGE\", this.context.language);\n\t\tlet sendBtn = (\n\t\t\t<div title={sendMessageText} css={sendButtonStyle(sendBlue, this.context)} className=\"button__send\" onClick={this.sendTextMessage}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t//if uploading photos, videos feature is disabled\n\t\tif (this.state.enablePhotosVideos === false) {\n\t\t\tavp = null;\n\t\t}\n\n\t\t//if files upload are disabled for chat widget in dashboard\n\t\tif (this.state.enableFiles === false) {\n\t\t\tdocs = null;\n\t\t}\n\n\t\t//if polls feature is disabled\n\t\tif (this.state.enablePolls === false || this.props.parentMessageId) {\n\t\t\tcreatePollBtn = null;\n\t\t}\n\n\t\t//if collaborative_document are disabled for chat widget in dashboard\n\t\tif (this.state.enableCollaborativeDocument === false || this.props.parentMessageId) {\n\t\t\tcollaborativeDocBtn = null;\n\t\t}\n\n\t\t//if collaborative_document are disabled for chat widget in dashboard\n\t\tif (this.state.enableCollaborativeWhiteboard === false || this.props.parentMessageId) {\n\t\t\tcollaborativeBoardBtn = null;\n\t\t}\n\n\t\t//if emojis are disabled for chat widget in dashboard\n\t\tif (this.state.enableEmojis === false) {\n\t\t\temojiBtn = null;\n\t\t}\n\n\t\t//if live reactions is disabled for chat widget in dashboard\n\t\tif (this.state.enableLiveReaction === false || this.state.messageInput.length || this.props.parentMessageId) {\n\t\t\tliveReactionBtn = null;\n\t\t}\n\n\t\t//if stickers is disabled for chat widget in dashboard\n\t\tif (this.state.enableStickers === false) {\n\t\t\tstickerBtn = null;\n\t\t}\n\n\t\tif (!this.state.messageInput.length) {\n\t\t\tsendBtn = null;\n\t\t}\n\n\t\tconst attachText = Translator.translate(\"ATTACH\", this.context.language);\n\t\tlet attach = (\n\t\t\t<div css={stickyAttachmentStyle()} className=\"input__sticky__attachment\">\n\t\t\t\t<div css={stickyAttachButtonStyle(roundedPlus, this.context)} className=\"attachment__icon\" onClick={this.toggleFilePicker} title={attachText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t\t<div css={filePickerStyle(this.state)} className=\"attachment__filepicker\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={fileListStyle()} className=\"filepicker__filelist\">\n\t\t\t\t\t\t{avp}\n\t\t\t\t\t\t{docs}\n\t\t\t\t\t\t{createPollBtn}\n\t\t\t\t\t\t{collaborativeDocBtn}\n\t\t\t\t\t\t{collaborativeBoardBtn}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tif (avp === null && docs === null && createPollBtn === null && collaborativeDocBtn === null && collaborativeBoardBtn === null) {\n\t\t\tattach = null;\n\t\t}\n\n\t\tlet createPoll = null;\n\t\tif (this.state.createPoll) {\n\t\t\tcreatePoll = <CometChatCreatePoll close={this.closeCreatePoll} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet editPreview = null;\n\t\tif (this.state.messageToBeEdited) {\n\t\t\tlet messageText = this.state.messageToBeEdited.text;\n\n\t\t\t//xss extensions data\n\t\t\tconst xssData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"xss-filter\");\n\t\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\t\tmessageText = xssData.sanitized_text;\n\t\t\t}\n\n\t\t\t//datamasking extensions data\n\t\t\tconst maskedData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"data-masking\");\n\t\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\t\tmessageText = maskedData.data.message_masked;\n\t\t\t}\n\n\t\t\t//profanity extensions data\n\t\t\tconst profaneData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"profanity-filter\");\n\t\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\t\tmessageText = profaneData.message_clean;\n\t\t\t}\n\n\t\t\teditPreview = (\n\t\t\t\t<div css={editPreviewContainerStyle(this.context, keyframes)}>\n\t\t\t\t\t<div css={previewHeadingStyle()}>\n\t\t\t\t\t\t<div css={previewTextStyle()}>{Translator.translate(\"EDIT_MESSAGE\", this.context.language)}</div>\n\t\t\t\t\t\t<span css={previewCloseStyle(closeIcon, this.context)} onClick={this.closeEditPreview}></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>{messageText}</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet smartReplyPreview = null;\n\t\tif (this.state.replyPreview) {\n\t\t\tconst message = this.state.replyPreview;\n\n\t\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\t\tconst options = [smartReplyData[\"reply_positive\"], smartReplyData[\"reply_neutral\"], smartReplyData[\"reply_negative\"]];\n\t\t\t\tsmartReplyPreview = <CometChatSmartReplyPreview options={options} clicked={this.sendReplyMessage} close={this.clearReplyPreview} />;\n\t\t\t}\n\t\t}\n\n\t\tlet stickerViewer = null;\n\t\tif (this.state.stickerViewer) {\n\t\t\tstickerViewer = <CometChatStickerKeyboard actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet emojiViewer = null;\n\t\tif (this.state.emojiViewer) {\n\t\t\temojiViewer = <CometChatEmojiKeyboard emojiClicked={this.emojiClicked} lang={this.context.language} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={chatComposerStyle(this.context)} className=\"chat__composer\">\n\t\t\t\t{editPreview}\n\t\t\t\t{smartReplyPreview}\n\t\t\t\t{stickerViewer}\n\t\t\t\t{emojiViewer}\n\t\t\t\t<div css={composerInputStyle()} className=\"composer__input\">\n\t\t\t\t\t<div tabIndex=\"-1\" css={inputInnerStyle(this.props, this.state, this.context)} className=\"input__inner\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={messageInputStyle(disabledState)}\n\t\t\t\t\t\t\tclassName=\"input__message-input\"\n\t\t\t\t\t\t\tcontentEditable=\"true\"\n\t\t\t\t\t\t\tplaceholder={Translator.translate(\"ENTER_YOUR_MESSAGE_HERE\", this.context.language)}\n\t\t\t\t\t\t\tdir={Translator.getDirection(this.context.language)}\n\t\t\t\t\t\t\tonInput={this.changeHandler}\n\t\t\t\t\t\t\tonBlur={event => this.endTyping(event)}\n\t\t\t\t\t\t\tonKeyDown={this.sendMessageOnEnter}\n\t\t\t\t\t\t\tref={this.messageInputRef}></div>\n\t\t\t\t\t\t<div css={inputStickyStyle(disabledState, attach, this.context)} className=\"input__sticky\">\n\t\t\t\t\t\t\t{attach}\n\t\t\t\t\t\t\t<div css={stickyButtonStyle(this.state)} className=\"input__sticky__buttons\">\n\t\t\t\t\t\t\t\t{stickerBtn}\n\t\t\t\t\t\t\t\t{emojiBtn}\n\t\t\t\t\t\t\t\t{sendBtn}\n\t\t\t\t\t\t\t\t{liveReactionBtn}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{createPoll}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageComposer.defaultProps = {\n  theme: theme,\n  reaction: \"heart\"\n};\n\nCometChatMessageComposer.propTypes = {\n  theme: PropTypes.object,\n  reaction: PropTypes.string\n}\n\nexport { CometChatMessageComposer };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg==\"","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class MessageHeaderManager {\n\n    userListenerId = \"head_user_\" + new Date().getTime();\n    msgListenerId = \"head_message_\" + new Date().getTime();\n    groupListenerId = \"head_group_\" + new Date().getTime();\n\n    attachListeners(callback) {\n        \n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, offlineUser);\n                }\n            })\n        );\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onTypingStarted: typingIndicator => {\n                    callback(enums.TYPING_STARTED, typingIndicator);\n                },\n                onTypingEnded: typingIndicator => {\n                    callback(enums.TYPING_ENDED, typingIndicator);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, kickedFrom, kickedUser);\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, bannedFrom, bannedUser);\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, userAddedIn);\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, group, leavingUser);\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, joinedGroup);\n                }\n            })\n        );\n\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeMessageListener(this.msgListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const chatHeaderStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\twidth: \"100%\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t};\n};\n\nexport const chatDetailStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        width: \"calc(100% - 116px)\",\n    }\n}\n\nexport const chatSideBarBtnStyle = (img, props, context) => {\n\n    const displayValue = (props.hasOwnProperty(\"sidebar\") && props.sidebar === 0) ? { display: \"none!important\"} : {};\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        cursor: \"pointer\",\n        display: \"none\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        width: \"24px\",\n        height: \"24px\",\n        float: \"left\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tdisplay: \"block\"\n\t\t},\n        ...displayValue\n    }\n}\n\nexport const chatThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n        margin: \"0 16px\",\n    }\n}\n\nexport const chatUserStyle = context => {\n\n    const mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t\tpadding: \"0\",\n\t\tflexGrow: \"1\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\twidth: \"calc(100% - 80px)!important\",\n\t\t},\n\t};\n};\n\nexport const chatNameStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        lineHeight: \"22px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        color: `${context.theme.primary}`,\n    }\n}\n\nexport const chatStatusStyle = (state, context) => {\n\n    let status = {};\n    if (context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\n        status = {\n            color: `${context.theme.color.blue}`,\n            textTransform: \"capitalize\",\n        };\n\n        if (state.presence === \"offline\") {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                textTransform: \"capitalize\",\n            }\n        } \n\n        if (state.typing) {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                textTransform: \"none\",\n                fontStyle: \"italic\",\n            };\n        }\n        \n    } else if (context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\n        status = {\n            color: `${context.theme.color.helpText}`,\n        }\n\n        if (state.typing) {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                fontStyle: \"italic\",\n            };\n        }\n    }\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        ...status\n    }\n}\n\nexport const chatOptionWrapStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        width: \"auto\",\n    }\n}\n\nexport const chatOptionStyle = (img, context, ongoingCall) => {\n\n    const bgColor = (ongoingCall) ? {\n        backgroundColor: `${context.theme.secondaryTextColor}`\n    } : {\n        backgroundColor: `${context.theme.primaryColor}`\n    };\n    \n    return {\n        width: \"24px\",\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            ...bgColor\n        }\n    }\n}\n","export default __webpack_public_path__ + \"static/media/menu.0c8d2d60.svg\";","export default __webpack_public_path__ + \"static/media/audio-call.05d2b303.svg\";","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","export default __webpack_public_path__ + \"static/media/info.aadd7d93.svg\";","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { MessageHeaderManager } from \"./controller\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n  chatHeaderStyle, \n  chatDetailStyle, \n  chatSideBarBtnStyle, \n  chatThumbnailStyle,\n  chatUserStyle,\n  chatNameStyle,\n  chatStatusStyle,\n  chatOptionWrapStyle,\n  chatOptionStyle\n} from \"./style\";\n\nimport menuIcon from \"./resources/menu.svg\";\nimport audioCallIcon from \"./resources/audio-call.svg\";\nimport videoCallIcon from \"./resources/video-call.svg\";\nimport detailPaneIcon from \"./resources/info.svg\";\n\nclass CometChatMessageHeader extends React.Component {\n\titem;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tstatus: \"\",\n\t\t\tpresence: \"offline\",\n\t\t\ttyping: null,\n\t\t\tenableGroupVoiceCall: false,\n\t\t\tenableGroupVideoCall: false,\n\t\t\tenableOneOnOneVoiceCall: false,\n\t\t\tenableOneOnOneVideoCall: false,\n\t\t\tenableUserPresence: false,\n\t\t\tenableAddGroupMembers: false,\n\t\t\tenableChangeScope: false,\n\t\t\tenableKickGroupMembers: false,\n\t\t\tenableBanGroupMembers: false,\n\t\t\tenableDeleteGroup: false,\n\t\t\tenableViewGroupMembers: false,\n\t\t\tenableLeaveGroup: false,\n\t\t\tenableSharedMedia: false,\n\t\t\tenableBlockUser: false,\n\t\t\tenableTypingIndicator: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\n\t\tthis.MessageHeaderManager = new MessageHeaderManager();\n\t\tthis.MessageHeaderManager.attachListeners(this.updateHeader);\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tthis.setStatusForUser();\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\tthis.setStatusForGroup();\n\t\t}\n\n\t\tthis.item = this.context.item;\n\n\t\tthis.enableGroupVoiceCall();\n\t\tthis.enableGroupVideoCall();\n\t\tthis.enableOneOnOneVoiceCall();\n\t\tthis.enableOneOnOneVideoCall();\n\t\tthis.enableUserPresence();\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableTypingIndicator();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && (this.item !== this.context.item || prevProps.lang !== this.props.lang)) {\n\t\t\tthis.setStatusForUser();\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && (this.item !== this.context.item || prevProps.lang !== this.props.lang)) {\n\t\t\tthis.setStatusForGroup();\n\t\t}\n\n\t\tthis.item = this.context.item;\n\n\t\tthis.enableGroupVoiceCall();\n\t\tthis.enableGroupVideoCall();\n\t\tthis.enableOneOnOneVoiceCall();\n\t\tthis.enableOneOnOneVideoCall();\n\t\tthis.enableUserPresence();\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableTypingIndicator();\n\t}\n\n\tsetStatusForUser = () => {\n\t\tlet status = \"\";\n\t\tconst presence = this.context.item.status === CometChat.USER_STATUS.ONLINE ? CometChat.USER_STATUS.ONLINE : CometChat.USER_STATUS.OFFLINE;\n\n\t\tif (this.context.item.status === CometChat.USER_STATUS.OFFLINE && this.context.item.lastActiveAt) {\n\t\t\tconst lastActive = this.context.item.lastActiveAt * 1000;\n\t\t\tconst messageDate = dateFormat(lastActive, \"dS mmm yyyy, h:MM TT\");\n\n\t\t\tstatus = `${Translator.translate(\"LAST_ACTIVE_AT\", this.props.lang)}: ${messageDate}`;\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\tstatus = Translator.translate(\"OFFLINE\", this.props.lang);\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\tstatus = Translator.translate(\"ONLINE\", this.props.lang);\n\t\t}\n\t\t\n\t\tthis.setState({status: status, presence: presence});\n\t};\n\n\tsetStatusForGroup = () => {\n\t\tlet membersText = Translator.translate(\"MEMBERS\", this.props.lang);\n\t\tconst status = `${this.context.item.membersCount} ${membersText}`;\n\t\tthis.setState({status: status});\n\t};\n\n\tcomponentWillUnmount() {\n\t\tthis.MessageHeaderManager.removeListeners();\n\t\tthis.MessageHeaderManager = null;\n\t}\n\n\tupdateHeader = (key, item, groupUser) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE: {\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.item.uid === item.uid) {\n\t\t\t\t\t\n\t\t\t\t\t//if user presence feature is disabled\n\t\t\t\t\tif (this.state.enableUserPresence === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet status = \"\";\n\t\t\t\t\tif (item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"OFFLINE\", this.context.language);\n\t\t\t\t\t} else if (item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"ONLINE\", this.context.language);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({status: status, presence: item.status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid && this.loggedInUser?.uid !== groupUser?.uid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.TYPING_STARTED:\n\t\t\t\tthis.onTypingStarted(item);\n\t\t\t\tbreak;\n\t\t\tcase enums.TYPING_ENDED: \n\t\t\t\tthis.onTypingEnded(item);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonTypingStarted = item => {\n\n\t\tconst showTyping = typingText => {\n\t\t\t\n\t\t\t/**\n\t\t\t * if metadata is available, show live reactions else show typing\n\t\t\t */\n\t\t\t// if (item.hasOwnProperty(\"metadata\") && item.metadata && item.metadata.hasOwnProperty(\"type\") && item.metadata.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\t\t\t// \tthis.props.actionGenerated(enums.ACTIONS[\"SHOW_LIVE_REACTION\"], item);\n\t\t\t// } else {\n\n\t\t\t\tif (this.state.enableTypingIndicator === true) {\n\t\t\t\t\tthis.setState({typing: typingText});\n\t\t\t\t} \n\t\t\t//}\n\t\t};\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.type === item.receiverType && this.context.item.guid === item.receiverId) {\n\t\t\tconst typingText = `${item.sender.name} ${Translator.translate(\"IS_TYPING\", this.context.language)}`;\n\t\t\tshowTyping(typingText);\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.type === item.receiverType && this.context.item.uid === item.sender.uid) {\n\t\t\tconst typingText = `${Translator.translate(\"TYPING\", this.context.language)}`;\n\t\t\tshowTyping(typingText);\n\t\t}\n\t};\n\n\tonTypingEnded = item => {\n\n\t\tconst endTyping = () => {\n\t\t\t/**\n\t\t\t * if metadata is available, end live reactions else end typing\n\t\t\t */\n\t\t\t// if (item.hasOwnProperty(\"metadata\") && item.metadata && item.metadata.hasOwnProperty(\"type\") && item.metadata.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\t\t\t// \tthis.props.actionGenerated(enums.ACTIONS[\"STOP_LIVE_REACTION\"], item);\n\t\t\t// } else {\n\n\t\t\t\tif (this.state.enableTypingIndicator === true) {\n\t\t\t\t\tthis.setState({typing: null});\n\t\t\t\t} \n\t\t\t//}\n\t\t}\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.type === item.receiverType && this.context.item.guid === item.receiverId) {\n\t\t\t\n\t\t\tthis.setStatusForGroup();\n\t\t\tendTyping();\n\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.type === item.receiverType && this.context.item.uid === item.sender.uid) {\n\n\t\t\tif (this.state.presence === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\tthis.setState({status: Translator.translate(\"ONLINE\", this.context.language), presence: CometChat.USER_STATUS.ONLINE});\n\t\t\t} else {\n\t\t\t\tthis.setStatusForUser();\n\t\t\t}\n\n\t\t\tendTyping();\n\t\t}\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tresetChat = () => {\n\t\tthis.context.setItem({});\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\t/**\n\t * if typing indicator feature is disabled\n\t */\n\tenableTypingIndicator = () => {\n\t\tthis.context.FeatureRestriction.isTypingIndicatorsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableTypingIndicator) {\n\t\t\t\t\tthis.setState({enableTypingIndicator: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableTypingIndicator !== false) {\n\t\t\t\t\tthis.setState({enableTypingIndicator: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableGroupVoiceCall = () => {};\n\n\tenableGroupVideoCall = () => {\n\t\tthis.context.FeatureRestriction.isGroupVideoCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableGroupVideoCall) {\n\t\t\t\t\tthis.setState({enableGroupVideoCall: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableGroupVideoCall !== false) {\n\t\t\t\t\tthis.setState({enableGroupVideoCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableOneOnOneVoiceCall = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneAudioCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tconst combinedResponse = response && !this.context.item.blockedByMe;\n\t\t\t\tif (combinedResponse !== this.state.enableOneOnOneVoiceCall) {\n\t\t\t\t\tthis.setState({enableOneOnOneVoiceCall: combinedResponse});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableOneOnOneVoiceCall !== false) {\n\t\t\t\t\tthis.setState({enableOneOnOneVoiceCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableOneOnOneVideoCall = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneVideoCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tconst combinedResponse = response && !this.context.item.blockedByMe;\n\t\t\t\tif (combinedResponse !== this.state.enableOneOnOneVideoCall) {\n\t\t\t\t\tthis.setState({enableOneOnOneVideoCall: combinedResponse});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableOneOnOneVideoCall !== false) {\n\t\t\t\t\tthis.setState({enableOneOnOneVideoCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableUserPresence = () => {\n\t\tthis.context.FeatureRestriction.isUserPresenceEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableUserPresence) {\n\t\t\t\t\tthis.setState({enableUserPresence: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUserPresence !== false) {\n\t\t\t\t\tthis.setState({enableUserPresence: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableAddGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isAddingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableAddGroupMembers) {\n\t\t\t\t\tthis.setState({enableAddGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableAddGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableAddGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableChangeScope = () => {\n\t\tthis.context.FeatureRestriction.isChangingGroupMemberScopeEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableChangeScope) {\n\t\t\t\t\tthis.setState({enableChangeScope: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableChangeScope !== false) {\n\t\t\t\t\tthis.setState({enableChangeScope: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableKickGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isKickingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableKickGroupMembers) {\n\t\t\t\t\tthis.setState({enableKickGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableKickGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableKickGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBanGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isBanningGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBanGroupMembers) {\n\t\t\t\t\tthis.setState({enableBanGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBanGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableBanGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableDeleteGroup = () => {\n\t\tthis.context.FeatureRestriction.isGroupDeletionEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableDeleteGroup) {\n\t\t\t\t\tthis.setState({enableDeleteGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableDeleteGroup !== false) {\n\t\t\t\t\tthis.setState({enableDeleteGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isViewingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableViewGroupMembers) {\n\t\t\t\t\tthis.setState({enableViewGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableViewGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableLeaveGroup = () => {\n\t\tthis.context.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableLeaveGroup) {\n\t\t\t\t\tthis.setState({enableLeaveGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLeaveGroup !== false) {\n\t\t\t\t\tthis.setState({enableLeaveGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia) {\n\t\t\t\t\tthis.setState({enableSharedMedia: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false) {\n\t\t\t\t\tthis.setState({enableSharedMedia: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser) {\n\t\t\t\t\tthis.setState({enableBlockUser: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false) {\n\t\t\t\t\tthis.setState({enableBlockUser: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tinitiateAudioCall = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"INITIATE_AUDIO_CALL\"]);\n\t}\n\n\tinitiateVideoCall = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"INITIATE_VIDEO_CALL\"]);\n\t}\n\n\tviewDetail = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_DETAIL\"]);\n\t}\n\n\trender() {\n\n\t\tlet avatar, presence;\n\t\tlet videoCallClassName = \"option__videocall-user\";\n\t\tlet audioCallClassName = \"option__audiocall-user\";\n\t\tlet viewDetailClassName = \"option__viewdetail-user\";\n\t\tlet chatWithClassName = \"chat__user\";\n\t\tlet chatNameClassName = \"user__name\";\n\t\tlet chatStatusClassName = \"user__status\";\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tavatar = <CometChatAvatar user={this.context.item} />;\n\t\t\tpresence = <CometChatUserPresence status={this.state.presence} borderColor={this.props.theme.borderColor.primary} />;\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\tchatWithClassName = \"chat__group\";\n\t\t\tchatNameClassName = \"group__name\";\n\t\t\tchatStatusClassName = \"group__members\";\n\t\t\tvideoCallClassName = \"option__videocall-group\";\n\t\t\taudioCallClassName = \"option__audiocall-group\";\n\t\t\tviewDetailClassName = \"option__viewdetail-group\";\n\t\t\tavatar = <CometChatAvatar group={this.context.item} />;\n\t\t}\n\n\t\tlet typing = null;\n\t\tif(this.state.typing) {\n\t\t\ttyping = (\n\t\t\t\t<span css={chatStatusStyle(this.state, this.context)} className={chatStatusClassName}>\n\t\t\t\t\t{this.state.typing}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\tlet status = (\n\t\t\t<span css={chatStatusStyle(this.state, this.context)} className={chatStatusClassName}>\n\t\t\t\t{this.state.status}\n\t\t\t</span>\n\t\t);\n\n\t\tconst audioCallText = Translator.translate(\"AUDIO_CALL\", this.context.language);\n\t\tlet audioCallBtn = (\n\t\t\t<div className={audioCallClassName} css={chatOptionStyle(audioCallIcon, this.context, 0)} title={audioCallText} onClick={this.initiateAudioCall}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tif (this.context.checkIfCallIsOngoing()) {\n\t\t\tconst audioCallText = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\t\t\taudioCallBtn = (\n\t\t\t\t<div className={audioCallClassName} css={chatOptionStyle(audioCallIcon, this.context, 1)} title={audioCallText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst videoCallText = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\tlet videoCallBtn = (\n\t\t\t<div className={videoCallClassName} css={chatOptionStyle(videoCallIcon, this.context, 0)} title={videoCallText} onClick={this.initiateVideoCall}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tif (this.context.checkIfCallIsOngoing()) {\n\t\t\tconst videoCallText = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\t\t\tvideoCallBtn = (\n\t\t\t\t<div className={videoCallClassName} css={chatOptionStyle(videoCallIcon, this.context, 1)} title={videoCallText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst viewDetailText = Translator.translate(\"VIEW_DETAIL\", this.context.language);\n\t\tlet viewDetailBtn = (\n\t\t\t<div className={viewDetailClassName} css={chatOptionStyle(detailPaneIcon, this.context, 0)} title={viewDetailText} onClick={this.viewDetail}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t/**\n\t\t * If the chat window open is of users and block user and shared media feature is disabled, hide view detail button\n\t\t */\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tif (this.state.enableBlockUser === false && this.state.enableSharedMedia === false) {\n\t\t\t\tviewDetailBtn = null;\n\t\t\t}\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\t/**\n\t\t\t * If the chat window open is of group\n\t\t\t */\n\t\t\tif (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is participant, leave group, view group members, and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (this.state.enableLeaveGroup === false && this.state.enableSharedMedia === false && this.state.enableViewGroupMembers === false) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t} else if (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is moderator, leave group, view group members, kick & ban group members, changing scope of group members and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (this.state.enableLeaveGroup === false && this.state.enableSharedMedia === false && this.state.enableViewGroupMembers === false && this.state.enableKickGroupMembers === false && this.state.enableBanGroupMembers === false && this.state.enableChangeScope === false) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t} else if (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is admin, add group members, view group members, kick & ban group members, changing scope of group members, leave and delete group and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (\n\t\t\t\t\tthis.state.enableLeaveGroup === false &&\n\t\t\t\t\tthis.state.enableSharedMedia === false &&\n\t\t\t\t\tthis.state.enableViewGroupMembers === false &&\n\t\t\t\t\tthis.state.enableKickGroupMembers === false &&\n\t\t\t\t\tthis.state.enableBanGroupMembers === false &&\n\t\t\t\t\tthis.state.enableChangeScope === false &&\n\t\t\t\t\tthis.state.enableDeleteGroup === false &&\n\t\t\t\t\tthis.state.enableAddGroupMembers === false\n\t\t\t\t) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//if audiocall feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableOneOnOneVoiceCall === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableGroupVoiceCall === false)) {\n\t\t\taudioCallBtn = null;\n\t\t}\n\n\t\t//if videocall feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableOneOnOneVideoCall === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableGroupVideoCall === false)) {\n\t\t\tvideoCallBtn = null;\n\t\t}\n\n\t\t//if user presence is disabled in chat widget\n\t\tif (this.state.enableUserPresence === false && this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tstatus = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={chatHeaderStyle(this.context)} className=\"chat__header\">\n\t\t\t\t<div css={chatDetailStyle()} className=\"chat__details\">\n\t\t\t\t\t<div css={chatSideBarBtnStyle(menuIcon, this.props, this.context)} className=\"chat__sidebar-menu\" onClick={this.resetChat}></div>\n\t\t\t\t\t<div css={chatThumbnailStyle()} className=\"chat__thumbnail\">\n\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t{presence}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={chatUserStyle(this.context)} className={chatWithClassName}>\n\t\t\t\t\t\t<h6 css={chatNameStyle(this.context)} className={chatNameClassName} onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.context.item.name}\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t{typing ? typing : status}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div css={chatOptionWrapStyle()} className=\"chat__options\">\n\t\t\t\t\t{videoCallBtn}\n\t\t\t\t\t{audioCallBtn}\n\t\t\t\t\t{viewDetailBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageHeader.defaultProps = {\n  theme: theme,\n  item: {},\n  type: \"\"\n};\n\nCometChatMessageHeader.propTypes = {\n  theme: PropTypes.object,\n  item: PropTypes.object,\n  type: PropTypes.string\n}\n\nexport { CometChatMessageHeader };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums\";\n\nclass MessageFilter {\n\n\tcategories = {};\n\ttypes = null;\n\tcontext;\n\n\tconstructor(context) {\n\n        this.context = context;\n\n\t\tthis.categories = {\n\t\t\t[CometChat.CATEGORY_MESSAGE]: CometChat.CATEGORY_MESSAGE,\n\t\t\t[CometChat.CATEGORY_CUSTOM]: CometChat.CATEGORY_CUSTOM,\n\t\t\t[CometChat.CATEGORY_ACTION]: CometChat.CATEGORY_ACTION,\n\t\t\t[CometChat.CATEGORY_CALL]: CometChat.CATEGORY_CALL,\n\t\t};\n\n\t\tthis.types = {\n\t\t\t[CometChat.MESSAGE_TYPE.TEXT]: CometChat.MESSAGE_TYPE.TEXT,\n\t\t\t[CometChat.MESSAGE_TYPE.IMAGE]: CometChat.MESSAGE_TYPE.IMAGE,\n\t\t\t[CometChat.MESSAGE_TYPE.VIDEO]: CometChat.MESSAGE_TYPE.VIDEO,\n\t\t\t[CometChat.MESSAGE_TYPE.AUDIO]: CometChat.MESSAGE_TYPE.AUDIO,\n\t\t\t[CometChat.MESSAGE_TYPE.FILE]: CometChat.MESSAGE_TYPE.FILE,\n\t\t\t[enums.CUSTOM_TYPE_POLL]: enums.CUSTOM_TYPE_POLL,\n\t\t\t[enums.CUSTOM_TYPE_STICKER]: enums.CUSTOM_TYPE_STICKER,\n\t\t\t[enums.CUSTOM_TYPE_DOCUMENT]: enums.CUSTOM_TYPE_DOCUMENT,\n\t\t\t[enums.CUSTOM_TYPE_WHITEBOARD]: enums.CUSTOM_TYPE_WHITEBOARD,\n\t\t\t[enums.CUSTOM_TYPE_MEETING]: enums.CUSTOM_TYPE_MEETING,\n\t\t\t[CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER]: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t[CometChat.CALL_TYPE.AUDIO]: CometChat.CALL_TYPE.AUDIO,\n\t\t\t[CometChat.CALL_TYPE.VIDEO]: CometChat.CALL_TYPE.VIDEO,\n\t\t};\n\t}\n\n\tgetCategories = () => {\n\n\t\tconst categories = {...this.categories};\n\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response === false) {\n\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_ACTION];\n\t\t\t\t\t}\n\t\t\t\t\treturn categories;\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tdelete categories[CometChat.CATEGORY_ACTION];\n\t\t\t\t\treturn categories;\n\t\t\t\t})\n\t\t\t\t.then(categories => {\n\t\t\t\t\tthis.context.FeatureRestriction.isCallActionMessagesEnabled()\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tif (response === false) {\n\t\t\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_CALL];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresolve(categories);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_CALL];\n\t\t\t\t\t\t\tresolve(categories);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t});\n\t};\n\n\tgetTypes = () => {\n\n        const types = {...this.types};\n        return new Promise(resolve => resolve(types));\n\t};\n}\n\nexport default MessageFilter;","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport MessageFilter from \"./MessageFilter\";\n\nexport class MessageListManager {\n\n    item = {};\n    type = \"\";\n    parentMessageId = null;\n    messageRequest = null;\n    limit = 30;\n    \n    msgListenerId = \"message_\" + new Date().getTime();\n    groupListenerId = \"group_\" + new Date().getTime();\n    callListenerId = \"call_\" + new Date().getTime(); \n\n    constructor(context, item, type, parentMessageId) {\n\n        this.item = item;\n        this.type = type;\n        this.parentMessageId = parentMessageId;\n        this.context = context;\n    }\n\n    initializeMessageRequest = () => {\n\n        return new Promise(resolve => {\n\n            let categories = {};\n            let types = {};\n\n            let messageFilterManager = new MessageFilter(this.context);\n\n            messageFilterManager\n                .getCategories()\n                .then(categoryList => categories = Object.keys(categoryList))\n                .then(() => messageFilterManager.getTypes())\n                .then(typeList => types = Object.keys(typeList))\n                .then(() => this.context.FeatureRestriction.isHideDeletedMessagesEnabled())\n                .then(hideDeletedMessages => {\n                    if (this.type === CometChat.ACTION_TYPE.TYPE_USER) {\n                        if (this.parentMessageId) {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setUID(this.item.uid).setParentMessageId(this.parentMessageId).setCategories(categories).setTypes(types).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        } else {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setUID(this.item.uid).setCategories(categories).setTypes(types).hideReplies(true).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        }\n                        resolve(this.messageRequest);\n                    } else if (this.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n                        if (this.parentMessageId) {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setGUID(this.item.guid).setParentMessageId(this.parentMessageId).setCategories(categories).setTypes(types).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        } else {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setGUID(this.item.guid).setCategories(categories).setTypes(types).hideReplies(true).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        }\n                        resolve(this.messageRequest);\n                    }\n                });\n\n        });\n    }\n\n    fetchPreviousMessages() {\n        return this.messageRequest.fetchPrevious();\n    }\n\n    attachListeners(callback) {\n        \n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onTextMessageReceived: textMessage => {\n                    callback(enums.TEXT_MESSAGE_RECEIVED, textMessage);\n                },\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\n                },\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, customMessage);\n                },\n                onMessagesDelivered: messageReceipt => {\n                    callback(enums.MESSAGE_DELIVERED, messageReceipt);\n                },\n                onMessagesRead: messageReceipt => {\n                    callback(enums.MESSAGE_READ, messageReceipt);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\n                },\n                onMessageEdited: editedMessage => {\n                    callback(enums.MESSAGE_EDITED, editedMessage);\n                },\n                onTransientMessageReceived: transientMessage => {\n                    callback(enums.TRANSIENT_MESSAGE_RECEIVED, transientMessage);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n        \n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                  callback(enums.INCOMING_CALL_RECEIVED, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, call);\n                },\n                onOutgoingCallAccepted: call => {\n                    callback(enums.OUTGOING_CALL_ACCEPTED, call);\n                },\n                onOutgoingCallRejected: call => {\n                  callback(enums.OUTGOING_CALL_REJECTED, call);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeMessageListener(this.msgListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n        CometChat.removeCallListener(this.callListenerId);\n    }\n}","export const chatListStyle = context => {\n\n\treturn {\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\twidth: \"100%\",\n\t\tflex: \"1 1 0\",\n\t\torder: \"2\",\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const listWrapperStyle = () => {\n\n    return {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"scroll\",\n        position: \"absolute\",\n        top: \"0\",\n        transition: \"background .3s ease-out .1s\",\n        width: \"100%\",\n        zIndex: \"100\",\n        paddingTop: \"16px\"\n    }\n}\n\nexport const messageDateContainerStyle = () => {\n\n    return {\n        marginBottom: \"16px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"35px\",\n    }\n}\n\nexport const messageDateStyle = context => {\n\n\treturn {\n\t\tpadding: \"8px 12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tborderRadius: \"10px\",\n\t};\n};\n\nexport const decoratorMessageStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const decoratorMessageTxtStyle = context => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"36px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t};\n};","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { MessageListManager } from \"./controller\";\n\nimport { \n  CometChatSenderTextMessageBubble, CometChatReceiverTextMessageBubble,\n  CometChatSenderImageMessageBubble, CometChatReceiverImageMessageBubble,\n  CometChatSenderFileMessageBubble, CometChatReceiverFileMessageBubble,\n  CometChatSenderAudioMessageBubble, CometChatReceiverAudioMessageBubble,\n  CometChatSenderVideoMessageBubble, CometChatReceiverVideoMessageBubble,\n  CometChatSenderDirectCallBubble, CometChatReceiverDirectCallBubble,\n  CometChatDeleteMessageBubble, CometChatActionMessageBubble\n} from \"../\"\n\nimport {\n  CometChatSenderPollMessageBubble, CometChatReceiverPollMessageBubble,\n  CometChatSenderStickerBubble, CometChatReceiverStickerMessageBubble,\n  CometChatSenderDocumentBubble, CometChatReceiverDocumentBubble,\n  CometChatSenderWhiteboardBubble, CometChatReceiverWhiteboardBubble,\n} from \"../Extensions\"\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { getMessageDate } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n\tchatListStyle,\n\tlistWrapperStyle,\n\tmessageDateContainerStyle,\n\tmessageDateStyle,\n\tdecoratorMessageStyle,\n\tdecoratorMessageTxtStyle\n} from \"./style\";\n\nclass CometChatMessageList extends React.PureComponent {\n\tloggedInUser = null;\n\tlastScrollTop = 0;\n\ttimes = 0;\n\titem = {};\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.state = {\n\t\t\tonItemClick: null,\n\t\t\tloggedInUser: null,\n\t\t\tdecoratorMessage: \"LOADING\",\n\t\t};\n\n\t\tthis.messagesEnd = React.createRef();\t\n\t}\n\n\tcomponentDidMount() {\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tloggedInUser: user,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t\t\n\t\tif (Object.keys(this.context.item).length === 0 && this.context.type.trim().length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : {};\n\n\t\tif (this.props.parentMessageId) {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t} else {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t}\n\n\t\t\n\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]);\n\t\t\tthis.MessageListManager.attachListeners(this.messageUpdated);\n\t\t});\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tconst ifChatWindowChanged = () => {\n\t\t\tlet output = false;\n\n\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && (this.context.item.uid !== this.item.uid || this.context.item.blockedByMe !== this.item.blockedByMe)) {\n\t\t\t\toutput = true;\n\t\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid !== this.item.guid) {\n\t\t\t\toutput = true;\n\t\t\t} else if (prevProps.parentMessageId !== this.props.parentMessageId) {\n\t\t\t\toutput = true;\n\t\t\t}\n\t\t\treturn output;\n\t\t};\n\n\t\tif (ifChatWindowChanged() === true) {\n\t\t\tthis.messageCount = 0;\n\t\t\tthis.setState({ decoratorMessage: \"LOADING\" });\n\n\t\t\tthis.MessageListManager?.removeListeners();\n\n\t\t\tif (this.props.parentMessageId) {\n\t\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t\t} else {\n\t\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t\t}\n\n\t\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]);\n\t\t\t\tthis.MessageListManager?.attachListeners(this.messageUpdated);\n\t\t\t});\n\t\t}\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.messages);\n\t\tconst currentMessageStr = JSON.stringify(this.props.messages);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tif (this.props.scrollToBottom) {\n\t\t\t\tthis.scrollToBottom();\n\t\t\t} else {\n\t\t\t\tthis.scrollToBottom(this.lastScrollTop);\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : {};\n\t\tif (this.context.leftGroupId.trim().length) {\n\t\t\tthis.item = {};\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.MessageListManager?.removeListeners();\n\t\tthis.MessageListManager = null;\n\t}\n\n\tscrollToBottom = (scrollHeight = 0) => {\n\n\t\tif (this.messagesEnd) {\n\t\t\tthis.messagesEnd.scrollTop = this.messagesEnd.scrollHeight - scrollHeight;\n\t\t}\n\t};\n\n\tmessageHandler = (item, actionGenerated = enums.ACTIONS[\"MESSAGES_FETCHED\"]) => {\n\t\tthis.fetchMessages()\n\t\t\t.then(messageList => {\n\t\t\t\tif (messageList.length === 0) {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"NO_MESSAGES_FOUND\" });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t\t//updating messagecount variable\n\t\t\t\tthis.messageCount = messageList.length;\n\n\t\t\t\tmessageList.forEach(message => {\n\t\t\t\t\t//if the sender of the message is not the loggedin user\n\t\t\t\t\tif (message.getSender().getUid() !== this.state.loggedInUser?.uid) {\n\t\t\t\t\t\t//mark the message as delivered\n\t\t\t\t\t\tthis.markMessageAsDelivered(message);\n\n\t\t\t\t\t\t//mark the message as read\n\t\t\t\t\t\tif (message.hasOwnProperty(\"readAt\") === false) {\n\t\t\t\t\t\t\tCometChat.markAsRead(message);\n\t\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_READ\"], message);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.lastScrollTop = this.messagesEnd.scrollHeight;\n\n\t\t\t\t//abort(don't return messagelist), when the chat window changes\n\t\t\t\tif ((item.hasOwnProperty(\"uid\") && this.context.item.hasOwnProperty(\"uid\") && item.uid === this.context.item.uid) || (item.hasOwnProperty(\"guid\") && this.context.item.hasOwnProperty(\"guid\") && item.guid === this.context.item.guid)) {\n\t\t\t\t\tthis.props.actionGenerated(actionGenerated, messageList);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.props.messages.length === 0) {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"SOMETHING_WRONG\" });\n\t\t\t\t}\n\n\t\t\t\tif (error && error.hasOwnProperty(\"code\") && error.code === \"ERR_GUID_NOT_FOUND\") {\n\t\t\t\t\t//this.context.setDeletedGroupId(this.context.item.guid);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tfetchMessages = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis.MessageListManager.fetchPreviousMessages()\n\t\t\t\t.then(messageList => {\n\t\t\t\t\tresolve(messageList);\n\t\t\t\t})\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\t//callback for listener functions\n\tmessageUpdated = (key, message, group, options) => {\n\n\t\tswitch (key) \n\t\t{\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\t\tthis.onMessageDeleted(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\t\tthis.onMessageEdited(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_DELIVERED:\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\t\tthis.onMessageReadAndDelivered(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\t\tthis.onMessageReceived(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\t\tthis.onCustomMessageReceived(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.onGroupUpdated(key, message, group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED:\n\t\t\tcase enums.OUTGOING_CALL_REJECTED:\n\t\t\t\tthis.onCallUpdated(key, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.TRANSIENT_MESSAGE_RECEIVED:\n\t\t\t\tthis.onTransientMessageReceived(key, message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonMessageDeleted = message => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_DELETED\"], [message]);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_DELETED\"], [message]);\n\t\t}\n\t};\n\n\tonMessageEdited = message => {\n\t\tconst messageList = [...this.props.messages];\n\t\tconst updateEditedMessage = message => {\n\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\tif (messageKey > -1) {\n\t\t\t\tconst messageObj = messageList[messageKey];\n\t\t\t\tconst newMessageObj = Object.assign({}, messageObj, message);\n\n\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_EDITED\"], messageList, newMessageObj);\n\t\t\t}\n\t\t};\n\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tupdateEditedMessage(message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && this.state.loggedInUser?.uid === message.getReceiverId() && message.getSender().uid === this.context.item.uid) {\n\t\t\tupdateEditedMessage(message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && this.state.loggedInUser?.uid === message.getSender().uid && message.getReceiverId() === this.context.item.uid) {\n\t\t\tupdateEditedMessage(message);\n\t\t}\n\t};\n\n\tonMessageReadAndDelivered = message => {\n\n\t\t//read receipts\n\t\tif (message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().getUid() === this.context.item.uid && message.getReceiver() === this.state.loggedInUser?.uid) {\n\t\t\tlet messageList = [...this.props.messages];\n\n\t\t\tif (message.getReceiptType() === \"delivery\") {\n\t\t\t\t//search for message\n\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.messageId);\n\n\t\t\t\tif (messageKey > -1) {\n\t\t\t\t\tlet messageObj = messageList[messageKey];\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { deliveredAt: message.getDeliveredAt() });\n\n\t\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"], messageList);\n\t\t\t\t}\n\t\t\t} else if (message.getReceiptType() === \"read\") {\n\t\t\t\t//search for message\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.messageId);\n\n\t\t\t\tif (messageKey > -1) {\n\t\t\t\t\tlet messageObj = { ...messageList[messageKey] };\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { readAt: message.getReadAt() });\n\n\t\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"], messageList);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiver() === this.context.item.guid) {\n\t\t\t//not implemented\n\t\t}\n\t};\n\n\treInitializeMessageBuilder = () => {\n\t\tif (this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\tthis.messageCount = 0;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"REFRESHING_MESSAGES\"], []);\n\t\tthis.setState({ decoratorMessage: \"LOADING\" });\n\t\tthis.MessageListManager.removeListeners();\n\n\t\tif (this.props.parentMessageId) {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t} else {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t}\n\n\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_REFRESHED\"]);\n\t\t\tthis.MessageListManager.attachListeners(this.messageUpdated);\n\t\t});\n\t};\n\n\t//mark the message as delivered\n\tmarkMessageAsDelivered = message => {\n\n\t\tif (message.sender?.uid !== this.state.loggedInUser?.uid && message.hasOwnProperty(\"deliveredAt\") === false) {\n\t\t\tCometChat.markAsDelivered(message);\n\t\t}\n\t};\n\n\tmarkMessageAsRead = (message, type) => {\n\t\tif (message.hasOwnProperty(\"readAt\") === false) {\n\t\t\tCometChat.markAsRead(message);\n\t\t}\n\t};\n\n\tonMessageReceived = message => {\n\n\t\t//mark the message as delivered\n\t\tthis.markMessageAsDelivered(message);\n\n\t\t/**\n\t\t * message receiver is chat window group\n\t\t */\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.messageReceivedHandler(message, CometChat.RECEIVER_TYPE.GROUP);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t/**\n\t\t\t * If the message sender is chat window user and message receiver is logged-in user\n\t\t\t * OR\n\t\t\t * If the message sender is logged-in user and message receiver is chat window user\n\t\t\t */\n\t\t\tif ((message.getSender().uid === this.context.item.uid && message.getReceiverId() === this.state.loggedInUser?.uid) || (message.getSender().uid === this.state.loggedInUser?.uid && message.getReceiverId() === this.context.item.uid)) {\n\t\t\t\tthis.messageReceivedHandler(message, CometChat.RECEIVER_TYPE.USER);\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageReceivedHandler = (message, type) => {\n\t\t//handling dom lag - increment count only for main message list\n\t\tif (message.hasOwnProperty(\"parentMessageId\") === false && this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\t++this.messageCount;\n\t\t\t//if the user has not scrolled in chat window(scroll is at the bottom of the chat window)\n\t\t\tif (this.messagesEnd.scrollHeight - this.messagesEnd.scrollTop - this.messagesEnd.clientHeight <= 1) {\n\t\t\t\tif (this.messageCount > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\t\t\tthis.reInitializeMessageBuilder();\n\t\t\t\t} else {\n\t\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//if the user has scrolled up in chat window\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"NEW_MESSAGES\"], [message]);\n\t\t\t}\n\t\t} else if (message.hasOwnProperty(\"parentMessageId\") === true && this.props.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\tif (message.parentMessageId === this.props.parentMessageId) {\n\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t}\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t} else {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\t//polls, stickers, collaborative document, collaborative whiteboard\n\tonCustomMessageReceived = message => {\n\t\t//mark the message as delivered\n\t\tthis.markMessageAsDelivered(message);\n\n\t\t//new messages\n\t\tif (\n\t\t\tthis.context.type === CometChat.RECEIVER_TYPE.GROUP &&\n\t\t\tmessage.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP &&\n\t\t\tthis.state.loggedInUser?.uid === message.getSender().uid &&\n\t\t\tmessage.getReceiverId() === this.context.item.guid &&\n\t\t\t(message.type === enums.CUSTOM_TYPE_POLL || message.type === enums.CUSTOM_TYPE_DOCUMENT || message.type === enums.CUSTOM_TYPE_WHITEBOARD)\n\t\t) {\n\t\t\t//showing polls, collaborative document and whiteboard for sender (custom message received listener for sender)\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.customMessageReceivedHandler(message, CometChat.RECEIVER_TYPE.GROUP);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.customMessageReceivedHandler(message, CometChat.RECEIVER_TYPE.USER);\n\t\t} else if (\n\t\t\tthis.context.type === CometChat.RECEIVER_TYPE.USER &&\n\t\t\tmessage.getReceiverType() === CometChat.RECEIVER_TYPE.USER &&\n\t\t\tthis.state.loggedInUser?.uid === message.getSender().uid &&\n\t\t\tmessage.getReceiverId() === this.context.item.uid &&\n\t\t\t(message.type === enums.CUSTOM_TYPE_POLL || message.type === enums.CUSTOM_TYPE_DOCUMENT || message.type === enums.CUSTOM_TYPE_WHITEBOARD)\n\t\t) {\n\t\t\t//showing polls, collaborative document and whiteboard for sender (custom message received listener for sender)\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\tcustomMessageReceivedHandler = (message, type) => {\n\t\t//handling dom lag - increment count only for main message list\n\t\tif (message.hasOwnProperty(\"parentMessageId\") === false && this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\t++this.messageCount;\n\n\t\t\t//if the user has not scrolled in chat window(scroll is at the bottom of the chat window)\n\t\t\tif (this.messagesEnd.scrollHeight - this.messagesEnd.scrollTop - this.messagesEnd.clientHeight <= 1) {\n\t\t\t\tif (this.messageCount > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\t\t\tthis.reInitializeMessageBuilder();\n\t\t\t\t} else {\n\t\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//if the user has scrolled in chat window\n\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"NEW_MESSAGES\"], [message]);\n\t\t\t}\n\t\t} else if (message.hasOwnProperty(\"parentMessageId\") === true && this.props.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\tif (message.parentMessageId === this.props.parentMessageId) {\n\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t}\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t} else {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\tonCallUpdated = (key, message) => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t}\n\t};\n\n\tonTransientMessageReceived = (key, message) => {\n\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t}\n\t};\n\n\tonGroupUpdated = (key, message, group, options) => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message, null, group, options);\n\t\t}\n\t};\n\n\thandleScroll = e => {\n\n\t\tconst scrollTop = e.currentTarget.scrollTop;\n\t\tconst scrollHeight = e.currentTarget.scrollHeight;\n\t\tconst clientHeight = e.currentTarget.clientHeight;\n\n\t\tthis.lastScrollTop = scrollHeight - scrollTop;\n\n\t\tif (this.lastScrollTop === clientHeight) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLEAR_UNREAD_MESSAGES\"]);\n\t\t}\n\n\t\tconst top = Math.round(scrollTop) === 0;\n\t\tif (top && this.props.messages.length) {\n\t\t\tthis.messageHandler(this.context.item);\n\t\t}\n\t};\n\n\tgetSenderMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t\tcomponent = <CometChatSenderTextMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t\tcomponent = <CometChatSenderImageMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t\tcomponent = <CometChatSenderFileMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t\tcomponent = <CometChatSenderVideoMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t\tcomponent = <CometChatSenderAudioMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t\tcomponent = message.text ? <CometChatReceiverTextMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverImageMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t\tcomponent = message.data.attachments ? <CometChatReceiverFileMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverAudioMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverVideoMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn component;\n\t};\n\n\tgetSenderCustomMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t\tcomponent = <CometChatSenderPollMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t\tcomponent = <CometChatSenderStickerBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t\tcomponent = <CometChatSenderDocumentBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t\tcomponent = <CometChatSenderWhiteboardBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t\tcomponent = <CometChatSenderDirectCallBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverCustomMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\t\t\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t\tcomponent = <CometChatReceiverPollMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t\tcomponent = <CometChatReceiverStickerMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t\tcomponent = <CometChatReceiverDocumentBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t\tcomponent = <CometChatReceiverWhiteboardBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t\tcomponent = <CometChatReceiverDirectCallBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetActionMessageComponent = message => {\n\n\t\tconst messageKey = message._id ? message._id : message.id;\n\t\treturn <CometChatActionMessageBubble key={messageKey} message={message} />;\n\t};\n\n\tgetComponent = (message, key) => {\n\t\tlet component;\n\n\t\tswitch (message.category) {\n\t\t\tcase CometChat.CATEGORY_ACTION:\n\t\t\tcase CometChat.CATEGORY_CALL:\n\t\t\t\tcomponent = this.getActionMessageComponent(message);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\tif (this.state.loggedInUser?.uid === message.sender?.uid) {\n\t\t\t\t\tcomponent = this.getSenderMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\tif (this.state.loggedInUser?.uid === message.sender?.uid) {\n\t\t\t\t\tcomponent = this.getSenderCustomMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverCustomMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\trender() {\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0 && this.props.messages.length === 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={decoratorMessageStyle()} className=\"messages__decorator-message\">\n\t\t\t\t\t<p css={decoratorMessageTxtStyle(this.context)} className=\"decorator-message\">\n\t\t\t\t\t\t{Translator.translate(this.state.decoratorMessage, this.props.lang)}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet cDate = null;\n\t\tconst messages = this.props.messages.map((message, key) => {\n\t\t\tlet dateSeparator = null;\n\n\t\t\tconst dateField = message._composedAt || message.sentAt;\n\n\t\t\tconst messageDate = message.sentAt * 1000;\n\t\t\tconst messageSentDate = dateFormat(messageDate, \"dd/mm/yyyy\");\n\n\t\t\tif (cDate !== messageSentDate) {\n\t\t\t\tdateSeparator = (\n\t\t\t\t\t<div css={messageDateContainerStyle()} className=\"message__date\">\n\t\t\t\t\t\t<span css={messageDateStyle(this.context)}>{getMessageDate(dateField, this.context.language)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tcDate = messageSentDate;\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={key}>\n\t\t\t\t\t{dateSeparator}\n\t\t\t\t\t{this.getComponent(message, key)}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"chat__list\" css={chatListStyle(this.context)}>\n\t\t\t\t{messageContainer}\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"list__wrapper\"\n\t\t\t\t\tcss={listWrapperStyle()}\n\t\t\t\t\tref={el => {\n\t\t\t\t\t\tthis.messagesEnd = el;\n\t\t\t\t\t}}\n\t\t\t\t\tonScroll={this.handleScroll}>\n\t\t\t\t\t{messages}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageList.defaultProps = {\n  theme: theme\n};\n\nCometChatMessageList.propTypes = {\n  theme: PropTypes.object\n}\n\nexport { CometChatMessageList };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class SharedMediaManager {\n\n    mediaMessageListenerId = new Date().getTime();\n    mediaMessageRequest = null;\n\n    constructor(item, type, messagetype) {\n\n        if(type === \"user\") {\n\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\n            .setUID(item.uid)\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\n\n        } else {\n\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\n            .setGUID(item.guid)\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\n        }\n    }\n\n    fetchPreviousMessages() {\n        return this.mediaMessageRequest.fetchPrevious();\n    }\n    \n    attachListeners(callback) {\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.mediaMessageListenerId);\n    }\n\n}","export const sectionStyle = (props) => {\n\n    const containerHeightProp = (props.containerHeight) ? {\n        height: `calc(100% - ${props.containerHeight})`\n    } : {\n        height: \"calc(100% - 20px)\"\n    };\n\n    \n    return {\n        width: \"100%\",\n        ...containerHeightProp\n    }\n}\n\nexport const sectionHeaderStyle = (props) => {\n\n    return {\n        margin: \"0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        fontWeight: \"500!important\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.secondary}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const sectionContentStyle = () => {\n\n    return {\n        width: \"100%\",\n        margin: \"6px 0\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"calc(100% - 20px)\"\n    }\n}\n\nexport const mediaBtnStyle = () => {\n\n    return {\n        borderRadius: \"8px\",\n        backgroundColor: \"rgba(20, 20, 20, 0.08)\",\n        width: \"100%\",\n        padding: \"2px\",\n        margin: \"6px 0\",\n        clear: \"both\",\n    }\n}\n\nexport const buttonStyle = (state, type) => {\n\n    const activeBtn = (state.messagetype === type) ? {\n        backgroundColor : \"#fff\",\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 3px 1px, rgba(20, 20, 20, 0.12) 0 3px 8px\",\n        borderRadius: \"7px\",\n        \"&::before\": {\n            display: \"none\",\n        }\n    } : {};\n\n    return {\n        display: \"inline-block\",\n        width: \"33.33%\",\n        float: \"left\",\n        fontSize: \"13px\",\n        fontWeight: \"500\",\n        lineHeight: \"18px\",\n        padding: \"5px\",\n        position: \"relative\",\n        textAlign: \"center\",\n        cursor: \"pointer\",\n        ...activeBtn,\n        \"&:before\": {\n            \"`content`\": \"\",\n            position: \"absolute\",\n            display: \"block\",\n            width: \"2px\",\n            height: \"16px\",\n            backgroundColor: \"rgba(20, 20, 20, 0.12)\",\n            right: \"-2px\",\n            top: \"6px\",\n        },\n        \"&:last-of-type::before\": {\n            display: \"none\",\n        }\n    }\n}\n\nexport const mediaItemStyle = () => {\n\n    return {\n        height: \"calc(100% - 45px)\",\n        overflowY: \"auto\",\n        overflowX: \"hidden\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const itemStyle = (state, props, img, context) => {\n\n    let itemTypeStyle = {};\n    let bgColor = `${props.theme.backgroundColor.lightGrey}`;\n\n    if (state.messagetype === \"image\") {\n\n        itemTypeStyle = {\n            height: \"120px\",\n            width: \"120px\",\n            backgroundColor: bgColor,\n            \"> img\": {\n                display: \"block\",\n                width: \"100%\",\n                height: \"100%\",\n                objectFit: \"contain\",\n            }\n        }\n        \n    } else if (state.messagetype === \"video\") {\n\n        itemTypeStyle = {\n            \"> video\": {\n                height: \"120px\",\n                width: \"120px\",\n                margin: \"auto\",\n            }\n        }\n\n    } else if (state.messagetype === \"file\") {\n\n        itemTypeStyle = {\n            backgroundColor: bgColor,\n            \"> a\": {\n                maxWidth: \"100%\",\n                maxHeight: \"100%\",\n                margin: \"auto\",\n                display: \"flex\",\n                padding: \"8px\",\n                \"&:hover, &:visited\": {\n                    color: `${props.theme.secondaryTextColor}`,\n                },\n                \"> i\": {\n                    width: \"30px\",\n                    height: \"24px\",\n                    display: \"inline-block\",\n                    mask: `url(${img}) left center no-repeat`,\n\t\t            backgroundColor: `${context.theme.secondaryTextColor}`,\n                },\n                \"> span\": {\n                    fontSize: \"13px\",\n                    color: `${props.theme.secondaryTextColor}`,\n                    whiteSpace: \"pre-wrap\",\n                    wordWrap: \"break-word\",\n                    textAlign: \"left\",\n                    width: \"calc(100% - 30px)\"\n                }\n\n            }\n        }\n\n    }\n\n    return {\n        margin: \"0.5rem\",\n        textAlign: \"center\",\n        flex: \"1 0 auto\",\n        ...itemTypeStyle,\n        \"@for $i from 1 through 36\": {\n            \"&:nth-of-type(#{$i})\": {\n            maxWidth: \"100%\",\n            }\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { SharedMediaManager } from \"./controller\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    sectionStyle,\n    sectionHeaderStyle,\n    sectionContentStyle,\n    mediaBtnStyle,\n    buttonStyle,\n    mediaItemStyle,\n    itemStyle,\n\n} from \"./style\";\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatSharedMediaView extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n        super(props);\n        this._isMounted = false;\n        this.state = {\n            messagetype: \"image\",\n            messageList: []\n        }\n\n        this.messageContainer = React.createRef();\n\n        CometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n            console.error(error);\n        });\n    }\n\n    componentDidMount() {\n\n        this._isMounted = true;\n        this.SharedMediaManager = new SharedMediaManager(this.context.item, this.context.type, this.state.messagetype);\n        this.getMessages(true);\n        this.SharedMediaManager.attachListeners(this.messageUpdated);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n\n        if(prevState.messagetype !== this.state.messagetype) {\n\n            this.SharedMediaManager = null;\n            this.SharedMediaManager = new SharedMediaManager(this.context.item, this.context.type, this.state.messagetype);\n            this.getMessages(true);\n            this.SharedMediaManager.attachListeners(this.messageUpdated);\n        }\n    }\n\n    componentWillUnmount() {\n        this.SharedMediaManager.removeListeners();\n        this.SharedMediaManager = null;\n        this._isMounted = false;\n    }\n\n    //callback for listener functions\n    messageUpdated = (key, message) => {\n\n        switch(key) {\n\n            case enums.MESSAGE_DELETED:\n              this.messageDeleted(message);\n              break;\n            case enums.MEDIA_MESSAGE_RECEIVED:\n              this.messageReceived(message);\n              break;\n            default:\n              break;\n        }\n    }\n\n    messageDeleted = (deletedMessage) => {\n  \n        const messageType = deletedMessage.data.type;\n        if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP\n        && deletedMessage.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\n        && deletedMessage.getReceiver().guid === this.context.item.guid\n        && messageType === this.state.messagetype) {\n\n            const messageList = [...this.state.messageList];\n            const filteredMessages = messageList.filter(message => message.id !== deletedMessage.id);\n            this.setState({ messageList: filteredMessages, scrollToBottom: false });\n        }\n    }\n    \n    //message is received or composed & sent\n    messageReceived = (message) => {\n\n        const messageType = message.data.type;\n        if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP\n        && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\n        && message.getReceiver().guid === this.context.item.guid\n        && messageType === this.state.messagetype) {\n\n            let messages = [...this.state.messageList];\n            messages = messages.concat(message);\n            this.setState({ messageList: messages, scrollToBottom: true });\n        }\n    }\n\n    getMessages = (scrollToBottom = false) => {\n        \n        this.SharedMediaManager.fetchPreviousMessages().then(messages => {\n    \n            const messageList = [...messages, ...this.state.messageList];\n            if (this._isMounted) {\n\n                this.setState({messageList: messageList});\n                if(scrollToBottom) {\n                    this.scrollToBottom();\n                }\n            } \n    \n        }).catch(error => {\n\n            const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n            this.context.setToastMessage(\"error\", errorCode);\n        });\n    }\n\n    scrollToBottom = () => {\n      \n        if (this.messageContainer) {\n            this.messageContainer.scrollTop = this.messageContainer.scrollHeight;\n        }\n    }\n\n    handleScroll = (e) => {\n\n        const top = Math.round(e.currentTarget.scrollTop) === 0;\n        if (top && this.state.messageList.length) {\n            this.getMessages();\n        }\n    }\n\n    mediaClickHandler = (type) => {\n        this.setState({messagetype: type, messageList: []});\n    }\n\n    render() {\n\n        const template = (message, key) => {\n\n            if(this.state.messagetype === \"image\" && message.data.url) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__image\">\n                        <img src={message.data.url} alt={Translator.translate(\"SHARED_MEDIA\", this.props.lang)} />\n                    </div>\n                );\n\n            } else if (this.state.messagetype === \"video\" && message.data.url) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__video\">\n                        <video src={message.data.url} />\n                    </div>\n                );\n\n            } else if (this.state.messagetype === \"file\" && message.data.attachments) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__file\">\n                        <a href={message.data.attachments[0].url} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\">\n                            <i></i>\n                           <span>{message.data.attachments[0].name}</span>\n                        </a>\n                    </div>\n                );\n            }\n        }\n\n        const messages = [...this.state.messageList];\n        const messageList = messages.map((message, key) => {\n            return (template(message, key));\n        });\n\n        return (\n            <div css={sectionStyle(this.props)} className=\"section section__sharedmedia\">\n                <h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">{Translator.translate(\"SHARED_MEDIA\", this.props.lang)}</h6>\n                <div css={sectionContentStyle(this.props)} data-id=\"sharedmedia\" className=\"section__content\">\n                    <div css={mediaBtnStyle()} className=\"media__button\">\n                        <span css={buttonStyle(this.state, \"image\")} onClick={() => this.mediaClickHandler(\"image\")}>{Translator.translate(\"PHOTOS\", this.props.lang)}</span>\n                        <span css={buttonStyle(this.state, \"video\")} onClick={() => this.mediaClickHandler(\"video\")}>{Translator.translate(\"VIDEOS\", this.props.lang)}</span>\n                        <span css={buttonStyle(this.state, \"file\")} onClick={() => this.mediaClickHandler(\"file\")}>{Translator.translate(\"DOCS\", this.props.lang)}</span>\n                    </div>\n                    <div css={mediaItemStyle()} className=\"media_items\" \n                    ref={el => this.messageContainer = el}\n                    onScroll={this.handleScroll}>{(messageList.length) ? messageList : Translator.translate(\"NO_RECORDS_FOUND\", this.props.lang)}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatSharedMediaView.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatSharedMediaView.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatSharedMediaView };","import {CometChat} from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class UserDetailManager {\n\tuserListenerId = \"user_detail_\" + new Date().getTime();\n\n\tattachListeners(callback) {\n\t\tCometChat.addUserListener(\n\t\t\tthis.userListenerId,\n\t\t\tnew CometChat.UserListener({\n\t\t\t\tonUserOnline: onlineUser => {\n\t\t\t\t\t/* when someuser/friend comes online, user will be received here */\n\t\t\t\t\tcallback(enums.USER_ONLINE, onlineUser);\n\t\t\t\t},\n\t\t\t\tonUserOffline: offlineUser => {\n\t\t\t\t\t/* when someuser/friend went offline, user will be received here */\n\t\t\t\t\tcallback(enums.USER_OFFLINE, offlineUser);\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeUserListener(this.userListenerId);\n\t}\n}","import {CometChat} from \"@cometchat-pro/chat\";\nimport Translator from \"../../../resources/localization/translator\";\n\nexport const userDetailStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tposition: \"relative\",\n\t\tboxSizing: \"border-box\",\n\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t},\n\t};\n};\n\nexport const headerStyle = context => {\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\theight: \"69px\",\n\t};\n};\n\nexport const headerCloseStyle = (img, context) => {\n\t\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\t[`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\n\t\t\tdisplay: \"block\",\n\t\t},\n\t};\n};\n\nexport const headerTitleStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tfontWeight: \"700\",\n\t\tfontSize: \"20px\",\n\t};\n};\n\nexport const sectionStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tpadding: \"16px 16px 0 16px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const actionSectionStyle = context => {\n\treturn {\n\t\twidth: \"100%\",\n\t\t\"> div\": {\n\t\t\tfontWeight: \"600\",\n\t\t\tcursor: \"pointer\",\n\t\t\tfontSize: \"12px\",\n\t\t},\n\t\t\".item__link\": {\n\t\t\tcolor: `${context.theme.color.blue}`,\n\t\t},\n\t};\n};\n\nexport const privacySectionStyle = context => {\n\treturn {\n\t\twidth: \"100%\",\n\t\t\"> div\": {\n\t\t\tcolor: `${context.theme.color.red}`,\n\t\t\tfontWeight: \"600\",\n\t\t\tcursor: \"pointer\",\n\t\t\tfontSize: \"12px\",\n\t\t},\n\t};\n};\n\nexport const mediaSectionStyle = () => {\n\treturn {\n\t\theight: \"calc(100% - 255px)\",\n\t\twidth: \"100%\",\n\t\tmargin: \"0\",\n\t\tpadding: \"16px 16px 0 16px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const sectionHeaderStyle = context => {\n\treturn {\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tfontSize: \"12px\",\n\t\tfontWeight: \"500!important\",\n\t\tlineHeight: \"20px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\ttextTransform: \"uppercase\",\n\t};\n};\n\nexport const sectionContentStyle = () => {\n\treturn {\n\t\twidth: \"100%\",\n\t\tmargin: \"6px 0\",\n\t};\n};\n\nexport const contentItemStyle = () => {\n\treturn {\n\t\t\"width\": 100 % \"\",\n\t\t\"&:not(:first-of-type):not(:last-of-type)\": {\n\t\t\tpadding: \"6px 0\",\n\t\t},\n\t};\n};\n\nexport const itemLinkStyle = context => {\n\treturn {\n\t\tfontSize: \"15px\",\n\t\tlineHeight: \"20px\",\n\t\tfontWeight: \"600\",\n\t\tdisplay: \"inline-block\",\n\t\tcolor: `${context.theme.color.red}`,\n\t};\n};\n\nexport const userInfoSectionStyle = () => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"flex-start\",\n\t};\n};\n\nexport const userThumbnailStyle = () => {\n\treturn {\n\t\twidth: \"35px\",\n\t\theight: \"35px\",\n\t\tdisplay: \"inline-block\",\n\t\tflexShrink: \"0\",\n\t\tmargin: \"0 16px 0 0\",\n\t};\n};\n\nexport const userNameStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tfontSize: \"15px\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"22px\",\n\t\twidth: \"100%\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t};\n};\n\nexport const userStatusStyle = () => {\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t};\n};\n\nexport const userPresenceStyle = (context, state) => {\n\t\n\tlet status = state.status ? state.status.toLowerCase() : \"\";\n\tlet compareTo = Translator.translate((CometChat.USER_STATUS.ONLINE).toUpperCase(), context.language).toLowerCase();\n\tstatus = status === compareTo ? { color: `${context.theme.color.blue}` } : { color: `${context.theme.color.helpText}` };\n\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t\ttextTransform: \"capitalize\",\n\t\tfontSize: \"13px\",\n\t\tfontWeight: \"400\",\n\t\tlineHeight: \"20px\",\n\t\t...status,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatToastNotification } from \"../../Shared/\";\nimport { CometChatSharedMediaView } from \"../../Shared/CometChatSharedMediaView/index.js\";\n\nimport { UserDetailManager } from \"./controller\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tuserDetailStyle,\n\theaderStyle,\n\theaderCloseStyle,\n\theaderTitleStyle,\n\tsectionStyle,\n\tactionSectionStyle,\n\tmediaSectionStyle,\n\tprivacySectionStyle,\n\tsectionHeaderStyle,\n\tsectionContentStyle,\n\tcontentItemStyle,\n\titemLinkStyle,\n\tuserInfoSectionStyle,\n\tuserThumbnailStyle,\n\tuserNameStyle,\n\tuserStatusStyle,\n\tuserPresenceStyle,\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatUserDetails extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tstatus: null,\n\t\t\tenableSharedMedia: false,\n\t\t\tenableBlockUser: false,\n\t\t\tenableViewProfile: false,\n\t\t\tenableUserPresence: false,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tif (this._isMounted) {\n\t\t\t\t\tthis.setState({ loggedInUser: user });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\tthis._isMounted = true;\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.UserDetailManager = new UserDetailManager();\n\t\tthis.UserDetailManager.attachListeners(this.updateUser);\n\n\t\tthis.setStatusForUser();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableViewProfile();\n\t\tthis.enableUserPresence();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableViewProfile();\n\t\tthis.enableUserPresence();\n\n\t\tif (prevProps.lang !== this.props.lang) {\n\t\t\tthis.setStatusForUser();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tthis.UserDetailManager.removeListeners();\n\t\tthis.UserDetailManager = null;\n\t}\n\n\tenableUserPresence = () => {\n\t\tthis.context.FeatureRestriction.isUserPresenceEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableUserPresence && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableUserPresence: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUserPresence !== false) {\n\t\t\t\t\tthis.setState({ enableUserPresence: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tupdateUser = (key, user) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE: {\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.item.uid === user.uid) {\n\t\t\t\t\t//if user presence feature is disabled\n\t\t\t\t\tif (this.state.enableUserPresence === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet status = \"\";\n\t\t\t\t\tif (user.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"OFFLINE\", this.props.lang);\n\t\t\t\t\t} else if (user.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"ONLINE\", this.props.lang);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ status: status });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tsetStatusForUser = () => {\n\t\tlet status = null;\n\t\tif (this.context.item.status === CometChat.USER_STATUS.OFFLINE && this.context.item.lastActiveAt) {\n\t\t\tconst lastActive = this.context.item.lastActiveAt * 1000;\n\t\t\tconst messageDate = dateFormat(lastActive, \"dS mmm yyyy, h:MM TT\");\n\n\t\t\tstatus = `${Translator.translate(\"LAST_ACTIVE_AT\", this.props.lang)}: ${messageDate}`;\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\tstatus = Translator.translate(\"OFFLINE\", this.props.lang);\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\tstatus = Translator.translate(\"ONLINE\", this.props.lang);\n\t\t}\n\n\t\tthis.setState({ status: status });\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewProfile = () => {\n\t\tthis.context.FeatureRestriction.isViewProfileEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableViewProfile && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewProfile: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewProfile !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewProfile: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tblockUser = () => {\n\t\tlet uid = this.context.item.uid;\n\t\tlet usersList = [uid];\n\t\tCometChat.blockUsers(usersList)\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\n\t\t\t\t\tconst newType = CometChat.ACTION_TYPE.TYPE_USER;\n\t\t\t\t\tconst newItem = Object.assign({}, this.context.item, { blockedByMe: true });\n\t\t\t\t\tthis.context.setTypeAndItem(newType, newItem);\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tunblockUser = () => {\n\t\tlet uid = this.context.item.uid;\n\t\tlet usersList = [uid];\n\t\tCometChat.unblockUsers(usersList)\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\t\t\t\t\t\n\t\t\t\t\tconst newType = CometChat.ACTION_TYPE.TYPE_USER;\n\t\t\t\t\tconst newItem = Object.assign({}, this.context.item, { blockedByMe: false });\n\t\t\t\t\tthis.context.setTypeAndItem(newType, newItem);\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tviewProfile = () => {\n\t\tconst profileLink = this.context.item.link;\n\t\twindow.open(profileLink, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t};\n\n\tcloseDetailView = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLOSE_USER_DETAIL\"]);\n\t};\n\n\trender() {\n\t\tif (this.state.loggedInUser === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet viewProfile = null;\n\t\tif (this.state.enableViewProfile === true && this.context.item.hasOwnProperty(\"link\") && this.context.item.link && this.context.item.link.trim().length) {\n\t\t\tviewProfile = (\n\t\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t\t<div css={actionSectionStyle(this.context)} className=\"section section__viewprofile\">\n\t\t\t\t\t\t<h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">\n\t\t\t\t\t\t\t{Translator.translate(\"ACTIONS\", this.context.language)}\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.viewProfile}>\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"VIEW_PROFILE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet blockUserText;\n\t\tif (this.context.item.blockedByMe) {\n\t\t\tblockUserText = (\n\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.unblockUser}>\n\t\t\t\t\t{Translator.translate(\"UNBLOCK_USER\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tblockUserText = (\n\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.blockUser}>\n\t\t\t\t\t{Translator.translate(\"BLOCK_USER\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet blockUserView = (\n\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t<div css={privacySectionStyle(this.context)} className=\"section section__privacy\">\n\t\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t\t{Translator.translate(\"OPTIONS\", this.context.language)}\n\t\t\t\t\t</h6>\n\t\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t\t\t{blockUserText}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\t//if block/unblock user feature is disabled\n\t\tif (this.state.enableBlockUser === false) {\n\t\t\tblockUserView = null;\n\t\t}\n\n\t\tlet sharedmediaView = (\n\t\t\t<div css={mediaSectionStyle()} className=\"detailpane__section\">\n\t\t\t\t<CometChatSharedMediaView theme={this.props.theme} lang={this.context.language} />\n\t\t\t</div>\n\t\t);\n\n\t\t//if shared media feature is disabled\n\t\tif (this.state.enableSharedMedia === false) {\n\t\t\tsharedmediaView = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={userDetailStyle(this.context)} className=\"detailpane detailpane--user\">\n\t\t\t\t<div css={headerStyle(this.context)} className=\"detailpane__header\">\n\t\t\t\t\t<div css={headerCloseStyle(navigateIcon, this.context)} className=\"header__close\" onClick={this.closeDetailView}></div>\n\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t{Translator.translate(\"DETAILS\", this.context.language)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t\t<div css={userInfoSectionStyle()} className=\"section section__userinfo\">\n\t\t\t\t\t\t<div css={userThumbnailStyle()} className=\"user__thumbnail\">\n\t\t\t\t\t\t\t<CometChatAvatar user={this.context.item} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={userStatusStyle()} className=\"user__status\">\n\t\t\t\t\t\t\t<h6 css={userNameStyle()}>{this.context.item.name}</h6>\n\t\t\t\t\t\t\t<span css={userPresenceStyle(this.context, this.state)}>{this.state.status}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t\t{viewProfile}\n\t\t\t\t{blockUserView}\n\t\t\t\t{sharedmediaView}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserDetails.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatUserDetails.propTypes = {\n\ttheme: PropTypes.object,\n};\n\nexport { CometChatUserDetails };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport {UIKitSettings} from \"../../../util/UIKitSettings\";\n\nexport class UserListManager {\n\n    userRequest = null;\n    userListenerId = \"userlist_\" + new Date().getTime();\n\n    constructor(context, searchKey) {\n\n        this.context = context;\n        this.searchKey = searchKey;\n    }\n\n    initializeUsersRequest = () => {\n\n        const userListMode = this.context.UIKitSettings.userListMode;\n\t\tconst userListModeOptions = UIKitSettings.userListFilterOptions;\n\n        return new Promise((resolve, reject) => {\n            if (userListMode === userListModeOptions[\"ALL\"]) {\n                if (this.searchKey) {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).setSearchKeyword(this.searchKey).build();\n                } else {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).build();\n                }\n\n                return resolve(this.usersRequest);\n            } else if (userListMode === userListModeOptions[\"FRIENDS\"]) {\n                if (this.searchKey) {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).setSearchKeyword(this.searchKey).build();\n                } else {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).build();\n                }\n\n                return resolve(this.usersRequest);\n            } else {\n                return reject({message: \"Invalid filter for userlist\"});\n            }\n        });\n    }\n\n    fetchNextUsers() {\n        return this.usersRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n        \n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(offlineUser);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n    }\n}","export const contactWrapperStyle = (props, theme) => {\n\n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const contactHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"70px\",\n\t};\n};\n\nexport const contactHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) left center no-repeat`,\n\t\tbackgroundColor: `${theme.secondaryTextColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const contactHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"22px\",\n        lineHeight: \"26px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const contactSearchStyle = () => {\n    \n    return {\n        margin: \"16px\",\n        position: \"relative\",\n        borderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        backgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        height: \"35px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const contactSearchButtonStyle = (img, theme) => {\n\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"100%\",\n\t\tpadding: \"8px 0 8px 8px\",\n\t\tcursor: \"default\",\n\t\tmask: `url(${img}) 10px center no-repeat`,\n\t\tbackgroundColor: `${theme.secondaryTextColor}!important`,\n\t};\n};\n\nexport const contactSearchInputStyle = (props) => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        fontWeight: \"400\",\n        lineHeight: \"20px\",\n        outline: \"none\",\n        border: \"none\",\n        height: \"100%\",\n        color: props.theme.color.search,\n        backgroundColor: \"transparent\",\n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const contactMsgTxtStyle = theme => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const contactListStyle = () => {\n    \n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\"\n    }\n}\n\nexport const contactAlphabetStyle = (props) => {\n    \n    return {\n        padding: \"0 16px\",\n        margin: \"5px 0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        fontWeight: \"500\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.tertiary}`\n    }\n}\n","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { UserListManager } from \"./controller\";\n\nimport { CometChatUserListItem } from \"../../Users\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n  contactWrapperStyle, \n  contactHeaderStyle, \n  contactHeaderCloseStyle, \n  contactHeaderTitleStyle,\n  contactSearchStyle,\n  contactSearchButtonStyle,\n  contactSearchInputStyle,\n  contactMsgStyle,\n  contactMsgTxtStyle,\n  contactListStyle,\n  contactAlphabetStyle\n} from \"./style\";\n\nimport searchIcon from \"./resources/search.svg\";\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatUserList extends React.PureComponent {\n\n\titem;\n\ttimeout;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuserlist: [],\n\t\t\tenableSearchUser: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.userListRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.item = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) ? this.getContext().item : null;\n\t\tthis.toggleUserSearch();\n\n\t\tthis.UserListManager = new UserListManager(this.getContext())\n\t\tthis.UserListManager.initializeUsersRequest()\n\t\t\t.then(response => {\n\t\t\t\tthis.getUsers();\n\t\t\t\tthis.UserListManager.attachListeners(this.userUpdated);\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\t//if user is blocked/unblocked, update userlist\n\t\tif (this.item \n\t\t&& Object.keys(this.item).length\n\t\t&& this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.item.uid === this.getContext().item.uid\n\t\t&& this.item.blockedByMe !== this.getContext().item.blockedByMe) {\n\n\t\t\tlet userlist = [...this.state.userlist];\n\n\t\t\t\t//search for user\n\t\t\t\tlet userKey = userlist.findIndex(u => u.uid === this.getContext().item.uid);\n\t\t\t\tif(userKey > -1) {\n\n\t\t\t\tlet userObject = { ...userlist[userKey] };\n\t\t\t\tlet newUserObject = Object.assign({}, userObject, { blockedByMe: this.getContext().item.blockedByMe });\n\t\t\t\t\n\t\t\t\tuserlist.splice(userKey, 1, newUserObject);\n\t\t\t\tthis.setState({ userlist: userlist });\n\t\t\t}\n\t\t}\n\n\t\tthis.item = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) ? this.getContext().item : null;\n\t\tthis.toggleUserSearch();\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\tthis.UserListManager.removeListeners();\n\t\tthis.UserListManager = null;\n\t}\n\n\ttoggleUserSearch = () => {\n\n\t\tthis.getContext().FeatureRestriction.isUserSearchEnabled().then(response => {\n\n\t\t\t/**\n\t\t\t* Don't update state if the response has the same value\n\t\t\t*/\n\t\t\tif (response !== this.state.enableSearchUser) {\n\t\t\t\tthis.setState({enableSearchUser: response});\n\t\t\t}\n\n\t\t}).catch(error => {\n\n\t\t\tif (this.state.enableSearchUser !== false) {\n\t\t\t\tthis.setState({enableSearchUser: false});\n\t\t\t}\n\n\t\t});\n\t}\n\n\tuserUpdated = (user) => {\n\t\t\n\t\tlet userlist = [...this.state.userlist];\n\n\t\t//search for user\n\t\tlet userKey = userlist.findIndex(u => u.uid === user.uid);\n\t\t\n\t\t//if found in the list, update user object\n\t\tif(userKey > -1) {\n\n\t\t\tlet userObj = {...userlist[userKey]};\n\t\t\tlet newUserObj = {...userObj, ...user};\n\t\t\tuserlist.splice(userKey, 1, newUserObj);\n\n\t\t\tthis.setState({ userlist: userlist });\n\t\t}\n\t}\n\n\thandleScroll = (e) => {\n\n\t\tconst bottom =\n\t\tMath.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getUsers();\n\t}\n\n\thandleClick = (user) => {\n\n\t\tif(!this.props.onItemClick)\n\t\t\treturn;\n\n\t\tthis.props.onItemClick(user, CometChat.ACTION_TYPE.TYPE_USER);\n\t}\n\n  \thandleMenuClose = () => {\n\n\t\tif(!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n  \t}\n  \n \tsearchUsers = (e) => {\n\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\tlet val = e.target.value;\n\t\tthis.UserListManager = new UserListManager(this.getContext(), val);\n\t\tthis.UserListManager.initializeUsersRequest()\n\t\t\t.then(response => {\n\t\t\t\tthis.timeout = setTimeout(() => {\n\t\t\t\t\tthis.setState({ userlist: [], decoratorMessage: Translator.translate(\"LOADING\", this.props.lang) }, () => this.getUsers());\n\t\t\t\t}, 500);\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n  \t}\n\n\tgetUsers = () => {\n\n\t\tthis.UserListManager.fetchNextUsers()\n\t\t\t.then(userList => {\n\n\t\t\t\tif (userList.length === 0) {\n\t\t\t\t\tif (this.state.userlist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_USERS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ userlist: [...this.state.userlist, ...userList], decoratorMessage: \"\" });\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tgetContext = () => {\n\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t}\n\n  \trender() {\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={contactMsgStyle()} className=\"contacts__decorator-message\">\n\t\t\t\t\t<p css={contactMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst userList = [...this.state.userlist];\n\t\tlet currentLetter = \"\";\n\t\t\n\t\tconst users = userList.map(user => {\n\t\t\n\t\t\tconst chr = user.name[0].toUpperCase();\n\t\t\tlet firstChar = null;\n\t\t\tif (chr !== currentLetter) {\n\t\t\t\tcurrentLetter = chr;\n\t\t\t\tfirstChar = (<div css={contactAlphabetStyle(this.props)} className=\"contacts__list__alphabet-filter\">{currentLetter}</div>);\n\t\t\t} else {\n\t\t\t\tfirstChar = null;\n\t\t\t}\n\t\t\t\n\t\t\tlet selectedUser = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid === user.uid) ? user : null;\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={user.uid}>\n\t\t\t\t\t{firstChar}\n\t\t\t\t\t<CometChatUserListItem user={user} selectedUser={selectedUser} clickHandler={this.handleClick} />\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t});\n\n\t\tlet closeBtn = <div css={contactHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet searchUser = null;\n\t\tif (this.state.enableSearchUser) {\n\t\t\tsearchUser = (\n\t\t\t\t<div css={contactSearchStyle()} className=\"contacts__search\">\n\t\t\t\t\t<button type=\"button\" className=\"search__button\" css={contactSearchButtonStyle(searchIcon, theme)} />\n\t\t\t\t\t<input type=\"text\" autoComplete=\"off\" css={contactSearchInputStyle(this.props)} className=\"search__input\" placeholder={Translator.translate(\"SEARCH\", this.props.lang)} onChange={this.searchUsers} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst userListTemplate = (\n\t\t\t<div css={contactWrapperStyle(this.props, theme)} className=\"contacts\">\n\t\t\t\t<div css={contactHeaderStyle(theme)} className=\"contacts__header\">\n\t\t\t\t\t{closeBtn}\n\t\t\t\t\t<h4 css={contactHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t{Translator.translate(\"USERS\", this.props.lang)}\n\t\t\t\t\t</h4>\n\t\t\t\t\t<div></div>\n\t\t\t\t</div>\n\t\t\t\t{searchUser}\n\t\t\t\t{messageContainer}\n\t\t\t\t<div css={contactListStyle()} className=\"contacts__list\" onScroll={this.handleScroll} ref={el => (this.userListRef = el)}>\n\t\t\t\t\t{users}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet userListWrapper = (userListTemplate);\n\t\tif (this.props._parent === \"\") {\n\t\t\tuserListWrapper = (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)}>\n\t\t\t\t\t{userListTemplate}\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t}\n\n\t\treturn (userListWrapper);\n  \t}\n}\n\n// Specifies the default values for props:\nCometChatUserList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => {},\n\t_parent: \"\"\n};\n\nCometChatUserList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatUserList };\n","export const listItem = (props, context) => {\n\n    const selectedState = (props.selectedUser && props.selectedUser.uid === props.user.uid) ? {\n        backgroundColor: `${context.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${context.theme.backgroundColor.primary}`\n        }\n    }\n}\n\nexport const itemThumbnailStyle = () => {\n    \n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\"\n    }\n}\n\nexport const itemDetailStyle = () => {\n    \n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: 1,\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemNameStyle = (context) => { \n    \n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        width: \"100%\",\n        margin: \"5px 0 0 0\",\n        lineHeight: \"22px\",\n        color: `${context.theme.color.primary}`\n    }\n};\n\nexport const itemDescStyle = context => {\n\treturn {\n\t\tmarginTop: \"10px\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { listItem, itemThumbnailStyle, itemDetailStyle, itemNameStyle, itemDescStyle } from \"./style\";\nimport { useContext } from \"react\";\n\nconst CometChatUserListItem = (props) => {\n\n\tconst context = useContext(CometChatContext);\n\n\tlet userPresence = (<CometChatUserPresence status={props.user.status} />);\n\n  \tconst toggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif(scrollWidth <= clientWidth) {\n\t\treturn false;\n\t\t}\n\n\t\tif(flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t} \n  \n\treturn (\n\t\t<div css={listItem(props, context)} onClick={() => props.clickHandler(props.user)} className=\"list__item\">\n\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t<CometChatAvatar user={props.user} />\n\t\t\t\t{userPresence}\n\t\t\t</div>\n\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(context.language)}>\n\t\t\t\t<div css={itemNameStyle(context)} className=\"item__details__name\"  \n\t\t\t\tonMouseEnter={event => toggleTooltip(event, true)} \n\t\t\t\tonMouseLeave={event => toggleTooltip(event, false)}>{props.user.name}</div>\n\t\t\t\t<div css={itemDescStyle(context)} className=\"item__details__desc\"></div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n// Specifies the default values for props:\nCometChatUserListItem.defaultProps = {\n\ttheme: theme,\n\tuser: {},\n};\n\nCometChatUserListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tuser: PropTypes.shape(CometChat.User),\n};\n\nexport { CometChatUserListItem };\n","export const userScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const userScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .contacts\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const userScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%!important\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatUserList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tuserScreenStyle,\n\tuserScreenSidebarStyle,\n\tuserScreenMainStyle,\n} from \"./style\"\n\nclass CometChatUserListWithMessages extends React.Component {\n\n  \tloggedInUser = null;\n\n  \tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.contextProviderRef = React.createRef();\n  \t}\n  \n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (user, type) => {\n\n\t\tthis.contextProviderRef.setTypeAndItem(type, user);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t<CometChatMessages\n\t\t_parent=\"userscreen\"\n\t\tactionGenerated={this.actionHandler} />);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} user={this.props.chatWithUser} language={this.props.lang}>\n\t\t\t\t<div css={userScreenStyle(this.props)} className=\"cometchat cometchat--contacts\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={userScreenSidebarStyle(this.state, this.props)} className=\"contacts__sidebar\">\n\t\t\t\t\t\t<CometChatUserList _parent=\"ulwm\" theme={this.props.theme} lang={this.props.lang} onItemClick={this.itemClicked} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={userScreenMainStyle(this.state, this.props)} className=\"contacts__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n};\n\nCometChatUserListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n}\n\nexport { CometChatUserListWithMessages };","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n    return {\n        minWidth: \"350px\",\n        minHeight: \"350px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"4\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[0]]: {\n            width: \"100%\",\n            height: \"100%\",\n        },\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\",\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\",\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tmargin: \"8px 0\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalTableStyle = (props) => {\n\n    return {\n        borderCollapse: \"collapse\",\n        margin: \"0\",\n        padding: \"0\",\n        width: \"100%\",\n        height: \"90%\",\n        \"tr\": {\n            display: \"table\",\n            width: \"100%\",\n            tableLayout: \"fixed\",\n        }\n    }\n}\n\nexport const tableCaptionStyle = () => {\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"15px\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n    }\n}\n\nexport const tableBodyStyle = () => {\n\n    return {\n        height: \"calc(100% - 40px)\",\n        overflowY: \"auto\",\n        display: \"block\",\n        \"tr\": {\n            \"td\": {\n                padding: \"8px 0\",\n                fontSize: \"14px\",\n                \"input\": {\n                    width: \"100%\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    fontSize: \"14px\",\n                    outline: \"none\",\n                },\n                \"select\": {\n                    outline: \"none\",\n                    padding: \"8px 16px\",\n                }\n            }\n        }\n    }\n}\n\nexport const tableFootStyle = (context, state, img) => {\n\n    const loadingState = (state.creatingGroup) ? {\n        disabled: \"true\",\n        pointerEvents: \"none\",\n        background: `url(${img}) no-repeat right 10px center ${context.theme.primaryColor}`,\n    } : {};\n\n    const textMargin = (state.creatingGroup) ? { marginRight: \"24px\", } : {};\n\n    return {\n        display: \"inline-block\",\n        \"button\": {\n            cursor: \"pointer\",\n            padding: \"8px 16px\",\n            backgroundColor: `${context.theme.primaryColor}`,\n            borderRadius: \"5px\",\n            color: `${context.theme.color.white}`,\n            fontSize: \"14px\",\n            outline: \"0\",\n            border: \"0\",\n            ...loadingState,\n            \"span\": {\n                ...textMargin\n            }\n        },\n        \"tr\": {\n            border: \"none\",\n            \"td\": {\n                textAlign: \"center\",\n            }\n        },\n    }\n}\n\nexport const inputStyle = (context) => {\n\n    return {\n        display: \"block\",\n        width: \"100%\",\n        border: '0',\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        borderRadius: \"8px\",\n        backgroundColor: `${context.theme.backgroundColor.grey}`,\n        color: `${context.theme.color.helpText}`,\n        fontSize: \"14px\",\n    }\n}","export default __webpack_public_path__ + \"static/media/creating.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalTableStyle,\n    tableCaptionStyle,\n    tableBodyStyle,\n    inputStyle,\n    tableFootStyle,\n\tmodalErrorStyle,\n} from \"./style\";\n\nimport creatingIcon from \"./resources/creating.svg\";\nimport closeIcon from \"./resources/close.svg\";\n\nclass CometChatCreateGroup extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\terrorMessage: \"\",\n\t\t\tpasswordInput: false,\n\t\t\tname: \"\",\n\t\t\ttype: \"\",\n\t\t\tpassword: \"\",\n\t\t\tcreatingGroup: false,\n\t\t\tenablePublicGroup: false,\n\t\t\tenablePasswordGroup: false,\n\t\t\tenablePrivateGroup: false,\n\t\t};\n\t}\n\n    componentDidMount() {\n\n        this.enablePublicGroup();\n        this.enablePasswordGroup();\n        this.enablePrivateGroup();\n    }\n\n    componentDidUpdate() {\n\n        this.enablePublicGroup();\n        this.enablePasswordGroup();\n        this.enablePrivateGroup();\n    }\n\n\tenablePublicGroup = () => {\n\t\tthis.context.FeatureRestriction.isPublicGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePublicGroup) {\n\t\t\t\t\tthis.setState({enablePublicGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePublicGroup !== false) {\n\t\t\t\t\tthis.setState({enablePublicGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenablePasswordGroup = () => {\n\t\tthis.context.FeatureRestriction.isPasswordGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePasswordGroup) {\n\t\t\t\t\tthis.setState({enablePasswordGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePasswordGroup !== false) {\n\t\t\t\t\tthis.setState({enablePasswordGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenablePrivateGroup = () => {\n\t\tthis.context.FeatureRestriction.isPrivateGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePrivateGroup) {\n\t\t\t\t\tthis.setState({enablePrivateGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePrivateGroup !== false) {\n\t\t\t\t\tthis.setState({enablePrivateGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tpasswordChangeHandler = event => {\n\t\tthis.setState({password: event.target.value});\n\t};\n\n\tnameChangeHandler = event => {\n\t\tthis.setState({name: event.target.value});\n\t};\n\n\ttypeChangeHandler = event => {\n\t\tconst type = event.target.value;\n\t\tthis.setState({type});\n\n\t\tif (type === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\tthis.setState({passwordInput: true});\n\t\t} else {\n\t\t\tthis.setState({passwordInput: false});\n\t\t}\n\t};\n\n\tvalidate = () => {\n\t\tconst groupName = this.state.name.trim();\n\t\tconst groupType = this.state.type.trim();\n\n\t\tif (!groupName) {\n\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_GROUP_NAME\", this.context.language) });\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!groupType) {\n\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_GROUP_TYPE\", this.context.language) });\n\t\t\treturn false;\n\t\t}\n\n\t\tlet password = \"\";\n\t\tif (groupType === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\tpassword = this.state.password;\n\n\t\t\tif (!password.length) {\n\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_PASSWORD\", this.context.language) });\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\n\tcreateGroup = () => {\n\n\t\tif (!this.validate()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ creatingGroup: true });\n\n\t\tconst groupType = this.state.type.trim();\n\n\t\tconst password = this.state.password;\n\t\tconst guid = \"group_\" + new Date().getTime();\n\t\tconst name = this.state.name.trim();\n\t\tlet type = CometChat.GROUP_TYPE.PUBLIC;\n\n\t\tswitch (groupType) {\n\t\t\tcase \"public\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PUBLIC;\n\t\t\t\tbreak;\n\t\t\tcase \"private\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PRIVATE;\n\t\t\t\tbreak;\n\t\t\tcase \"password\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PASSWORD;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst group = new CometChat.Group(guid, name, type, password);\n\t\tCometChat.createGroup(group)\n\t\t\t.then(newGroup => {\n\t\t\t\tthis.setState({ creatingGroup: false });\n\n\t\t\t\tif (typeof newGroup === \"object\" && Object.keys(newGroup).length) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"GROUP_CREATION_SUCCESS\");\n\t\t\t\t\tthis.setState({ name: \"\", type: \"\", password: \"\", passwordInput: \"\" });\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"GROUP_CREATED\"], newGroup);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ creatingGroup: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t});\n\t};\n\n\tpopulateGroupType = () => {};\n\n\trender() {\n\n        const groupTypes = {};\n        let groupTypeSelect = null;\n\n        if (this.state.enablePublicGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PUBLIC] = Translator.translate(\"PUBLIC\", this.context.language);\n        }\n\n        if (this.state.enablePasswordGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PASSWORD] = Translator.translate(\"PASSWORD_PROTECTED\", this.context.language);\n        }\n\n        if (this.state.enablePrivateGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PRIVATE] = Translator.translate(\"PRIVATE\", this.context.language);\n        }\n\n        const groupTypeKeys = Object.keys(groupTypes);\n        if (groupTypeKeys.length) {\n\n            const groupTypeListOptions = groupTypeKeys.map(groupTypeKey => {\n                return (\n                    <option value={groupTypeKey} key={groupTypeKey}>\n                        {groupTypes[groupTypeKey]}\n                    </option>\n                );\n            });\n\n            if (groupTypeKeys.length > 1) {\n                groupTypeSelect = (\n                    <tr>\n                        <td>\n                            <select css={inputStyle(this.props)} className=\"grouptype\" onChange={this.typeChangeHandler} value={this.state.type} tabIndex=\"2\">\n                                <option value=\"\">{Translator.translate(\"SELECT_GROUP_TYPE\", this.context.language)}</option>\n                                {groupTypeListOptions}\n                            </select>\n                        </td>\n                    </tr>\n                );\n            } else {\n                groupTypeSelect = (\n                    <tr>\n                        <td>\n                            <select css={inputStyle(this.props)} className=\"grouptype\" onChange={this.typeChangeHandler} value={this.state.type} tabIndex=\"2\">\n                                {groupTypeListOptions}\n                            </select>\n                        </td>\n                    </tr>\n                );\n            }\n        }\n\n\t\tlet password = null;\n\t\tif (this.state.passwordInput) {\n\t\t\tpassword = (\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<input autoComplete=\"off\" css={inputStyle(this.context)} placeholder={Translator.translate(\"ENTER_GROUP_PASSWORD\", this.context.language)} type=\"password\" tabIndex=\"3\" onChange={this.passwordChangeHandler} value={this.state.password} />\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t);\n\t\t}\n\n\t\tconst createText = this.state.creatingGroup ? Translator.translate(\"CREATING\", this.context.language) : Translator.translate(\"CREATE\", this.context.language);\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.context)} className=\"modal__creategroup\">\n\t\t\t\t\t<span css={modalCloseStyle(closeIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<table css={modalTableStyle(this.props)}>\n\t\t\t\t\t\t\t<caption css={tableCaptionStyle()} className=\"modal__title\"> {Translator.translate(\"CREATE_GROUP\", this.context.language)} </caption>\n\t\t\t\t\t\t\t<tbody css={tableBodyStyle()} className=\"modal__search\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td><div css={modalErrorStyle(this.context)}>{this.state.errorMessage}</div></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<input autoComplete=\"off\" css={inputStyle(this.props)} className=\"search__input\" placeholder={Translator.translate(\"ENTER_GROUP_NAME\", this.context.language)} type=\"text\" tabIndex=\"1\" onChange={this.nameChangeHandler} value={this.state.name} />\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t{groupTypeSelect}\n\t\t\t\t\t\t\t\t{password}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t<tfoot css={tableFootStyle(this.context, this.state, creatingIcon)}>\n\t\t\t\t\t\t\t\t<tr className=\"creategroup\">\n\t\t\t\t\t\t\t\t\t<td><button type=\"button\" tabIndex=\"4\" onClick={this.createGroup}><span>{createText}</span></button></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tfoot>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport { CometChatCreateGroup };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class GroupDetailManager {\n\n    guid = null;\n    groupMemberRequest = null;\n    bannedGroupMemberRequest = null;\n\n    userListenerId = \"group_detail_user_\" + new Date().getTime();\n    groupListenerId = \"group_detail_group_\" + new Date().getTime();\n\n    constructor(guid) {\n        this.guid = guid;\n        this.groupMemberRequest = new CometChat.GroupMembersRequestBuilder(guid).setLimit(10).build();\n        this.bannedGroupMemberRequest = new CometChat.BannedMembersRequestBuilder(guid).setLimit(10).build();\n    }\n\n    fetchNextGroupMembers() {\n        return this.groupMemberRequest.fetchNext();\n    }\n\n    fetchNextBannedGroupMembers() {\n        return this.bannedGroupMemberRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser, \"hasJoined\": false});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n\n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, null, {guid: this.guid}, {\"user\": onlineUser});\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, null, {guid: this.guid}, {\"user\": offlineUser});\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","export const detailStyle = (context) => {\n\n    return {\n        height: \"100%\",\n        position: \"relative\",\n        boxSizing: \"border-box\",\n        fontFamily: `${context.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${context.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const headerStyle = (context) => {\n\n    return {\n        padding: \"16px\",\n        position: \"relative\",\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        height: \"69px\",\n    }\n}\n\nexport const headerCloseStyle = (img, context) => {\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        cursor: \"pointer\",\n        display: \"none\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        width: \"24px\",\n        height: \"24px\",\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, , ${mq[4]}`]: {\n            display: \"block\"\n        },\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        fontSize: \"22px\",\n        lineHeight: \"26px\"\n    }\n}\n\nexport const detailPaneStyle = () => {\n\n    return {\n        margin: \"0\",\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\",\n        alignItems: \"flex-start\",\n        height: \"calc(100% - 70px)\"\n    }\n}\n\nexport const sectionStyle = () => {\n\n    return {\n        width: \"100%\",\n    }\n}\n\nexport const sectionHeaderStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        fontWeight: \"500\",\n        lineHeight: \"20px\",\n        color: `${context.theme.color.secondary}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const sectionContentStyle = () => {\n\n    return {\n        width: \"100%\",\n        margin: \"6px 0\",\n        '&:not(:last-of-type)': {\n            marginBottom: \"16px\",\n        }\n    }\n}\n\nexport const contentItemStyle = () => {\n\n    return {\n        position: \"relative\",\n        display: \"flex\",\n        clear: \"both\",\n        width: \"100%\",\n        padding:\" 6px 0\",\n        '&:first-of-type': {\n            paddingTop: \"0\",\n        },\n        '&:last-of-type': {\n            paddingBottom: \"0\",\n        }\n    }\n}\n\nexport const itemLinkStyle = (context, deleteLink) => {\n\n    const deleteCss = (deleteLink) ? {\n        color: `${context.theme.color.red}`,\n    } : {\n        color: `${context.theme.color.primary}`,\n    };\n\n    return {\n        fontSize: \"15px\",\n        lineHeight: \"20px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        fontWeight: \"600\",\n        ...deleteCss\n    }\n}\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { GroupDetailManager } from \"./controller\";\n\nimport { CometChatConfirmDialog, CometChatToastNotification } from \"../../Shared\";\nimport { \n\tCometChatViewGroupMemberList, \n\tCometChatAddGroupMemberList, \n\tCometChatBanGroupMemberList, \n\tCometChatTransferOwnershipMemberList\n} from \"../../Groups\";\n\nimport { CometChatSharedMediaView } from \"../../Shared/CometChatSharedMediaView/index.js\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    detailStyle,\n    headerStyle,\n    headerCloseStyle,\n    headerTitleStyle,\n    detailPaneStyle,\n    sectionStyle,\n    sectionHeaderStyle,\n    sectionContentStyle,\n    contentItemStyle,\n    itemLinkStyle\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatGroupDetails extends React.Component {\n\titem;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis._isMounted = false;\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tmemberlist: [],\n\t\t\tbannedmemberlist: [],\n\t\t\tadministratorslist: [],\n\t\t\tmoderatorslist: [],\n\t\t\tviewMember: false,\n\t\t\taddMember: false,\n\t\t\tbanMember: false,\n\t\t\taddAdministrator: false,\n\t\t\taddModerator: false,\n\t\t\tenableAddGroupMembers: false,\n\t\t\tenableChangeScope: false,\n\t\t\tenableKickGroupMembers: false,\n\t\t\tenableBanGroupMembers: false,\n\t\t\tenableDeleteGroup: false,\n\t\t\tenableViewGroupMembers: false,\n\t\t\tenableLeaveGroup: false,\n\t\t\tenableSharedMedia: false,\n\t\t\tshowDeleteConfirmDialog: false,\n\t\t\tshowLeaveGroupConfirmDialog: false,\n\t\t\tshowTransferOwnershipConfirmDialog: false,\n\t\t\ttransferOwnership: false,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tif (this._isMounted) {\n\t\t\t\t\tthis.setState({ loggedInUser: user });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\tthis._isMounted = true;\n\t\tthis.context.clearGroupMembers();\n\n\t\tthis.item = this.context.item;\n\n\t\tconst guid = this.context.item.guid;\n\t\tthis.GroupDetailManager = new GroupDetailManager(guid);\n\t\tthis.getGroupMembers();\n\t\tthis.getBannedGroupMembers();\n\t\tthis.GroupDetailManager.attachListeners(this.groupUpdated);\n\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (this.item.guid !== this.context.item.guid) {\n\t\t\tthis.context.clearGroupMembers();\n\n\t\t\tconst guid = this.context.item.guid;\n\t\t\tthis.GroupDetailManager.removeListeners();\n\t\t\tthis.GroupDetailManager = new GroupDetailManager(guid);\n\t\t\tthis.getGroupMembers();\n\t\t\tthis.getBannedGroupMembers();\n\t\t\tthis.GroupDetailManager.attachListeners(this.groupUpdated);\n\t\t}\n\n\t\tthis.item = this.context.item;\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.GroupDetailManager.removeListeners();\n\t\tthis.GroupDetailManager = null;\n\t\tthis._isMounted = false;\n\t}\n\n\tenableAddGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isAddingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableAddGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableAddGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableAddGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableAddGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableChangeScope = () => {\n\t\tthis.context.FeatureRestriction.isChangingGroupMemberScopeEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableChangeScope && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableChangeScope: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableChangeScope !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableChangeScope: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableKickGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isKickingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableKickGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableKickGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableKickGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableKickGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBanGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isBanningGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBanGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBanGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBanGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBanGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableDeleteGroup = () => {\n\t\tthis.context.FeatureRestriction.isGroupDeletionEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableDeleteGroup && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableDeleteGroup: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableDeleteGroup !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableDeleteGroup: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isViewingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableViewGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableLeaveGroup = () => {\n\t\tthis.context.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableLeaveGroup && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableLeaveGroup: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLeaveGroup !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableLeaveGroup: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgroupUpdated = (key, message, group, options) => {\n\t\tconst guid = this.context.item.guid;\n\t\tif (guid !== group.guid) {\n\t\t\treturn false;\n\t\t}\n\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE:\n\t\t\t\tthis.updateGroupMemberPresence(options.user);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT });\n\n\t\t\t\t\tthis.addParticipants([updatedMember], false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tthis.removeParticipants(key, member, false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\t//this.setAvatar(member);\n\t\t\t\t\tthis.banMembers([member]);\n\t\t\t\t\tthis.removeParticipants(key, member, false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tthis.unbanMembers([member]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: options[\"scope\"] });\n\t\t\t\t\tthis.updateParticipants(updatedMember);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/*\n    Updating group members presence\n    */\n\tupdateGroupMemberPresence = member => {\n\t\tlet memberlist = [...this.context.groupMembers];\n\t\t//search for user\n\t\tlet memberKey = memberlist.findIndex((m, k) => m.uid === member.uid);\n\t\t//if found in the list, update user object\n\t\tif (memberKey > -1) {\n\t\t\tlet memberObj = memberlist[memberKey];\n\t\t\tlet newMemberObj = Object.assign({}, memberObj, member);\n\t\t\tmemberlist.splice(memberKey, 1, newMemberObj);\n\n\t\t\tthis.context.updateGroupMembers(memberlist);\n\t\t}\n\n\t\tlet bannedmemberlist = [...this.context.bannedGroupMembers];\n\t\t//search for user\n\t\tlet bannedMemberKey = bannedmemberlist.findIndex((m, k) => m.uid === member.uid);\n\t\t//if found in the list, update user object\n\t\tif (bannedMemberKey > -1) {\n\t\t\tlet bannedMemberObj = bannedmemberlist[bannedMemberKey];\n\t\t\tlet newBannedMemberObj = Object.assign({}, bannedMemberObj, member);\n\t\t\tbannedmemberlist.splice(bannedMemberKey, 1, newBannedMemberObj);\n\n\t\t\tthis.updateBannedGroupMembers(bannedmemberlist);\n\t\t}\n\t};\n\n\tgetGroupMembers = () => {\n\t\tconst administratorslist = [],\n\t\t\tmoderatorslist = [];\n\t\tthis.GroupDetailManager.fetchNextGroupMembers()\n\t\t\t.then(groupMembers => {\n\t\t\t\tgroupMembers.forEach(member => {\n\t\t\t\t\tif (member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\t\t\t\tadministratorslist.push(member);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR) {\n\t\t\t\t\t\tmoderatorslist.push(member);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.context.setAllGroupMembers(groupMembers, administratorslist, moderatorslist);\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tgetBannedGroupMembers = () => {\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.GroupDetailManager.fetchNextBannedGroupMembers()\n\t\t\t.then(bannedMembers => {\n\t\t\t\tthis.context.setBannedGroupMembers(bannedMembers);\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tdeleteGroup = () => {\n\t\tthis.setState({ showDeleteConfirmDialog: true, showLeaveGroupConfirmDialog: false, showTransferOwnershipConfirmDialog: false });\n\t};\n\n\tonDeleteConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showDeleteConfirmDialog: false });\n\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.deleteGroup(guid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"GROUP_DELETION_SUCCESS\");\n\t\t\t\t\tthis.context.setDeletedGroupId(guid);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tonLeaveConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showLeaveGroupConfirmDialog: false });\n\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.leaveGroup(guid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setLeftGroupId(guid);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tonTransferConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showTransferOwnershipConfirmDialog: false });\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ transferOwnership: true });\n\t};\n\n\tleaveGroup = () => {\n\t\t/**\n\t\t * If loggeduser is the owner of the group; ask him to transfer ownership before leaving the group else show leave group confirmtion dialog\n\t\t */\n\t\tif (this.context.item?.owner === this.state.loggedInUser?.uid) {\n\t\t\tthis.setState({ showTransferOwnershipConfirmDialog: true, showDeleteConfirmDialog: false, showLeaveGroupConfirmDialog: false });\n\t\t} else {\n\t\t\tthis.setState({ showLeaveGroupConfirmDialog: true, showTransferOwnershipConfirmDialog: false, showDeleteConfirmDialog: false });\n\t\t}\n\t};\n\n\tclickHandler = (action, flag) => {\n\t\tswitch (action) {\n\t\t\tcase \"viewmember\":\n\t\t\t\tthis.setState({ viewMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"addmember\":\n\t\t\t\tthis.setState({ addMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"banmember\":\n\t\t\t\tthis.setState({ banMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"transferownership\":\n\t\t\t\tthis.setState({ transferOwnership: flag });\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tmembersActionHandler = (action, members) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]:\n\t\t\t\tthis.getGroupMembers();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"FETCH_BANNED_GROUP_MEMBERS\"]:\n\t\t\t\tthis.getBannedGroupMembers();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.unbanMembers(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.addParticipants(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]:\n\t\t\tcase enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.removeParticipants(action, members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.updateParticipants(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"OWNERSHIP_TRANSFERRED\"]:\n\t\t\t\tthis.updateOwnership(members);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tbanMembers = members => {\n\t\tthis.context.setBannedGroupMembers(members);\n\t};\n\n\tunbanMembers = members => {\n\t\tconst bannedMembers = [...this.context.bannedGroupMembers];\n\t\tconst unbannedMembers = [];\n\n\t\tconst filteredBannedMembers = bannedMembers.filter(bannedmember => {\n\t\t\tconst found = members.find(member => bannedmember.uid === member.uid);\n\t\t\tif (found) {\n\t\t\t\tunbannedMembers.push(found);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"], unbannedMembers);\n\t\tthis.context.updateBannedGroupMembers(filteredBannedMembers);\n\t};\n\n\taddParticipants = (members, triggerUpdate = true) => {\n\t\tthis.context.setGroupMembers(members);\n\t\t\n\t\tif (triggerUpdate) {\n\t\t\tconst newItem = { ...this.context.item, membersCount: this.context.groupMembers.length };\n\t\t\tthis.context.setItem(newItem);\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"], members);\n\t\t}\n\t};\n\n\tremoveParticipants = (action, member, triggerUpdate = true) => {\n\n\t\tconst groupmembers = [...this.context.groupMembers];\n\t\tconst filteredMembers = groupmembers.filter(groupmember => {\n\t\t\tif (groupmember.uid === member.uid) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.context.updateGroupMembers(filteredMembers);\n\n\t\tif (triggerUpdate) {\n\t\t\t\n\t\t\tconst newItem = { ...this.context.item, membersCount: filteredMembers.length };\n\t\t\tthis.context.setItem(newItem);\n\n\t\t\t//if group member is banned, update banned member list in context api\n\t\t\tif(action === enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]) {\n\t\t\t\tthis.context.setBannedGroupMembers([member]);\n\t\t\t}\n\n\t\t\tthis.props.actionGenerated(action, [member]);\n\t\t}\n\t};\n\n\tupdateParticipants = updatedMember => {\n\t\tconst memberlist = [...this.context.groupMembers];\n\n\t\tconst memberKey = memberlist.findIndex(member => member.uid === updatedMember.uid);\n\t\tif (memberKey > -1) {\n\t\t\tconst memberObj = memberlist[memberKey];\n\t\t\tconst newMemberObj = Object.assign({}, memberObj, updatedMember, { scope: updatedMember[\"scope\"] });\n\n\t\t\tmemberlist.splice(memberKey, 1, newMemberObj);\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"], [newMemberObj]);\n\t\t\tthis.context.updateGroupMembers(memberlist);\n\t\t}\n\t};\n\n\tupdateOwnership = uid => {\n\t\tconst item = { ...this.context.item, owner: uid };\n\t\tconst type = CometChat.RECEIVER_TYPE.GROUP;\n\n\t\tthis.setState({ transferOwnership: false });\n\t\tthis.context.setTypeAndItem(type, item);\n\t};\n\n\tcloseGroupDetail = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLOSE_GROUP_DETAIL\"]);\n\t};\n\n\trender() {\n\t\tif (this.state.loggedInUser === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet viewMembersBtn = (\n\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"viewmember\", true)}>\n\t\t\t\t\t{Translator.translate(\"VIEW_MEMBERS\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet addMembersBtn = null,\n\t\t\tdeleteGroupBtn = null,\n\t\t\tbannedMembersBtn = null;\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\taddMembersBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"addmember\", true)}>\n\t\t\t\t\t\t{Translator.translate(\"ADD_MEMBERS\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tdeleteGroupBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<span css={itemLinkStyle(this.context, 1)} className=\"item__link\" onClick={this.deleteGroup}>\n\t\t\t\t\t\t{Translator.translate(\"DELETE_AND_EXIT\", this.context.language)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\tbannedMembersBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"banmember\", true)}>\n\t\t\t\t\t\t{Translator.translate(\"BANNED_MEMBERS\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet leaveGroupBtn = (\n\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t<span css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={this.leaveGroup}>\n\t\t\t\t\t{Translator.translate(\"LEAVE_GROUP\", this.context.language)}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\n\t\tlet sharedmediaView = <CometChatSharedMediaView containerHeight=\"225px\" lang={this.context.language} />;\n\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\t//if viewing group membersfeature is disabled\n\t\t\tif (this.state.enableViewGroupMembers === false) {\n\t\t\t\tviewMembersBtn = null;\n\t\t\t}\n\t\t} else if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR || this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\tif (this.state.enableViewGroupMembers === false && this.state.enableKickGroupMembers === false && this.state.enableBanGroupMembers === false && this.state.enableChangeScope === false) {\n\t\t\t\t//if viewing, kicking/banning, promoting/demoting group membersare feature is disabled\n\t\t\t\tviewMembersBtn = null;\n\t\t\t}\n\t\t}\n\n\t\t//if adding group members feature is disabled\n\t\tif (this.state.enableAddGroupMembers === false) {\n\t\t\taddMembersBtn = null;\n\t\t}\n\n\t\t//if kicking/banning/unbanning group members feature is disabled\n\t\tif (this.state.enableBanGroupMembers === false) {\n\t\t\tbannedMembersBtn = null;\n\t\t}\n\n\t\t//if deleting group feature is disabled\n\t\tif (this.state.enableDeleteGroup === false) {\n\t\t\tdeleteGroupBtn = null;\n\t\t}\n\n\t\t//if leaving group feature is disabled\n\t\tif (this.state.enableLeaveGroup === false || this.context?.item?.membersCount === 1) {\n\t\t\tleaveGroupBtn = null;\n\t\t}\n\n\t\t//if viewing shared media group feature is disabled\n\t\tif (this.state.enableSharedMedia === false) {\n\t\t\tsharedmediaView = null;\n\t\t}\n\n\t\tlet members = (\n\t\t\t<div css={sectionStyle()} className=\"section section__members\">\n\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t{Translator.translate(\"MEMBERS\", this.context.language)}\n\t\t\t\t</h6>\n\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t{viewMembersBtn}\n\t\t\t\t\t{addMembersBtn}\n\t\t\t\t\t{bannedMembersBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet options = (\n\t\t\t<div css={sectionStyle()} className=\"section section__options\">\n\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t{Translator.translate(\"OPTIONS\", this.context.language)}\n\t\t\t\t</h6>\n\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t{leaveGroupBtn}\n\t\t\t\t\t{deleteGroupBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tif (viewMembersBtn === null && addMembersBtn === null && bannedMembersBtn === null) {\n\t\t\tmembers = null;\n\t\t}\n\n\t\tif (leaveGroupBtn === null && deleteGroupBtn === null) {\n\t\t\toptions = null;\n\t\t}\n\n\t\tlet viewMembers = null;\n\t\tif (this.state.viewMember) {\n\t\t\tviewMembers = (\n\t\t\t\t<CometChatViewGroupMemberList\n\t\t\t\t\tloggedinuser={this.state.loggedInUser}\n\t\t\t\t\tlang={this.props.lang}\n\t\t\t\t\tenableChangeScope={this.state.enableChangeScope}\n\t\t\t\t\tenableKickGroupMembers={this.state.enableKickGroupMembers}\n\t\t\t\t\tenableBanGroupMembers={this.state.enableBanGroupMembers}\n\t\t\t\t\tclose={() => this.clickHandler(\"viewmember\", false)}\n\t\t\t\t\tactionGenerated={this.membersActionHandler}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tlet addMembers = null;\n\t\tif (this.state.addMember) {\n\t\t\taddMembers = <CometChatAddGroupMemberList close={() => this.clickHandler(\"addmember\", false)} actionGenerated={this.membersActionHandler} />;\n\t\t}\n\n\t\tlet bannedMembers = null;\n\t\tif (this.state.banMember) {\n\t\t\tbannedMembers = <CometChatBanGroupMemberList loggedinuser={this.state.loggedInUser} close={() => this.clickHandler(\"banmember\", false)} actionGenerated={this.membersActionHandler} />;\n\t\t}\n\n\t\tlet showDeleteConfirmDialog = null;\n\t\tif (this.state.showDeleteConfirmDialog) {\n\t\t\tshowDeleteConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog {...this.props} onClick={this.onDeleteConfirm} message={Translator.translate(\"DELETE_CONFIRM\", this.context.language)} confirmButtonText={Translator.translate(\"DELETE\", this.context.language)} cancelButtonText={Translator.translate(\"CANCEL\", this.context.language)} />\n\t\t\t);\n\t\t}\n\n\t\tlet showLeaveGroupConfirmDialog = null;\n\t\tif (this.state.showLeaveGroupConfirmDialog) {\n\t\t\tshowLeaveGroupConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog {...this.props} onClick={this.onLeaveConfirm} message={Translator.translate(\"LEAVE_CONFIRM\", this.context.language)} confirmButtonText={Translator.translate(\"LEAVE\", this.context.language)} cancelButtonText={Translator.translate(\"CANCEL\", this.context.language)} />\n\t\t\t);\n\t\t}\n\n\t\tlet showTransferOwnershipConfirmDialog = null;\n\t\tif (this.state.showTransferOwnershipConfirmDialog) {\n\t\t\tshowTransferOwnershipConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tonClick={this.onTransferConfirm}\n\t\t\t\t\tmessage={Translator.translate(\"TRANSFER_CONFIRM\", this.context.language)}\n\t\t\t\t\tconfirmButtonText={Translator.translate(\"TRANSFER\", this.context.language)}\n\t\t\t\t\tcancelButtonText={Translator.translate(\"CANCEL\", this.context.language)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tlet transferOwnership = null;\n\t\tif (this.state.transferOwnership) {\n\t\t\ttransferOwnership = <CometChatTransferOwnershipMemberList roles={this.roles} loggedinuser={this.state.loggedInUser} actionGenerated={this.membersActionHandler} close={() => this.clickHandler(\"transferownership\", false)} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={detailStyle(this.context)} className=\"detailpane\">\n\t\t\t\t<div css={headerStyle(this.context)} className=\"detailpane__header\">\n\t\t\t\t\t<div css={headerCloseStyle(navigateIcon, this.context)} className=\"header__close\" onClick={this.closeGroupDetail}></div>\n\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t{Translator.translate(\"DETAILS\", this.context.language)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div css={detailPaneStyle()} className=\"detailpane__section\">\n\t\t\t\t\t{members}\n\t\t\t\t\t{options}\n\t\t\t\t\t{sharedmediaView}\n\t\t\t\t</div>\n\t\t\t\t{viewMembers}\n\t\t\t\t{addMembers}\n\t\t\t\t{bannedMembers}\n\t\t\t\t{transferOwnership}\n\t\t\t\t{showDeleteConfirmDialog}\n\t\t\t\t{showLeaveGroupConfirmDialog}\n\t\t\t\t{showTransferOwnershipConfirmDialog}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupDetails.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatGroupDetails.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatGroupDetails };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class GroupListManager {\n\n    groupRequest = null;\n    groupListenerId = \"grouplist_\" + new Date().getTime();\n\n    constructor(searchKey) {\n\n        if (searchKey) {\n            this.groupRequest = new CometChat.GroupsRequestBuilder().setLimit(30).setSearchKeyword(searchKey).build();\n        } else {\n            this.groupRequest = new CometChat.GroupsRequestBuilder().setLimit(30).build();\n        }\n    }\n\n    fetchNextGroups() {\n        return this.groupRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser, \"hasJoined\": false});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","export const groupWrapperStyle = (props, theme) => {\n    \n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const groupHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"70px\",\n\t};\n};\n\nexport const groupHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) left center no-repeat`,\n\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[0]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const groupHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n\n    return {\n        margin: \"0\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"22px\",\n        fontWeight: \"700\",\n        lineHeight: \"26px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const groupAddStyle = (img, theme) => {\n\n\treturn {\n\t\theight: \"24px\",\n\t\tcursor: \"pointer\",\n\t\ti: {\n\t\t\tdisplay: \"inline-block\",\n\t\t\twidth: \"24px\",\n\t\t\theight: \"24px\",\n\t\t\tmask: `url(${img}) center center no-repeat`,\n\t\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\t},\n\t};\n};\n\nexport const groupSearchStyle = () => {\n    \n    return {\n        margin: \"16px\",\n        position: \"relative\",\n        borderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        backgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        height: \"35px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const groupSearchButtonStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"100%\",\n\t\tpadding: \"8px 0 8px 8px\",\n\t\tcursor: \"default\",\n\t\tmask: `url(${img}) 10px center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}!important`,\n\t};\n};\n\nexport const groupSearchInputStyle = (props) => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        height: \"100%\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        fontWeight: \"400\",\n        lineHeight: \"20px\",\n        outline: \"none\",\n        border: \"none\",\n        color: props.theme.color.search,\n        backgroundColor: \"transparent\",\n    };\n}\n\nexport const groupMsgStyle = () => {\n    \n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\"\n    }\n}\n\nexport const groupMsgTxtStyle = theme => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const groupListStyle = () => {\n\n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\"\n    }\n}\n","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","export default __webpack_public_path__ + \"static/media/create.65daf562.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { GroupListManager } from \"./controller\";\n\nimport { CometChatCreateGroup, CometChatGroupListItem }  from \"../../Groups\";\nimport { CometChatToastNotification } from \"../../Shared\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n  groupWrapperStyle,\n  groupHeaderStyle,\n  groupHeaderCloseStyle,\n  groupHeaderTitleStyle,\n  groupAddStyle,\n  groupSearchStyle,\n  groupSearchButtonStyle,\n  groupSearchInputStyle,\n  groupMsgStyle,\n  groupMsgTxtStyle,\n  groupListStyle\n} from \"./style\";\n\nimport searchIcon from \"./resources/search.svg\";\nimport navigateIcon from \"./resources/back.svg\";\nimport addIcon from \"./resources/create.svg\";\n\nclass CometChatGroupList extends React.PureComponent {\n\titem;\n\ttimeout;\n\tloggedInUser = null;\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tgrouplist: [],\n\t\t\tcreateGroup: false,\n\t\t\tenableSearchGroup: false,\n\t\t\tenableCreateGroup: false,\n\t\t\tenableJoinGroup: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.groupListRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.enableSearchGroup();\n\t\tthis.enableCreateGroup();\n\t\tthis.enableJoinGroup();\n\n\t\tthis.GroupListManager = new GroupListManager();\n\t\tthis.getGroups();\n\t\tthis.GroupListManager.attachListeners(this.groupUpdated);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\t//if group detail(membersCount) is updated, update grouplist\n\t\tif (this.item && Object.keys(this.item).length && this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.item.guid === this.getContext().item.guid && this.item.membersCount !== this.getContext().item.membersCount) {\n\t\t\tconst groups = [...this.state.grouplist];\n\n\t\t\tlet groupKey = groups.findIndex(group => group.guid === this.getContext().item.guid);\n\t\t\tif (groupKey > -1) {\n\t\t\t\tconst groupObj = groups[groupKey];\n\t\t\t\tlet newGroupObj = Object.assign({}, groupObj, {membersCount: this.getContext().item.membersCount});\n\n\t\t\t\tgroups.splice(groupKey, 1, newGroupObj);\n\t\t\t\tthis.setState({grouplist: groups});\n\t\t\t}\n\t\t}\n\n\t\t//upon user deleting a group, remove group from group list\n\t\tif (this.getContext().deletedGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().deletedGroupId.trim();\n\n\t\t\tconst groups = [...this.state.grouplist];\n\t\t\tconst groupKey = groups.findIndex(group => group.guid === guid);\n\n\t\t\tif (groupKey > -1) {\n\t\t\t\tgroups.splice(groupKey, 1);\n\t\t\t\tthis.setState({grouplist: groups});\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.enableSearchGroup();\n\t\tthis.enableCreateGroup();\n\t\tthis.enableJoinGroup();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.GroupListManager = null;\n\t}\n\n\t/**\n\t * if search group feature is disabled\n\t */\n\tenableSearchGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupSearchEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSearchGroup) {\n\t\t\t\t\tthis.setState({enableSearchGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSearchGroup !== false) {\n\t\t\t\t\tthis.setState({enableSearchGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if create group feature is disabled\n\t */\n\tenableCreateGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupCreationEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableCreateGroup) {\n\t\t\t\t\tthis.setState({enableCreateGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCreateGroup !== false) {\n\t\t\t\t\tthis.setState({enableCreateGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if join group feature is disabled\n\t */\n\tenableJoinGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableJoinGroup) {\n\t\t\t\t\tthis.setState({enableJoinGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableJoinGroup !== false) {\n\t\t\t\t\tthis.setState({enableJoinGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgroupUpdated = (key, message, group, options) => {\n\t\tswitch (key) {\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\tthis.updateMemberChanged(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tthis.updateMemberRemoved(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tthis.updateMemberAdded(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tthis.updateMemberJoined(group, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateMemberRemoved = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\t\tlet membersCount = parseInt(group.membersCount);\n\t\t\t\tlet hasJoined = group.hasJoined;\n\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, hasJoined: hasJoined});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t} else {\n\t\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\t\tlet membersCount = parseInt(group.membersCount);\n\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t}\n\t\t}\n\t};\n\n\tupdateMemberAdded = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\n\t\t\tlet membersCount = parseInt(group.membersCount);\n\n\t\t\tlet scope = group.hasOwnProperty(\"scope\") ? group.scope : \"\";\n\t\t\tlet hasJoined = group.hasOwnProperty(\"hasJoined\") ? group.hasJoined : false;\n\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tscope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t\thasJoined = true;\n\t\t\t}\n\n\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, scope: scope, hasJoined: hasJoined});\n\n\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\tthis.setState({grouplist: grouplist});\n\t\t} else {\n\t\t\tlet groupObj = {...group};\n\n\t\t\tlet scope = groupObj.hasOwnProperty(\"scope\") ? groupObj.scope : \"\";\n\t\t\tlet hasJoined = groupObj.hasOwnProperty(\"hasJoined\") ? groupObj.hasJoined : false;\n\t\t\tlet membersCount = parseInt(groupObj.membersCount);\n\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tscope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t\thasJoined = true;\n\t\t\t}\n\n\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, scope: scope, hasJoined: hasJoined});\n\n\t\t\tgrouplist.unshift(newgroupObj);\n\t\t\tthis.setState({grouplist: grouplist});\n\t\t}\n\t};\n\n\tupdateMemberJoined = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\n\t\t\tlet scope = groupObj.scope;\n\t\t\tlet membersCount = parseInt(group.membersCount);\n\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tscope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t}\n\n\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, scope: scope});\n\n\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\tthis.setState({grouplist: grouplist});\n\t\t}\n\t};\n\n\tupdateMemberChanged = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {scope: options.scope});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t}\n\t\t}\n\t};\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getGroups();\n\t};\n\n\thandleClick = group => {\n\n\t\tif (!this.props.onItemClick) return;\n\n\t\tif (group.hasJoined === false) {\n\n\t\t\t//if join group feature is disabled\n\t\t\tif (this.state.enableJoinGroup === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet password = \"\";\n\t\t\tif (group.type === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\t\tpassword = prompt(Translator.translate(\"ENTER_YOUR_PASSWORD\", this.props.lang));\n\t\t\t}\n\n\t\t\tconst guid = group.guid;\n\t\t\tconst groupType = group.type;\n\n\t\t\tCometChat.joinGroup(guid, groupType, password)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (typeof response === \"object\" && Object.keys(response).length) {\n\t\t\t\t\t\tconst groups = [...this.state.grouplist];\n\n\t\t\t\t\t\tlet groupKey = groups.findIndex((g, k) => g.guid === guid);\n\t\t\t\t\t\tif (groupKey > -1) {\n\t\t\t\t\t\t\tconst groupObj = groups[groupKey];\n\t\t\t\t\t\t\tconst newGroupObj = Object.assign({}, groupObj, response, { scope: CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT });\n\n\t\t\t\t\t\t\tgroups.splice(groupKey, 1, newGroupObj);\n\t\t\t\t\t\t\tthis.setState({ grouplist: groups });\n\n\t\t\t\t\t\t\tthis.props.onItemClick(newGroupObj, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\n\t\t\t\t\tif (error.hasOwnProperty(\"code\") && error.code && error.code === \"ERR_WRONG_GROUP_PASS\") {\n\t\t\t\t\t\tthis.toastRef.setError(\"WRONG_PASSWORD\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t});\n\n\t\t} else {\n\t\t\tthis.props.onItemClick(group, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t}\n\t};\n\n\thandleMenuClose = () => {\n\t\tif (!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\tsearchGroup = e => {\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\tlet val = e.target.value;\n\t\tthis.timeout = setTimeout(() => {\n\t\t\t\n\t\t\tthis.setState({ grouplist: [], decoratorMessage: Translator.translate(\"LOADING\", this.props.lang) });\n\n\t\t\tthis.GroupListManager = new GroupListManager(val);\n\t\t\tthis.getGroups();\n\t\t}, 500);\n\t};\n\n\tgetGroups = () => {\n\t\tthis.GroupListManager.fetchNextGroups()\n\t\t\t.then(groupList => {\n\n\t\t\t\tif (groupList.length === 0) {\n\n\t\t\t\t\tif (this.state.grouplist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_GROUPS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ grouplist: [...this.state.grouplist, ...groupList], decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t};\n\n\tcreateGroupHandler = flag => {\n\t\tthis.setState({createGroup: flag});\n\t};\n\n\tcreateGroupActionHandler = (action, group) => {\n\t\tif (action === enums.ACTIONS[\"GROUP_CREATED\"]) {\n\t\t\tthis.handleClick(group);\n\n\t\t\tconst groupList = [...this.state.grouplist];\n\t\t\tgroupList.unshift(group);\n\n\t\t\tthis.setState({grouplist: groupList, createGroup: false});\n\t\t}\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet messageContainer = null;\n\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={groupMsgStyle()} className=\"groups__decorator-message\">\n\t\t\t\t\t<p css={groupMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst groups = this.state.grouplist.map(group => {\n\t\t\tlet selectedGroup = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid === group.guid ? group : null;\n\n\t\t\treturn <CometChatGroupListItem key={group.guid} group={group} selectedGroup={selectedGroup} clickHandler={this.handleClick} />;\n\t\t});\n\n\t\tlet createGroupBtn = (\n\t\t\t<div css={groupAddStyle(addIcon, theme)} title={Translator.translate(\"CREATE_GROUP\", this.props.lang)} onClick={() => this.createGroupHandler(true)}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t//if create group feature is disabled\n\t\tif (this.state.enableCreateGroup === false) {\n\t\t\tcreateGroupBtn = null;\n\t\t}\n\n\t\tlet closeBtn = <div css={groupHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet searchGroup = null;\n\t\tif (this.state.enableSearchGroup) {\n\t\t\tsearchGroup = (\n\t\t\t\t<div css={groupSearchStyle()} className=\"groups__search\">\n\t\t\t\t\t<button type=\"button\" className=\"search__button\" css={groupSearchButtonStyle(searchIcon, this.getContext())} />\n\t\t\t\t\t<input type=\"text\" autoComplete=\"off\" css={groupSearchInputStyle(this.props)} className=\"search__input\" placeholder={Translator.translate(\"SEARCH\", this.props.lang)} onChange={this.searchGroup} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet createGroup = null;\n\t\tif(this.state.createGroup) {\n\t\t\tcreateGroup = <CometChatCreateGroup theme={this.props.theme} close={() => this.createGroupHandler(false)} actionGenerated={this.createGroupActionHandler} />;\t\n\t\t}\n\n\t\tconst groupListTemplate = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={groupWrapperStyle(this.props, theme)} className=\"groups\">\n\t\t\t\t\t<div css={groupHeaderStyle(theme)} className=\"groups__header\">\n\t\t\t\t\t\t{closeBtn}\n\t\t\t\t\t\t<h4 css={groupHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t\t{Translator.translate(\"GROUPS\", this.props.lang)}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t{createGroupBtn}\n\t\t\t\t\t</div>\n\t\t\t\t\t{searchGroup}\n\t\t\t\t\t{messageContainer}\n\t\t\t\t\t<div css={groupListStyle()} className=\"groups__list\" onScroll={this.handleScroll} ref={el => (this.groupListRef = el)}>\n\t\t\t\t\t\t{groups}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{createGroup}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tlet groupListWrapper = groupListTemplate;\n\t\t//if used as a standalone component, add errorboundary and context provider\n\t\tif (this.props._parent === \"\") {\n\t\t\tgroupListWrapper = <CometChatContextProvider ref={el => (this.contextProviderRef = el)}>{groupListTemplate}</CometChatContextProvider>;\n\t\t}\n\n\t\treturn groupListWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => {},\n\t_parent: \"\"\n};\n\nCometChatGroupList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatGroupList };\n","export const listItem = (props, context) => {\n\n    const selectedState = (props.selectedGroup && props.selectedGroup.guid === props.group.guid) ? {\n        backgroundColor: `${context.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${context.theme.backgroundColor.primary}`\n        }\n    }\n}\n\nexport const listItemName = context => {\n\treturn {\n\t\tfontSize: \"15px\",\n\t\tfontWeight: \"600\",\n\t\tmaxWidth: \"calc(100% - 30px)\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t\tmargin: \"0\",\n\t\tlineHeight: \"22px\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const listItemIcon = () => {\n\n    return {\n        width: \"24px\",\n        height: \"auto\",\n        margin: \"0 8px\",\n    }\n}\n\nexport const itemIconStyle = (img, context) => {\n\n    return {\n        display: \"inline-block\",\n        width: \"24px\",\n        height: \"24px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const itemThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const itemDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 70px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemNameWrapperStyle = () => { \n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"100%\",\n        margin: \"0\",\n    }\n}\n\nexport const itemDescStyle = (context) => { \n\n    return {\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        padding: \"0 0 5px 0\",\n        fontSize: \"13px\",\n        fontWeight: \"400\",\n        lineHeight: \"20px\",\n        color: `${context.theme.color.helpText}`,\n        \"&:hover\": {\n            borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        }\n    }\n}\n","export default __webpack_public_path__ + \"static/media/password-protected-group.d47aaeec.svg\";","export default __webpack_public_path__ + \"static/media/private-group.bc4d777a.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar } from \"../../Shared\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tlistItem,\n\tlistItemIcon,\n\titemIconStyle,\n\titemThumbnailStyle,\n\titemDetailStyle,\n\titemNameWrapperStyle,\n\titemDescStyle,\n\tlistItemName  \n} from \"./style\";\n\nimport shieldIcon from \"./resources/password-protected-group.svg\";\nimport lockIcon from \"./resources/private-group.svg\";\n\nclass CometChatGroupListItem extends React.PureComponent {\n\n\tstatic contextType = CometChatContext;\n\t\n\ttoggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t}\n\n\tclickHandler = () => {\n\t\tthis.props.clickHandler(this.props.group);\n\t}\n\n\trender() {\n\n\t\tlet groupTypeIcon = null;\n\t\tif (this.props.group.type === CometChat.GROUP_TYPE.PRIVATE) {\n\n\t\t\tgroupTypeIcon = (<i css={itemIconStyle(shieldIcon, this.context)} title={Translator.translate(\"PRIVATE_GROUP\", this.context.language)}></i>);\n\n\t\t} else if (this.props.group.type === CometChat.GROUP_TYPE.PASSWORD) {\n\n\t\t\tgroupTypeIcon = (<i css={itemIconStyle(lockIcon, this.context)} title={Translator.translate(\"PROTECTED_GROUP\", this.context.language)}></i>);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={listItem(this.props, this.context)} className=\"list__item\" onClick={this.clickHandler}>\n\t\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t\t<CometChatAvatar group={this.props.group} />\n\t\t\t\t</div>\n\t\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={itemNameWrapperStyle()} className=\"item__details__name\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t<p css={listItemName(this.context)}>{this.props.group.name}</p>\n\t\t\t\t\t\t<div css={listItemIcon()}>{groupTypeIcon}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={itemDescStyle(this.context)} className=\"item__details__desc\">{`${this.props.group.membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupListItem.defaultProps = {\n\ttheme: theme,\n\tgroup: {},\n\tselectedGroup: {},\n\tclickHandler: () => { }\n};\n\nCometChatGroupListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tselectedGroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)]),\n\tgroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)]),\n\tclickHandler: PropTypes.func\n}\n\nexport { CometChatGroupListItem };\n","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"50%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[3]]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : {\n        textAlign: \"left\",\n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"16px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\twidth: \"100%\",\n        height: \"31px\"\n\t};\n};\n\nexport const modalListStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 70px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const listHeaderStyle = (context) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        fontWeight: \"bold\",\n        padding: \"8px\",\n        width: \"100%\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n    }\n}\n\nexport const listStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        width: \"100%\",\n        height: \"calc(100% - 33px)\",\n        overflowY: \"auto\",\n    }\n}\n\nexport const nameColumnStyle = (context, editAccess) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (editAccess === null) ? {\n\n        width: \"calc(100% - 180px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 140px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 180px)\",\n        }\n\n    } : {\n        width: \"calc(100% - 260px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 220px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 260px)\",\n        },\n        [mq[3]]: {\n            width: \"calc(100% - 240px)\",\n        }\n    };\n\n    return {\n        ...widthProp\n    }\n}\n\nexport const scopeColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"180px\",\n        marginRight: \"8px\",\n        [mq[1]]: {\n            width: \"140px\"\n        },\n        [mq[2]]: {\n            width: \"180px\",\n        },\n        [mq[3]]: {\n            width: \"120px\",\n        }\n    }\n}\n\nexport const actionColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"70px\",\n        [mq[1]]: {\n            width: \"40px\"\n        },\n        [mq[2]]: {\n            width: \"40px\"\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatViewGroupMemberListItem } from \"../../Groups\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    listStyle,\n    nameColumnStyle,\n    scopeColumnStyle,\n    actionColumnStyle,\n    modalErrorStyle\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatViewGroupMemberList extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tconst chatWindow = context.UIKitSettings.chatWindow;\n\t\tthis.mq = chatWindow.matchMedia(this.context.theme.breakPoints[1]);\n\n\t\tthis.state = {\n\t\t\tuserColumnTitle: \"\",\n\t\t\terrorMessage: \"\",\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateUserColumnTitle();\n\t}\n    \n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.lang !== this.props.lang) {\n\t\t\tthis.updateUserColumnTitle();\n\t\t}\n\t}\n\n\tupdateUserColumnTitle = () => {\n\t\tlet userColumnTitle = Translator.translate(\"NAME\", this.props.lang);\n\t\tif (this.mq.matches) {\n\t\t\tuserColumnTitle = Translator.translate(\"AVATAR\", this.props.lang);\n\t\t}\n\n\t\tthis.setState({ userColumnTitle });\n\t};\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]);\n\t\t}\n\t};\n\n\tupdateMembers = (action, member, scope) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"BAN_GROUP_MEMBER\"]:\n\t\t\t\tthis.banMember(member);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"KICK_GROUP_MEMBER\"]:\n\t\t\t\tthis.kickMember(member);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CHANGE_SCOPE_GROUP_MEMBER\"]:\n\t\t\t\tthis.changeScope(member, scope);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tbanMember = memberToBan => {\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.banGroupMember(guid, memberToBan.uid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"BAN_GROUPMEMBER_SUCCESS\");\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"], memberToBan);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n\t};\n\n\tkickMember = memberToKick => {\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.kickGroupMember(guid, memberToKick.uid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"], memberToKick);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n\t};\n\n\tchangeScope = (member, scope) => {\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.updateGroupMemberScope(guid, member.uid, scope)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"SCOPECHANGE_GROUPMEMBER_SUCCESS\");\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: scope });\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"], updatedMember);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n\t};\n\n\tsetUserColumnTitle = editAccess => {\n\t\tif (this._isMounted) {\n\t\t\tif (editAccess !== null && this.mq.matches) {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"AVATAR\", this.context.language) });\n\t\t\t} else {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"NAME\", this.context.language) });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tconst membersList = [...this.context.groupMembers];\n\n\t\tconst groupMembers = membersList.map((member, key) => {\n\t\t\treturn (\n\t\t\t\t<CometChatViewGroupMemberListItem\n\t\t\t\t\tloggedinuser={this.props.loggedinuser}\n\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\tkey={key}\n\t\t\t\t\tmember={member}\n\t\t\t\t\tenableChangeScope={this.props.enableChangeScope}\n\t\t\t\t\tenableBanGroupMembers={this.props.enableBanGroupMembers}\n\t\t\t\t\tenableKickGroupMembers={this.props.enableKickGroupMembers}\n\t\t\t\t\tactionGenerated={this.updateMembers}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\n\t\tlet editAccess = null;\n\t\tif (this.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\teditAccess = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={actionColumnStyle(this.context)} className=\"ban\">\n\t\t\t\t\t\t{Translator.translate(\"BAN\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={actionColumnStyle(this.context)} className=\"kick\">\n\t\t\t\t\t\t{Translator.translate(\"KICK\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t\tif (this.props.enableKickGroupMembers === false && this.props.enableBanGroupMembers === false) {\n\t\t\t\teditAccess = null;\n\t\t\t}\n\t\t}\n\n\t\tthis.mq.addListener(editAccess => this.setUserColumnTitle(editAccess));\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.context)} className=\"modal__viewmembers\">\n\t\t\t\t\t<span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"GROUP_MEMBERS\", this.context.language)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={modalErrorStyle(this.context)} className=\"modal__error\">\n\t\t\t\t\t\t\t{this.state.errorMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={modalListStyle()} className=\"modal__content\">\n\t\t\t\t\t\t\t<div css={listHeaderStyle(this.context)} className=\"content__header\">\n\t\t\t\t\t\t\t\t<div css={nameColumnStyle(this.context, editAccess)} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.userColumnTitle}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={scopeColumnStyle(this.context)} className=\"scope\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"SCOPE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{editAccess}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={listStyle()} className=\"content__list\" onScroll={this.handleScroll}>\n\t\t\t\t\t\t\t\t{groupMembers}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatViewGroupMemberList.defaultProps = {\n\ttheme: theme,\n\tuserColumnTitle: \"\",\n\tenableChangeScope: false,\n\tenableKickGroupMembers: false,\n\tenableBanGroupMembers: false\n};\n\nCometChatViewGroupMemberList.propTypes = {\n\ttheme: PropTypes.object,\n\tuserColumnTitle: PropTypes.string,\n\tenableChangeScope: PropTypes.bool,\n\tenableKickGroupMembers: PropTypes.bool,\n\tenableBanGroupMembers: PropTypes.bool\n};\n\nexport { CometChatViewGroupMemberList };","export const modalRowStyle = (context) => {\n\n    return {\n        borderLeft: `1px solid ${context.theme.borderColor.primary}`,\n        borderRight: `1px solid ${context.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        padding: \"8px\",\n    }\n}\n\nexport const nameColumnStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (participantView) ? {\n\n        width: \"calc(100% - 180px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 140px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 180px)\",\n        }\n\n    } : {\n        width: \"calc(100% - 260px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 220px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 260px)\",\n        },\n        [mq[3]]: {\n            width: \"calc(100% - 240px)\",\n        }\n    };\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        ...widthProp\n    }\n}\n\nexport const avatarStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const marginProp = (participantView) ? {\n        marginRight: \"8px\",\n    } : {\n        marginRight: \"8px\",\n        [mq[1]]: {\n            marginRight: \"0\",\n        }\n    };\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n        ...marginProp\n    }\n}\n\nexport const nameStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (participantView) ? {\n        width: \"100%\"\n    } : {\n        width: \"calc(100% - 50px)\"\n    };\n\n    const displayProp = (participantView) ? {\n        display: \"inline\",\n        [mq[1]]: {\n            display: \"inline\"\n        }\n\n    } : {\n        display: \"inline\",\n        [mq[1]]: {\n            display: \"none\"\n        }\n    }\n    \n    return {\n        margin: \"8px 0\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        ...widthProp,\n        ...displayProp\n    }\n}\n\nexport const scopeColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        width: \"180px\",\n        \"img\": {\n            width: \"24px\",\n            height: \"24px\",\n            cursor: \"pointer\",\n        },\n        [mq[1]]: {\n            width: \"140px\"\n        },\n        [mq[2]]: {\n            width: \"180px\",\n        },\n        [mq[3]]: {\n            width: \"120px\",\n        }\n    }\n}\n\nexport const scopeWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        transition: \"opacity .1s linear\",\n        \"img\": {\n            margin: \"0px 4px\",\n        }\n    }\n}\n\nexport const scopeSelectionStyle = () => {\n\n    return {\n        width: \"65%\",\n        border: \"0\",\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        borderRadius: \"8px\",\n        backgroundColor: `rgba(20, 20, 20, 0.04)`,\n        padding: \"8px\",\n        color: `rgba(20, 20, 20, 0.6)`,\n        float: \"left\",\n    }\n}\n\nexport const scopeIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const roleStyle = () => {\n\n    return {\n        fontSize: \"12px\",\n        maxWidth: \"calc(100% - 20px)\"\n    }\n}\n\nexport const actionColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"70px\",\n        [mq[1]]: {\n            width: \"40px\"\n        },\n        [mq[2]]: {\n            width: \"40px\"\n        }\n    }\n}\n\nexport const banIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const kickIconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tcursor: \"pointer\",\n\t\tbackground: `url(${img}) center center no-repeat`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/edit.35ebcb35.svg\";","export default __webpack_public_path__ + \"static/media/done.bf5ee0cc.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/ban-member.f8856b3d.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalRowStyle,\n    nameColumnStyle,\n    avatarStyle,\n    nameStyle,\n    roleStyle,\n    scopeColumnStyle,\n    scopeIconStyle,\n    actionColumnStyle,\n    banIconStyle,\n    kickIconStyle,\n    scopeWrapperStyle,\n    scopeSelectionStyle\n} from \"./style\";\n\nimport scopeIcon from \"./resources/edit.svg\";\nimport doneIcon from \"./resources/done.svg\";\nimport clearIcon from \"./resources/close.svg\";\nimport banIcon from \"./resources/ban-member.svg\";\nimport kickIcon from \"./resources/delete.svg\";\n\nclass CometChatViewGroupMemberListItem extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n\n        super(props, context);\n\n        this.changeScopeDropDown = (\n            <select \n            className=\"members-scope-select\"\n            onChange={this.scopeChangeHandler}\n            defaultValue={this.props.member.scope}></select>\n        )\n\n        this.state = {\n            showChangeScope: false,\n            scope: null\n        }\n\n        this.roles = context.roles;\n    }\n\n    toggleChangeScope = (flag) => {\n        this.setState({ showChangeScope: flag });\n    }\n\n    scopeChangeHandler = (event) => {\n        this.setState({scope: event.target.value});\n    }\n\n    updateMemberScope = () => {\n        this.props.actionGenerated(enums.ACTIONS[\"CHANGE_SCOPE_GROUP_MEMBER\"], this.props.member, this.state.scope);\n        this.toggleChangeScope();\n    }\n\n    toggleTooltip = (event, flag) => {\n\n        const elem = event.currentTarget;\n        \n        if (elem.classList.contains(\"name\")) {\n\n            const scrollWidth = elem.scrollWidth;\n            const clientWidth = elem.clientWidth;\n            \n            if (scrollWidth <= clientWidth) {\n                return false;\n            }\n        }\n\n        if(flag) {\n            elem.setAttribute(\"title\", this.props.member.name);\n        } else {\n            elem.removeAttribute(\"title\");\n        }\n    }\n\n    render() {\n\n        let editClassName = \"\";\n    \n        let name = this.props.member.name;\n        let scope = <span css={roleStyle()}>{this.context.roles[this.props.member.scope]}</span>;\n        let changescope = null;\n        let ban = (<i css={banIconStyle(banIcon, this.context)} title={Translator.translate(\"BAN\", this.context.language)} onClick={() => { this.props.actionGenerated(enums.ACTIONS[\"BAN_GROUP_MEMBER\"], this.props.member)}}></i>);\n        let kick = (<i css={kickIconStyle(kickIcon, this.context)} title={Translator.translate(\"KICK\", this.context.language)} onClick={() => { this.props.actionGenerated(enums.ACTIONS[\"KICK_GROUP_MEMBER\"], this.props.member)}}></i>);\n        \n\n        if(this.state.showChangeScope) {\n\n            let options = (\n                <React.Fragment>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]}</option>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.MODERATOR}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]}</option>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.ADMIN}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.ADMIN]}</option>\n                </React.Fragment>\n            );\n\n            if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR\n                && this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\n                options = (\n                    <React.Fragment>\n                        <option value={CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]}</option>\n                        <option value={CometChat.GROUP_MEMBER_SCOPE.MODERATOR}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]}</option>\n                    </React.Fragment>\n                );\n            }\n\n            changescope = (\n                <div css={scopeWrapperStyle()} className=\"scope__wrapper\">\n                    <select css={scopeSelectionStyle()} className=\"scope__select\" onChange={this.scopeChangeHandler} defaultValue={this.props.member.scope}>\n                        {options}\n                    </select>\n                    <i css={scopeIconStyle(doneIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={this.updateMemberScope}></i>\n                    <i css={scopeIconStyle(clearIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={() => this.toggleChangeScope(false)}></i>\n                </div>\n            );\n\n        } else {\n\n            if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n                changescope = scope;\n            } else {\n                changescope = (\n                    <React.Fragment>\n                        {scope}\n                        <i css={scopeIconStyle(scopeIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={() => this.toggleChangeScope(true)}></i>\n                    </React.Fragment>\n                );\n            }\n        }\n\n        //disable change scope, kick, ban of group owner\n        if (this.context.item.owner === this.props.member.uid) {\n            scope = (<span css={roleStyle()}>{Translator.translate(\"OWNER\", this.context.language)}</span>);\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //disable change scope, kick, ban of self\n        if (this.props.loggedinuser.uid === this.props.member.uid) {\n            name = Translator.translate(\"YOU\", this.context.language);\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //if the loggedin user is moderator, don't allow to change scope, ban, kick group moderators or administrators\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR \n        && (this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN || this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR)) {\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //if the loggedin user is administrator but not group owner, don't allow to change scope, ban, kick group administrators\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN\n        && this.context.item.owner !== this.props.loggedinuser.uid \n        && this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n        \n        let editAccess = null;\n        //if the loggedin user is participant, don't show the option to change scope, ban, or kick group members\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n            editAccess = null;\n            editClassName = \"true\";\n        } else {\n\n            editAccess = (\n                <React.Fragment>\n                    <div css={actionColumnStyle(this.context)} className=\"ban\">{ban}</div>\n                    <div css={actionColumnStyle(this.context)} className=\"kick\">{kick}</div>\n                </React.Fragment>\n            );\n\n            /**\n             * if kick and ban feature is disabled\n             */\n            if (this.props.enableBanGroupMembers === false && this.props.enableKickGroupMembers === false) {\n                editAccess = null;\n            } else if (this.props.enableBanGroupMembers === false) { //if ban feature is disabled\n                editAccess = (\n                    <div css={actionColumnStyle(this.context)} className=\"kick\">{kick}</div>\n                );\n            } else if (this.props.enableKickGroupMembers === false) { //if kick feature is disabled\n                editAccess = (\n                    <div css={actionColumnStyle(this.context)} className=\"ban\">{ban}</div>\n                );\n            }\n\n            /**\n             * if promote_demote_members feature is disabled\n             */\n            if (this.props.enableChangeScope === false) {\n                changescope = scope;\n            }\n        }\n\n        let userPresence = (\n            <CometChatUserPresence status={this.props.member.status} />\n        );\n        \n        return (\n            <div css={modalRowStyle(this.context)} className=\"content__row\">\n                <div css={nameColumnStyle(this.context, editClassName)} className=\"userinfo\">\n                    <div css={avatarStyle(this.context, editClassName)} className=\"thumbnail\"\n                    onMouseEnter={event => this.toggleTooltip(event, true)}\n                    onMouseLeave={event => this.toggleTooltip(event, false)}>\n                        <CometChatAvatar user={this.props.member} />\n                        {userPresence}\n                    </div>\n                    <div css={nameStyle(this.context, editClassName)} className=\"name\"\n                    onMouseEnter={event => this.toggleTooltip(event, true)}\n                    onMouseLeave={event => this.toggleTooltip(event, false)}>{name}</div>\n                </div>\n                <div css={scopeColumnStyle(this.context)} className=\"scope\">{changescope}</div>\n                {editAccess}\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatViewGroupMemberListItem.defaultProps = {\n\tloggedinuser: {},\n\tenableChangeScope: false,\n};\n\nCometChatViewGroupMemberListItem.propTypes = {\n\tloggedinuser: PropTypes.shape(CometChat.User),\n\tenableChangeScope: PropTypes.bool\n};\n\nexport { CometChatViewGroupMemberListItem };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport {UIKitSettings} from \"../../../util/UIKitSettings\";\n\nexport class AddMembersManager {\n\tmembersRequest = null;\n\tuserListenerId = new Date().getTime();\n\n\tconstructor(context, searchKey) {\n\n\t\tthis.context = context;\n\t\tthis.searchKey = searchKey;\n\t}\n\n\tinitializeMembersRequest = () => {\n\n\t\tconst userListMode = this.context.UIKitSettings.userListMode;\n\t\tconst userListModeOptions = UIKitSettings.userListFilterOptions;\n\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\tif (userListMode === userListModeOptions[\"ALL\"]) {\n\n\t\t\t\tif (this.searchKey) {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).setSearchKeyword(this.searchKey).build();\n\t\t\t\t} else {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).build();\n\t\t\t\t}\n\n\t\t\t\treturn resolve(this.membersRequest);\n\t\t\t} else if (userListMode === userListModeOptions[\"FRIENDS\"]) {\n\n\t\t\t\tif (this.searchKey) {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).setSearchKeyword(this.searchKey).build();\n\t\t\t\t} else {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).build();\n\t\t\t\t}\n\n\t\t\t\treturn resolve(this.membersRequest);\n\t\t\t} else {\n\t\t\t\treturn reject({message: \"Invalid filter for userlist\"});\n\t\t\t}\n\t\t});\n\t};\n\n\tfetchNextUsers() {\n\t\treturn this.membersRequest.fetchNext();\n\t}\n\n\tattachListeners(callback) {\n\t\tCometChat.addUserListener(\n\t\t\tthis.userListenerId,\n\t\t\tnew CometChat.UserListener({\n\t\t\t\tonUserOnline: onlineUser => {\n\t\t\t\t\t/* when someuser/friend comes online, user will be received here */\n\t\t\t\t\tcallback(onlineUser);\n\t\t\t\t},\n\t\t\t\tonUserOffline: offlineUser => {\n\t\t\t\t\t/* when someuser/friend went offline, user will be received here */\n\t\t\t\t\tcallback(offlineUser);\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeUserListener(this.userListenerId);\n\t}\n}","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[0]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : { \n        textAlign: \"left\", \n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"16px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = (context) => {\n\n    return {\n        fontSize: \"12px\",\n        color: `${context.theme.color.red}`,\n        textAlign: \"center\",\n        margin: \"8px 0\",\n        width: \"100%\",\n    };\n}\n\nexport const modalSearchStyle = () => {\n\treturn {\n\t\tfontWeight: \"normal\",\n\t\tmarginBottom: \"16px\",\n\t\twidth: \"100%\",\n        height: \"35px\",\n\t\tborderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n\t\tbackgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\t};\n};\n\nexport const searchButtonStyle = (img, context) => {\n\n    return {\n        width: \"30px\",\n        height: \"100%\",\n        padding: \"8px\",\n        cursor: \"default\",\n        mask: `url(${img}) 10px center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}!important`,\n    }\n}\n\nexport const searchInputStyle = () => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        height: \"100%\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        outline: \"none\",\n        border: \"none\",\n        backgroundColor: \"transparent\",\n    };\n}\n\nexport const modalListStyle = (context) => {\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        display: \"flex\",\n        width: \"100%\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalFootStyle = (props, state, img, context) => {\n\n    const loadingState = (state.addingMembers) ? {\n        disabled: \"true\",\n        pointerEvents: \"none\",\n        background: `url(${img}) ${context.theme.primaryColor} no-repeat right 10px center`,\n    } : {};\n\n    const textMargin = state.addingMembers ? { marginRight: \"24px\" } : {};\n    \n    return {\n        margin: \"24px auto 0 auto\",\n        \"button\": {\n            cursor: \"pointer\",\n            padding: \"8px 16px\",\n            backgroundColor: `${context.theme.primaryColor}`,\n            borderRadius: \"5px\",\n            color: \"white\",\n            fontSize: \"14px\",\n            outline: \"0\",\n            border: \"0\",\n            ...loadingState,\n            \"span\": {\n                ...textMargin\n            }\n        },\n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"55%\",\n    }\n}\n\nexport const contactMsgTxtStyle = context => {\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"30px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/adding.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { AddMembersManager } from \"./controller\";\n\nimport { CometChatAddGroupMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalSearchStyle,\n    searchButtonStyle,\n    searchInputStyle,\n    modalListStyle,\n    modalFootStyle,\n    contactMsgStyle,\n    contactMsgTxtStyle,\n    modalErrorStyle\n} from \"./style\";\n\nimport addingIcon from \"./resources/adding.svg\";\nimport searchIcon from \"./resources/search.svg\";\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatAddGroupMemberList extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            userlist: [],\n            membersToAdd: [],\n            filteredlist: [],\n            addingMembers: false,\n            decoratorMessage: Translator.translate(\"LOADING\", context.language),\n            errorMessage: \"\"\n        }\n    }\n\n    componentDidMount() {\n\n        this.AddMembersManager = new AddMembersManager(this.context);\n        this.AddMembersManager.initializeMembersRequest().then(() => {\n\n            this.getUsers();\n            this.AddMembersManager.attachListeners(this.userUpdated);\n        });\n    }\n\n    componentWillUnmount() {\n\n        this.AddMembersManager.removeListeners();\n        this.AddMembersManager = null;\n    }\n\n    userUpdated = (user) => {\n        \n        let userlist = [...this.state.userlist];\n  \n        //search for user\n        let userKey = userlist.findIndex((u, k) => u.uid === user.uid);\n      \n        //if found in the list, update user object\n        if(userKey > -1) {\n\n            let userObj = userlist[userKey];\n            let newUserObj = Object.assign({}, userObj, user);\n            userlist.splice(userKey, 1, newUserObj);\n    \n            this.setState({ userlist: userlist });\n        }\n    }\n\n    handleScroll = (e) => {\n      const bottom =\n        Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n      if (bottom) this.getUsers();\n    }\n    \n    searchUsers = (e) => {\n  \n        if (this.timeout) {\n            clearTimeout(this.timeout);\n        }\n\n        let val = e.target.value;\n        \n        this.AddMembersManager = new AddMembersManager(this.context, val);\n        this.AddMembersManager.initializeMembersRequest().then(() => {\n\n            this.timeout = setTimeout(() => {\n                this.setState({ userlist: [], membersToAdd: [], membersToRemove: [], filteredlist: [], decoratorMessage: Translator.translate(\"LOADING\", this.context.language) }, () => this.getUsers());\n            }, 500);\n\t\t\t\t\t\t\t\n        });\n    }\n  \n    getUsers = () => {\n  \n        this.AddMembersManager.fetchNextUsers()\n            .then(userList => {\n                const filteredUserList = userList.filter(user => {\n                    const found = this.context.groupMembers.find(member => user.uid === member.uid);\n                    const foundbanned = this.context.bannedGroupMembers.find(member => user.uid === member.uid);\n                    if (found || foundbanned) {\n                        return false;\n                    }\n                    return true;\n                });\n\n                if (filteredUserList.length === 0) {\n                    this.setState({ decoratorMessage: Translator.translate(\"NO_USERS_FOUND\", this.context.language) });\n                }\n\n                this.setState({ userlist: [...this.state.userlist, ...userList], filteredlist: [...this.state.filteredlist, ...filteredUserList] });\n            })\n            .catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    membersUpdated = (user, userState) => {\n\n        if(userState) {\n\n            const members = [...this.state.membersToAdd];\n            members.push(user);\n            this.setState({membersToAdd: [...members]});\n\n        } else {\n\n            const membersToAdd = [...this.state.membersToAdd];\n            const IndexFound = membersToAdd.findIndex(member => member.uid === user.uid);\n            if(IndexFound > -1) {\n                membersToAdd.splice(IndexFound, 1);\n                this.setState({membersToAdd: [...membersToAdd]})\n            }\n        }\n    }\n\n    updateMembers = () => {\n        \n        const guid = this.context.item.guid;\n        const membersList = [];\n\n        this.state.membersToAdd.forEach(newmember => {\n            //if a selected member is already part of the member list, don't add\n            const IndexFound = this.context.groupMembers.findIndex(member => member.uid === newmember.uid);\n            if(IndexFound === -1) {\n                \n                const newMember = new CometChat.GroupMember(newmember.uid, CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT);\n                membersList.push(newMember);\n\n                newmember[\"type\"] = \"add\";\n            }\n        });\n\n        if(membersList.length) {\n\n            this.setState({ addingMembers: true });\n\n            const membersToAdd = [];\n            CometChat.addMembersToGroup(guid, membersList, []).then(response => {\n\n                if (Object.keys(response).length) {\n                        \n                    for (const member in response) {\n\n                        if(response[member] === \"success\") {\n\n                            const found = this.state.userlist.find(user => user.uid === member);\n                            found[\"scope\"] = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n                            membersToAdd.push(found);\n                        }\n                    }\n\n                    this.props.actionGenerated(enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"], membersToAdd);\n                }\n                this.setState({ addingMembers: false });\n                this.props.close();\n\n            }).catch(error => {\n                \n                this.setState({ addingMembers: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n                \n            });\n        }\n    }\n\n    render() {\n\n        const createText = this.state.addingMembers ? Translator.translate(\"ADDING\", this.context.language) : Translator.translate(\"ADD\", this.context.language);\n        let addGroupMemberBtn = (\n            <div css={modalFootStyle(this.props, this.state, addingIcon, this.context)} className=\"modal__addmembers\">\n                <button type=\"button\" onClick={this.updateMembers}><span>{createText}</span></button>\n            </div>\n        );\n\n        let messageContainer = null;\n        if (this.state.filteredlist.length === 0) {\n\n            messageContainer = (\n                <div css={contactMsgStyle()} className=\"members__decorator-message\">\n                    <p css={contactMsgTxtStyle(this.context)} className=\"decorator-message\">{this.state.decoratorMessage}</p>\n                </div>\n            );\n            addGroupMemberBtn = null;\n        }\n\n        let currentLetter = \"\";\n        const filteredUserList = [...this.state.filteredlist];\n        const users = filteredUserList.map(user => {\n\n            const chr = user.name[0].toUpperCase();\n            let firstLetter = null;\n            if(chr !== currentLetter) {\n                currentLetter = chr;\n                firstLetter = currentLetter;\n            }\n\n            return (\n                <React.Fragment key={user.uid}>\n                    <CometChatAddGroupMemberListItem \n                    theme={this.props.theme}\n                    firstLetter={firstLetter}\n                    user={user}\n                    changed={this.membersUpdated} />\n                </React.Fragment>\n            )\n        });\n\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__addmembers\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">{Translator.translate(\"USERS\", this.context.language)}</div>\n                        <div css={modalErrorStyle(this.context)} className=\"modal__error\">{this.state.errorMessage}</div>\n                        <div css={modalSearchStyle()} className=\"modal__search\">\n                            <button type=\"button\" className=\"search__button\" css={searchButtonStyle(searchIcon, this.context)} />\n                            <input\n                            type=\"text\"\n                            autoComplete=\"off\"\n                            css={searchInputStyle()}\n                            className=\"search__input\"\n                            placeholder={Translator.translate(\"SEARCH\", this.context.language)}\n                            onChange={this.searchUsers} />\n                        </div>\n                        {messageContainer}\n                        <div css={modalListStyle(this.context)} onScroll={this.handleScroll} className=\"modal__content\">{users}</div>\n                        {addGroupMemberBtn}\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatAddGroupMemberList.defaultProps = {\n    theme: theme\n};\n\nCometChatAddGroupMemberList.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatAddGroupMemberList };\n","export const modalRowStyle = (theme) => {\n\n    return {\n        border: `1px solid ${theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        \"&:not(:last-child)\": {\n            borderBottom: \"none\"\n        }\n    }\n}\n\nexport const modalColumnStyle = () => {\n\n    return {\n        padding: \"8px\",\n        width: \"calc(100% - 50px)\",\n    }\n}\n\nexport const avatarStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        float: \"left\",\n        width: \"36px\",\n        height: \"36px\",\n        marginRight: \"8px\",\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        margin: \"10px\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const selectionColumnStyle = () => {\n\n    return {\n        padding: \"8px\",\n        width: \"50px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    }\n}\n\nexport const selectionBoxStyle = (inactiveStateImg, activeStateImg, theme) => {\n\n    return {\n        display: \"none\",\n        \" + label\": {\n            display: \"block\",\n            cursor: \"pointer\",\n            userSelect: \"none\",\n            padding: \"8px\",\n            width: \"100%\",\n            mask: `url(${inactiveStateImg}) center center no-repeat`,\n            backgroundColor: `${theme.secondaryTextColor}`,\n        },\n        \"&:checked + label\": {\n            width: \"100%\",\n            mask: `url(${activeStateImg}) center center no-repeat`,\n            backgroundColor: `${theme.secondaryTextColor}`,\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/group-member-unselect.ecb59147.svg\";","export default __webpack_public_path__ + \"static/media/group-member-select.301a1077.svg\";","import { useState, useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmodalRowStyle,\n\tmodalColumnStyle,\n\tavatarStyle,\n\tnameStyle,\n\tselectionColumnStyle,\n\tselectionBoxStyle\n} from \"./style\";\n\nimport inactiveIcon from \"./resources/group-member-unselect.svg\";\nimport activeIcon from \"./resources/group-member-select.svg\";\n\nconst CometChatAddGroupMemberListItem = (props) => {\n\n\tconst { groupMembers, theme } = useContext(CometChatContext);\n\n\tconst [checked, setChecked] = useState(() => {\n\t\tconst found = groupMembers.find(member => member.uid === props.user.uid);\n\t\tconst value = (found) ? true : false;\n\n\t\treturn value;\n\t});\n\n\tconst handleCheck = (event) => {\n\n\t\tconst value = (checked === true) ? false : true;\n\t\tsetChecked(value);\n\t\tprops.changed(props.user, value);\n\t}\n\n\tconst toggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.currentTarget;\n\t\tconst nameContainer = elem.lastChild;\n\n\t\tconst scrollWidth = nameContainer.scrollWidth;\n\t\tconst clientWidth = nameContainer.clientWidth;\n\t\t\n\t\tif(scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif(flag) {\n\t\t\tnameContainer.setAttribute(\"title\", nameContainer.textContent);\n\t\t} else {\n\t\t\tnameContainer.removeAttribute(\"title\");\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div css={modalRowStyle(theme)}>\n\t\t\t<div css={modalColumnStyle()} className=\"userinfo\" onMouseEnter={event => toggleTooltip(event, true)} onMouseLeave={event => toggleTooltip(event, false)}>\n\t\t\t\t<div css={avatarStyle()} className=\"avatar\">\n\t\t\t\t\t<CometChatAvatar user={props.user} />\n\t\t\t\t\t<CometChatUserPresence status={props.user.status} />\n\t\t\t\t</div>\n\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t{props.user.name}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div css={selectionColumnStyle()} className=\"selection\">\n\t\t\t\t<input css={selectionBoxStyle(inactiveIcon, activeIcon, theme)} type=\"checkbox\" checked={checked} id={props.user.uid + \"sel\"} onChange={handleCheck} />\n\t\t\t\t<label htmlFor={props.user.uid + \"sel\"}>&nbsp;</label>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n// Specifies the default values for props:\nCometChatAddGroupMemberListItem.defaultProps = {\n\ttheme: theme\n};\n\nCometChatAddGroupMemberListItem.propTypes = {\n\ttheme: PropTypes.object\n}\n\nexport { CometChatAddGroupMemberListItem };","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : {\n        textAlign: \"left\",\n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"8px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = context => {\n\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\twidth: \"100%\",\n\t\theight: \"31px\",\n\t};\n};\n\nexport const modalListStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 70px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const listHeaderStyle = (context) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        fontWeight: \"bold\",\n        padding: \"8px\",\n        width: \"100%\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n    };\n}\n\nexport const nameColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"calc(100% - 220px)\",\n        [mq[0]]: {\n            width: \"calc(100% - 185px)\",\n        },\n        [mq[1]]: {\n            width: \"calc(100% - 185px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 185px)\",\n        },\n    };\n}\n\nexport const roleColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n\treturn {\n\t\twidth: \"150px\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t};\n};\n\nexport const actionColumnStyle = () => {\n\n    return {\n        width: \"70px\"\n    }\n}\n\nexport const listStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        width: \"100%\",\n        height: \"calc(100% - 33px)\",\n        overflowY: \"auto\",        \n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"55%\",\n    }\n}\n\nexport const contactMsgTxtStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        height: \"30px\",\n        color: `${context.theme.color.secondary}`,\n        fontSize: \"20px!important\",\n        fontWeight: \"600\"\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBanGroupMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    contactMsgStyle,\n    contactMsgTxtStyle,\n    modalErrorStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    nameColumnStyle,\n    roleColumnStyle,\n    actionColumnStyle,\n    listStyle,\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatBanGroupMemberList extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            membersToBan: [],\n            membersToUnBan: [],\n            decoratorMessage: Translator.translate(\"LOADING\", Translator.getDefaultLanguage()),\n            errorMessage: \"\"\n        }\n    }\n\n    componentDidMount() {\n\n        if (this.context.bannedGroupMembers.length === 0) {\n            this.setState({ decoratorMessage: Translator.translate(\"NO_BANNED_MEMBERS_FOUND\", this.context.language) });\n        } else {\n            this.setState({ decoratorMessage: \"\" });\n        }\n    }\n\n    componentDidUpdate() {\n        \n        if (this.context.bannedGroupMembers.length === 0 && this.state.decoratorMessage === \"\") {\n            this.setState({ decoratorMessage: Translator.translate(\"NO_BANNED_MEMBERS_FOUND\", this.context.language) });\n        } else if (this.context.bannedGroupMembers.length && this.state.decoratorMessage.length) {\n            this.setState({ decoratorMessage: \"\" });\n        }\n    }\n\n    unbanMember = (memberToUnBan) => {\n\n        const guid = this.context.item.guid;\n        CometChat.unbanGroupMember(guid, memberToUnBan.uid).then(response => {\n            \n            if(response) {\n                this.props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"], [memberToUnBan]);\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n\n        }).catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    updateMembers = (action, member) => {\n\n        switch(action) {\n            case enums.ACTIONS[\"UNBAN_GROUP_MEMBER\"]:\n                this.unbanMember(member);\n                break;\n            default:\n                break;\n        }\n    }\n\n    handleScroll = (e) => {\n\n        const bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n        if (bottom) {\n            this.props.actionGenerated(enums.ACTIONS[\"FETCH_BANNED_GROUP_MEMBERS\"]);\n        }\n    }\n    \n    render() {\n        \n        const membersList = [...this.context.bannedGroupMembers];\n        const bannedMembers = membersList.map((member, key) => {\n\n            return (\n                <CometChatBanGroupMemberListItem \n                key={member.uid} \n                member={member}\n                loggedinuser={this.props.loggedinuser}\n                actionGenerated={this.updateMembers} />);\n\n        });\n\n        let messageContainer = null;\n        if (this.state.decoratorMessage.length !== 0) {\n\n            messageContainer = (\n                <div css={contactMsgStyle()} className=\"bannedmembers__decorator-message\">\n                    <p css={contactMsgTxtStyle(this.context)} className=\"decorator-message\">{this.state.decoratorMessage}</p>\n                </div>\n            );\n        }\n        \n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__bannedmembers\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">\n                            {Translator.translate(\"BANNED_MEMBERS\", this.context.language)}\n                        </div>\n                        <div css={modalErrorStyle(this.context)} className=\"modal__error\">\n                            {this.state.errorMessage}\n                        </div>\n\n                        <div css={modalListStyle()} className=\"modal__content\">\n                            <div css={listHeaderStyle(this.context)} className=\"content__header\">\n                                <div css={nameColumnStyle(this.props)} className=\"name\">\n                                    {Translator.translate(\"NAME\", this.context.language)}\n                                </div>\n                                <div css={roleColumnStyle(this.context)} className=\"role\">\n                                    {Translator.translate(\"SCOPE\", this.context.language)}\n                                </div>\n                                <div css={actionColumnStyle(this.context)} className=\"unban\">\n                                    {Translator.translate(\"UNBAN\", this.context.language)}\n                                </div>\n                            </div>\n                            {messageContainer}\n                            <div css={listStyle(this.props)} className=\"content__list\" onScroll={this.handleScroll}>\n                                {bannedMembers}\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatBanGroupMemberList.defaultProps = {\n    theme: theme\n};\n\nCometChatBanGroupMemberList.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatBanGroupMemberList };\n","export const modalRowStyle = (context) => {\n\n    return {\n        borderLeft: `1px solid ${context.theme.borderColor.primary}`,\n        borderRight: `1px solid ${context.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        padding: \"8px\",\n    };\n}\n\nexport const userStyle = context => {\n    \n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n\treturn {\n\t\twidth: \"calc(100% - 220px)\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t};\n};\n\nexport const avatarStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        float: \"left\",\n        width: \"36px\",\n        height: \"36px\",\n        marginRight: \"8px\",\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        margin: \"10px 0 0 0\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\"\n    }\n}\n\nexport const roleStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `${x}`);\n\n    return {\n        width: \"150px\",\n        fontSize: \"12px\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"115px\"\n        }\n    }\n}\n\nexport const actionStyle = (img, context) => {\n\n    return {\n        width: \"70px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            cursor: \"pointer\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`,\n            display: \"inline-block\"\n        },\n    };\n}","export default __webpack_public_path__ + \"static/media/ban-member.f8856b3d.svg\";","import { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalRowStyle,\n    userStyle,\n    avatarStyle,\n    nameStyle,\n    roleStyle,\n    actionStyle\n} from \"./style\";\n\nimport unban from \"./resources/ban-member.svg\";\n\nconst CometChatBanGroupMemberListItem = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    let name = props.member.name;\n    let scope = context.roles[props.member.scope];\n    let unBan = (<i title={Translator.translate(\"UNBAN\", context.language)} onClick={() => { props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER\"], props.member)}} />);\n\n    //if the loggedin user is moderator, don't allow unban of banned moderators or administrators\n    if (context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR \n    && (props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN || props.member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR)) {\n        unBan = null;\n    }\n\n    //if the loggedin user is administrator, don't allow unban of banned administrators\n    if (context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN && props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n        if (context.item.owner !== props.loggedinuser.uid) {\n            unBan = null;\n        }\n    }\n\n    const toggleTooltip = (event, flag) => {\n\n        const elem = event.currentTarget;\n        const nameContainer = elem.lastChild;\n    \n        const scrollWidth = nameContainer.scrollWidth;\n        const clientWidth = nameContainer.clientWidth;\n        \n        if(scrollWidth <= clientWidth) {\n          return false;\n        }\n    \n        if(flag) {\n          nameContainer.setAttribute(\"title\", nameContainer.textContent);\n        } else {\n          nameContainer.removeAttribute(\"title\");\n        }\n    }\n    \n    return (\n        <div css={modalRowStyle(context)}>\n            <div css={userStyle(context)} className=\"userinfo\"\n            onMouseEnter={event => toggleTooltip(event, true)}\n            onMouseLeave={event => toggleTooltip(event, false)}>\n                <div css={avatarStyle()} className=\"avatar\">\n                    <CometChatAvatar user={props.member} />\n                    <CometChatUserPresence\n                    status={props.member.status}\n                    borderColor={props.theme.borderColor.primary} />\n                </div>\n                <div css={nameStyle()} className=\"name\">{name}</div>\n            </div>\n            <div css={roleStyle(context)} className=\"role\">{scope}</div>\n            <div css={actionStyle(unban, context)} className=\"unban\">{unBan}</div>\n        </div>\n    );\n}\n\n// Specifies the default values for props:\nCometChatBanGroupMemberListItem.defaultProps = {\n    theme: theme\n};\n\nCometChatBanGroupMemberListItem.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatBanGroupMemberListItem };\n","export const groupScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const groupScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \".groups\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const groupScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatGroupList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingDirectCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tgroupScreenStyle,\n\tgroupScreenSidebarStyle,\n\tgroupScreenMainStyle,\n} from \"./style\"\n\nclass CometChatGroupListWithMessages extends React.Component {\n\n\tloggedInUser = null;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.groupListRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (group, type) => {\n\t\t\n\t\tthis.contextProviderRef.setTypeAndItem(type, group);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\t/**\n\t If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n\t*/\n\tgroupUpdated = (key, message, group, options) => {\n\t\t\n\t\tswitch(key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.item, {\"scope\": options[\"scope\"]})\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t\t<CometChatMessages\n\t\t\ttheme={this.props.theme}\n\t\t\tlang={this.props.lang}\n\t\t\t_parent=\"groups\"\n\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={groupScreenStyle(this.props)} className=\"cometchat cometchat--groups\">\n\t\t\t\t\t<div css={groupScreenSidebarStyle(this.state, this.props)} className=\"groups__sidebar\">\n\t\t\t\t\t\t<CometChatGroupList ref={el => (this.groupListRef = el)} _parent=\"glwm\" theme={this.props.theme} lang={this.props.lang} onItemClick={this.itemClicked} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={groupScreenMainStyle(this.state, this.props)} className=\"groups__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithGroup: \"\",\n};\n\nCometChatGroupListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatGroupListWithMessages };","export const modalWrapperStyle = (props, context) => {\n\n\tconst mq = [`@media (min-width : 320px) and (max-width: 767px)`];\n\treturn {\n\t\tminWidth: \"350px\",\n\t\tminHeight: \"450px\",\n\t\twidth: \"40%\",\n\t\theight: \"40%\",\n\t\toverflow: \"hidden\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tposition: \"fixed\",\n\t\tleft: \"50%\",\n\t\ttop: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\tzIndex: \"1002\",\n\t\tmargin: \"0 auto\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n\t\tborderRadius: \"12px\",\n\t\tdisplay: \"block\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n};\n\nexport const modalCloseStyle = (img, context) => {\n\treturn {\n\t\tposition: \"absolute\",\n\t\twidth: \"32px\",\n\t\theight: \"32px\",\n\t\tborderRadius: \"50%\",\n\t\ttop: \"16px\",\n\t\tright: \"16px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcursor: \"pointer\",\n\t};\n};\n\nexport const modalBodyStyle = () => {\n\treturn {\n\t\tpadding: \"24px\",\n\t\theight: \"100%\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalCaptionStyle = dir => {\n\tconst textAlignStyle =\n\t\tdir === \"rtl\" ? {\n\t\t\ttextAlign: \"right\",\n\t\t\tpaddingRight: \"32px\",\n\t\t}\n\t\t: {\n\t\t\ttextAlign: \"left\",\n\t\t};\n\n\treturn {\n\t\tfontSize: \"20px\",\n\t\tmarginBottom: \"8px\",\n\t\tfontWeight: \"bold\",\n\t\t...textAlignStyle,\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\theight: \"31px\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalListStyle = (context) => {\n\treturn {\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 120px)\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const listHeaderStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\tfontWeight: \"bold\",\n\t\tpadding: \"8px\",\n\t\twidth: \"100%\",\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\nexport const listStyle = () => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"flex-start\",\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 100px)\",\n\t\toverflowY: \"auto\",\n\t};\n};\n\nexport const nameColumnStyle = (props, context) => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"calc(100% - 180px)\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 140px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 180px)\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"calc(100% - 120px)\",\n\t\t},\n\t};\n};\n\nexport const scopeColumnStyle = (context) => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"180px\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"140px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"180px\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"120px\",\n\t\t},\n\t};\n};\n\n\n\nexport const modalFootStyle = (state, context, img) => {\n\n\tconst btnState = !state.newGroupOwner || state.transferringOwnership ? { \n\t\tdisabled: \"true\",\n\t\tpointerEvents: \"none\",\n\t} : {};\n\n\tconst loadingState = state.transferringOwnership ? {\n\t\tbackground: `url(${img}) no-repeat right 10px center ${context.theme.backgroundColor.blue}`,\n\t} : {};\n\n\tconst textMargin = state.transferringOwnership ? { marginRight: \"24px\" } : {};\n\n\treturn {\n\t\tpaddingTop: \"24px\",\n\t\ttextAlign: \"center\",\n\t\tbutton: {\n\t\t\tcursor: \"pointer\",\n\t\t\tpadding: \"8px 16px\",\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.blue}`,\n\t\t\tborderRadius: \"5px\",\n\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\tfontSize: \"14px\",\n\t\t\toutline: \"0\",\n\t\t\tborder: \"0\",\n\t\t\t...btnState,\n\t\t\t...loadingState,\n\t\t\tspan: {\n\t\t\t\t...textMargin,\n\t\t\t},\n\t\t},\n\t};\n};","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/transferring.446449d0.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatTransferOwnershipMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    listStyle,\n    nameColumnStyle,\n    scopeColumnStyle,\n\tmodalFootStyle,\n\tmodalErrorStyle\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\nimport transferIcon from \"./resources/transferring.svg\";\n\nclass CometChatTransferOwnershipMemberList extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis._isMounted = false;\n\t\tconst chatWindow = context.UIKitSettings.chatWindow;\n\t\tthis.mq = chatWindow.matchMedia(context.theme.breakPoints[1]);\n\n\t\tlet userColumnTitle = Translator.translate(\"NAME\", context.language);\n\t\tif (this.mq.matches) {\n\t\t\tuserColumnTitle = Translator.translate(\"AVATAR\", context.language);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tuserColumnTitle: userColumnTitle,\n\t\t\tnewGroupOwner: null,\n\t\t\ttransferringOwnership: false,\n\t\t\terrorMessage: \"\",\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]);\n\t\t}\n\t};\n\n\tupdateMembers = (action, member, scope) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CHANGE_OWNERSHIP_GROUP_MEMBER\"]:\n\t\t\t\tthis.changeOwnership(member, scope);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateGroupOwner = member => {\n\t\tthis.setState({ newGroupOwner: member?.uid });\n\t};\n\n\ttransferOwnership = () => {\n\n\t\tconst guid = this.context?.item?.guid;\n\t\tconst uid = this.state.newGroupOwner;\n\n\t\tif (!guid || !uid) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ transferringOwnership: true });\n\t\tCometChat.transferGroupOwnership(guid, uid).then(response => {\n\t\t\tthis.setState({ transferringOwnership: false });\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OWNERSHIP_TRANSFERRED\"], uid);\n\n\t\t}).catch(error => {\n\t\t\tthis.setState({ transferringOwnership: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t});\n\t};\n\n\tchangeOwnership = () => {};\n\n\tsetUserColumnTitle = editAccess => {\n\t\tif (this._isMounted) {\n\t\t\tif (editAccess !== null && this.mq.matches) {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"AVATAR\", this.context.language) });\n\t\t\t} else {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"NAME\", this.context.language) });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\n\t\tconst memberList = [...this.context.groupMembers];\n\t\tconst groupMembers = memberList\n\t\t\t.filter(member => member?.uid !== this.props?.loggedinuser?.uid)\n\t\t\t.map(member => {\n\t\t\t\treturn <CometChatTransferOwnershipMemberListItem loggedinuser={this.props.loggedinuser} key={member?.uid} checked={this.updateGroupOwner} member={member} actionGenerated={this.updateMembers} />;\n\t\t\t});\n\n\t\tlet transferBtn = null;\n\t\tif(memberList.length) {\n\n\t\t\tconst transferText = this.state.transferringOwnership ? Translator.translate(\"TRANSFERRING\", this.context.language) : Translator.translate(\"TRANSFER\", this.context.language);\n\t\t\ttransferBtn = (\n\t\t\t\t<div css={modalFootStyle(this.state, this.context, transferIcon)} className=\"modal__transferownership\">\n\t\t\t\t\t<button type=\"button\" onClick={this.transferOwnership}>\n\t\t\t\t\t\t<span>{transferText}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.props, this.context)} className=\"modal__groupmembers\">\n\t\t\t\t\t<span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">{Translator.translate(\"GROUP_MEMBERS\", this.context.language)}</div>\n\t\t\t\t\t\t<div css={modalErrorStyle(this.context)} className=\"modal__error\">{this.state.errorMessage}</div>\n\t\t\t\t\t\t<div css={modalListStyle(this.context)} className=\"modal__content\">\n\t\t\t\t\t\t\t<div css={listHeaderStyle(this.context)} className=\"content__header\">\n\t\t\t\t\t\t\t\t<div css={nameColumnStyle(this.props, this.context)} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.userColumnTitle}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={scopeColumnStyle(this.context)} className=\"scope\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"SCOPE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={listStyle()} className=\"content__list\" onScroll={this.handleScroll}>\n\t\t\t\t\t\t\t\t{groupMembers}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{transferBtn}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport { CometChatTransferOwnershipMemberList };\n","export const modalRowStyle = (props, context) => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\twidth: \"100%\",\n\t\tfontSize: \"14px\",\n\t\tpadding: \"8px\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\tborderLeft: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderRight: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\nexport const modalColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"calc(100% - 180px)\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 140px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 180px)\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"calc(100% - 120px)\",\n\t\t},\n\t};\n};\n\nexport const avatarStyle = () => {\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfloat: \"left\",\n\t\twidth: \"36px\",\n\t\theight: \"36px\",\n\t\tmarginRight: \"8px\",\n\t};\n};\n\nexport const nameStyle = () => {\n\treturn {\n\t\tmargin: \"10px\",\n\t\twidth: \"calc(100% - 50px)\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t};\n};\n\nexport const selectionColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"180px\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\t\"span\": {\n\t\t\tfontSize: \"12px\",\n\t\t\tdisplay: \"block\",\n\t\t\tpaddingRight: \"8px\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"140px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"180px\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"120px\",\n\t\t},\n\t};\n\n};\n\nexport const selectionBoxStyle = (inactiveStateImg, activeStateImg, context) => {\n\treturn {\n\t\tdisplay: \"none\",\n\t\t\" + label\": {\n\t\t\tdisplay: \"block\",\n\t\t\tcursor: \"pointer\",\n\t\t\tmask: `url(${inactiveStateImg}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\t\tuserSelect: \"none\",\n\t\t\tpadding: \"8px\",\n\t\t},\n\t\t\"&:checked + label\": {\n\t\t\tmask: `url(${activeStateImg}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\t\tpadding: \"8px\",\n\t\t},\n\t};\n};","export default __webpack_public_path__ + \"static/media/group-member-unselect.ecb59147.svg\";","export default __webpack_public_path__ + \"static/media/group-member-select.301a1077.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { modalRowStyle, modalColumnStyle, avatarStyle, nameStyle, selectionColumnStyle, selectionBoxStyle } from \"./style\";\n\nimport inactiveIcon from \"./resources/group-member-unselect.svg\";\nimport activeIcon from \"./resources/group-member-select.svg\";\n\nclass CometChatTransferOwnershipMemberListItem extends React.Component {\n\tstatic contextType = CometChatContext;\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisSelected: false,\n\t\t};\n\t}\n\n\thandleCheck = e => {\n\t\t\n\t\tthis.setState(this.toggleSelectedState);\n\t\tthis.props.checked(this.props.member);\n\t};\n\n\ttoggleSelectedState = state => {\n\t\treturn {\n\t\t\tisSelected: !state.isSelected,\n\t\t};\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.currentTarget;\n\t\tconst nameContainer = elem.lastChild;\n\n\t\tconst scrollWidth = nameContainer.scrollWidth;\n\t\tconst clientWidth = nameContainer.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\tnameContainer.setAttribute(\"title\", nameContainer.textContent);\n\t\t} else {\n\t\t\tnameContainer.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div css={modalRowStyle(this.props, this.context)}>\n\t\t\t\t<div css={modalColumnStyle(this.context)} className=\"memberinfo\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t<div css={avatarStyle()} className=\"avatar\">\n\t\t\t\t\t\t<CometChatAvatar user={this.props.member} />\n\t\t\t\t\t\t<CometChatUserPresence status={this.props.member.status} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t{this.props.member.name}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div css={selectionColumnStyle(this.context)} className=\"selection\">\n\t\t\t\t\t<span>{this.context.roles[this.props.member.scope]}</span>\n\t\t\t\t\t<input css={selectionBoxStyle(inactiveIcon, activeIcon, this.context)} type=\"radio\" name=\"transferOwnership\" checked={this.state.checked} id={this.props.member.uid + \"sel\"} onChange={this.handleCheck} />\n\t\t\t\t\t<label htmlFor={this.props.member.uid + \"sel\"}>&nbsp;</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { CometChatTransferOwnershipMemberListItem };","export const chatWrapperStyle = (props, state) => {\n\n\tlet borderStyle = {};\n\tif (props._parent.trim().length === 0) {\n\t\tif (state.viewdetailscreen || state.threadmessageview) {\n\t\t\tborderStyle = {\n\t\t\t\tborderLeft: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderBottom: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t};\n\t\t} else {\n\t\t\tborderStyle = {\n\t\t\t\tborderLeft: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderRight: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderBottom: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t};\n\t\t}\n\t}\n\n\tconst mq = [...props.theme.breakPoints];\n\n\tconst secondaryViewWidth = (state.threadmessageview || state.viewdetailscreen) ? {\n        width: \"calc(100% - 400px)\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        },\n        [`@media ${mq[3]}, ${mq[4]}`]: {\n            width: \"0\",\n            display: \"none\",\n        },\n    } : {\n        width: \"100%\",\n    };\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"relative\",\n\t\tfontFamily: `${props.theme.fontFamily}`,\n\t\t...borderStyle,\n\t\t...secondaryViewWidth,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${props.theme.fontFamily}`,\n\t\t\t\"::-webkit-scrollbar\": {\n\t\t\t\twidth: \"8px\",\n\t\t\t\theight: \"4px\",\n\t\t\t},\n\t\t\t\"::-webkit-scrollbar-track\": {\n\t\t\t\tbackground: \"#ffffff00\",\n\t\t\t},\n\t\t\t\"::-webkit-scrollbar-thumb\": {\n\t\t\t\tbackground: \"#ccc\",\n\t\t\t\t\"&:hover\": {\n\t\t\t\t\tbackground: \"#aaa\",\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const chatSecondaryStyle = (props) => {\n\n    const borderStyle = (props._parent.trim().length === 0) ? {\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        float: \"right\",\n        borderLeft: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        width: \"400px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        order: \"3\",\n        ...borderStyle,\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\n            position: \"absolute!important\",\n            right: \"0!important\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n        }\n    }\n}\n\nexport const reactionsWrapperStyle = () => {\n\n    return {\n        position: \"absolute\", \n        width: \"100%\", \n        height: \"100%\", \n        top: \"0\", \n        right: \"0\",\n        zIndex: \"2\",\n        display: \"flex\",\n        justifyContent: \"left\",\n        alignItems: \"center\"\n    }\n}\n\n\nexport const messagePaneTopStyle = () => {\n\n    return {\n        top: \"75px\",\n        position: \"absolute\",\n        width: \"auto\",\n        right: \"auto\",\n        left: \"50%\",\n        fontWeight: \"700\",\n        zIndex: \"200\",\n        transform: \"translateX(-50%)\",\n    }\n}\n\nexport const messagePaneBannerStyle = props => {\n\n\treturn {\n\t\tmarginBottom: \"0\",\n\t\tdisplay: \"block\",\n\t\tfontSize: \"13px\",\n\t\tflex: \"1\",\n\t\tbackground: `${props.theme.color.blue}`,\n\t\tborderRadius: \"6px\",\n\t\tzIndex: 200,\n\t};\n};\n\nexport const messagePaneUnreadBannerStyle = () => {\n\n    return {\n        height: \"28px\",\n        borderRadius: \"14px\",\n        display: \"flex\",\n        flex: \"1\",\n        alignItems: \"center\",\n    }\n}\n\nexport const messagePaneUnreadBannerMessageStyle = props => {\n\n\treturn {\n\t\tpadding: \"0 16px\",\n\t\tflex: \"1\",\n\t\ttextAlign: \"center\",\n\t\ttextShadow: \"0 1px rgba(0, 0, 0, .15)\",\n\t\twhiteSpace: \"nowrap\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\tcolor: `${props.theme.color.white}`,\n\t};\n};\n\nexport const iconArrowDownStyle = () => {\n\n    return {\n        position: \"relative\",\n        display: \"inline-flex\",\n        height: \"20px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        paddingRight: \"8px\",\n    }\n}\n\nexport const chatContainerStyle = () => {\n\n    return {\n        display: \"flex\", \n        width: \"100%\", \n        height: \"100%\"\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport {CometChat} from \"@cometchat-pro/chat\";\n\nimport {\n\tCometChatMessageHeader, \n\tCometChatMessageList, \n\tCometChatMessageComposer, \n\tCometChatLiveReactions, \n\tCometChatMessageThread, \n\tCometChatImageViewer,\n\tCometChatBlockedUser\n} from \"../\";\n\nimport {\n\tCometChatIncomingCall, \n\tCometChatOutgoingCall, \n\tCometChatOutgoingDirectCall, \n\tCometChatIncomingDirectCall\n} from \"../../Calls\";\n\nimport {CometChatUserDetails} from \"../../Users\";\nimport {CometChatGroupDetails} from \"../../Groups\";\nimport { CometChatToastNotification } from \"../../Shared\";\n\nimport {CometChatContextProvider, CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport {checkMessageForExtensionsData} from \"../../../util/common\";\nimport {SoundManager} from \"../../../util/SoundManager\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport {theme} from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tchatWrapperStyle, \n\tchatSecondaryStyle, \n\treactionsWrapperStyle, \n\tmessagePaneTopStyle, \n\tmessagePaneBannerStyle, \n\tmessagePaneUnreadBannerStyle, \n\tmessagePaneUnreadBannerMessageStyle, \n\ticonArrowDownStyle, \n\tchatContainerStyle\n} from \"./style\";\n\nclass CometChatMessages extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\n\t\tthis.state = {\n\t\t\tmessageList: [],\n\t\t\tscrollToBottom: true,\n\t\t\tmessageToBeEdited: \"\",\n\t\t\treplyPreview: null,\n\t\t\tliveReaction: false,\n\t\t\tmessageToReact: null,\n\t\t\tunreadMessages: [],\n\t\t\tviewdetailscreen: false,\n\t\t\tthreadmessageview: false,\n\t\t\tthreadmessagetype: null,\n\t\t\tthreadmessageitem: {},\n\t\t\tthreadmessageparent: {},\n\t\t\tviewOriginalImage: false,\n\t\t\tenableGroupActionMessages: false,\n\t\t\tenableCallActionMessages: false,\n\t\t\tenableSendingOneOnOneMessage: false,\n\t\t\tenableSendingGroupMessage: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.composerRef = React.createRef();\n\t\tthis.messageListRef = React.createRef();\n\t\tthis.outgoingCallRef = React.createRef();\n\t\tthis.outgoingDirectCallRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.reactionName = \"heart\";\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\n\t\tthis.type = this.getContext().type;\n\t\tthis.item = this.getContext().item;\n\n\t\tthis.enableGroupActionMessages();\n\t\tthis.enableCallActionMessages();\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t\n\t\tif (Object.keys(this.item).length) {\n\t\t\tconst ifChatWindowChanged = () => {\n\t\t\t\tlet output = false;\n\n\t\t\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && (this.getContext().item.uid !== this.item.uid || this.getContext().item.blockedByMe !== this.item.blockedByMe)) {\n\t\t\t\t\toutput = true;\n\t\t\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid !== this.item.guid) {\n\t\t\t\t\toutput = true;\n\t\t\t\t} else if (this.type !== this.getContext().type) {\n\t\t\t\t\toutput = true;\n\t\t\t\t}\n\n\t\t\t\treturn output;\n\t\t\t};\n\n\t\t\tif (ifChatWindowChanged() === true) {\n\t\t\t\tthis.setState({ messageList: [], scrollToBottom: true, messageToBeEdited: \"\", threadmessageview: false, viewdetailscreen: false, unreadMessages: [] });\n\t\t\t}\n\t\t}\n\n\t\tthis.type = this.getContext().type;\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : {};\n\n\t\tthis.enableGroupActionMessages();\n\t\tthis.enableCallActionMessages();\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\n\t\t/**\n\t\t * Custom message to be appended or updated for direct calling\n\t\t */\n\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\tif (\n\t\t\t\tObject.keys(this.getContext().directCallCustomMessage).length &&\n\t\t\t\tthis.getContext().directCallCustomMessageAction.trim().length &&\n\t\t\t\t(this.getContext().directCallCustomMessage !== this.directCallCustomMessage || this.getContext().directCallCustomMessageAction !== this.directCallCustomMessageAction)\n\t\t\t) {\n\t\t\t\tconst customMessage = this.getContext().directCallCustomMessage;\n\t\t\t\tconst messageAction = this.getContext().directCallCustomMessageAction.trim();\n\n\t\t\t\tswitch (messageAction) {\n\t\t\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]:\n\t\t\t\t\t\tthis.appendMessage(customMessage);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]: {\n\t\t\t\t\t\tthis.messageSent(customMessage);\n\t\t\t\t\t\t//this.getContext().setLastMessage(customMessage[0]);\n\t\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...customMessage[0] });\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.getContext().setDirectCallCustomMessage({}, \"\");\n\t\t\t\t\t\t}, 1000);\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.directCallCustomMessage = this.getContext().directCallCustomMessage;\n\t\t\tthis.directCallCustomMessageAction = this.getContext().directCallCustomMessageAction.trim();\n\t\t}\n\t}\n\n\tenableGroupActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableGroupActionMessages) {\n\t\t\t\t\tthis.setState({ enableGroupActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableGroupActionMessages !== false) {\n\t\t\t\t\tthis.setState({ enableGroupActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableCallActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isCallActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableCallActionMessages) {\n\t\t\t\t\tthis.setState({ enableCallActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCallActionMessages !== false) {\n\t\t\t\t\tthis.setState({ enableCallActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingOneOnOneMessage = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isOneOnOneChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingOneOnOneMessage) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingOneOnOneMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingGroupMessage = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingGroupMessage) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingGroupMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\tactionHandler = (action, messages, key, group, options) => {\n\n\t\tswitch (action) \n\t\t{\n\t\t\tcase enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"]:\n\t\t\tcase enums.ACTIONS[\"MESSAGE_RECEIVED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst message = messages[0];\n\t\t\t\t\tif (message.parentMessageId) {\n\t\t\t\t\t\tthis.updateReplyCount(messages);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.smartReplyPreview(messages);\n\t\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\t}\n\n\t\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"], this.getContext());\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_READ\"]: {\n\t\t\t\tif (this.props?.actionGenerated) {\n\t\t\t\t\tthis.props?.actionGenerated(action, messages);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]: {\n\t\t\t\tthis.appendMessage(messages);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...messages[0] });\n\t\t\t\t//this.getContext().setLastMessage(messages[0]);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_EDITED\"]: {\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\t//update the parent message of thread message\n\t\t\t\tthis.updateParentThreadedMessage(key, \"edit\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_DELETED\"]: {\n\t\t\t\tthis.removeMessages(messages);\n\t\t\t\t//remove the thread message\n\t\t\t\tthis.updateParentThreadedMessage(messages[0], \"delete\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGES_FETCHED\"]:\n\t\t\t\tthis.prependMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]:\n\t\t\t\tthis.prependMessagesAndScrollToBottom(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REFRESHING_MESSAGES\"]:\n\t\t\t\tthis.refreshingMessages();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_REFRESHED\"]:\n\t\t\t\tthis.messageRefreshed(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"NEW_MESSAGES\"]:\n\t\t\t\tthis.newMessagesArrived(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_UNREAD_MESSAGES\"]:\n\t\t\t\tthis.jumpToMessages(true);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.deleteMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.editMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_EDITED\"]:\n\t\t\t\tthis.messageEdited(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]:\n\t\t\t\tthis.clearEditPreview();\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tthis.groupUpdated(action, messages, group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED:\n\t\t\tcase enums.OUTGOING_CALL_REJECTED:\n\t\t\t\tthis.appendCallMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"]:\n\t\t\t\tthis.toggleOriginalImageView(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INITIATE_AUDIO_CALL\"]:\n\t\t\t\tthis.audioCall();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INITIATE_VIDEO_CALL\"]:\n\t\t\t\tthis.videoCall();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_DETAIL\"]:\n\t\t\tcase enums.ACTIONS[\"CLOSE_GROUP_DETAIL\"]:\n\t\t\tcase enums.ACTIONS[\"CLOSE_USER_DETAIL\"]:\n\t\t\t\tthis.toggleDetailView();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleDetailView();\n\t\t\t\tthis.props.actionGenerated(action);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SEND_LIVE_REACTION\"]:\n\t\t\t\tthis.toggleReaction(true);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"STOP_LIVE_REACTION\"]:\n\t\t\t\tthis.toggleReaction(false);\n\t\t\t\tbreak;\n\t\t\tcase enums.TRANSIENT_MESSAGE_RECEIVED:\n\t\t\t\tthis.liveReactionReceived(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.reactToMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ACCEPTED\"]:\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_REJECTED\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_ACCEPTED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_REJECTED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"JOIN_DIRECT_CALL\"]: {\n\t\t\t\t//if used in a chat widget, trigger the event to the app component as directcall component is included outside of iframe\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(action, messages);\n\t\t\t\t} else {\n\t\t\t\t\tconst sessionID = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item.guid : null;\n\t\t\t\t\tthis.outgoingDirectCallRef.joinCall(sessionID);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.viewThreadedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"THREAD_MESSAGE_COMPOSED\"]:\n\t\t\t\tthis.threadMessageComposed(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLOSE_THREADED_MESSAGE\"]:\n\t\t\t\tthis.closeThreadedMessage();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberAddedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberUnbannedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberScopeChangedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberKickedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberBannedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ERROR\"]:\n\t\t\t\tthis.errorHandler(key);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INFO\"]:\n\t\t\t\tthis.infoMessageHandler(key);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\terrorHandler = errorCode => {\n\t\tif (typeof this.toastRef.setError === \"function\") {\n\t\t\tthis.toastRef?.setError(errorCode);\n\t\t}\n\t};\n\n\tinfoMessageHandler = infoCode => {\n\t\tif (typeof this.toastRef.setInfo === \"function\") {\n\t\t\tthis.toastRef?.setInfo(infoCode);\n\t\t}\n\t};\n\n\tappendMemberAddedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_ADDED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberUnbannedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_UNBANNED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t};\n\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberScopeChangedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst newScope = Translator.translate(eachMember.scope, this.props.lang);\n\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tnewScope: newScope,\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberKickedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_KICKED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberBannedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_BANNED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\ttoggleOriginalImageView = message => {\n\t\tthis.setState({ viewOriginalImage: message });\n\t};\n\n\ttoggleDetailView = () => {\n\t\tlet viewdetail = !this.state.viewdetailscreen;\n\t\tthis.setState({ viewdetailscreen: viewdetail, threadmessageview: false });\n\t};\n\n\tviewThreadedMessage = parentMessage => {\n\t\tconst message = { ...parentMessage };\n\t\tconst threaditem = { ...this.getContext().item };\n\t\tthis.setState({\n\t\t\tthreadmessageview: true,\n\t\t\tthreadmessageparent: message,\n\t\t\tthreadmessageitem: threaditem,\n\t\t\tthreadmessagetype: this.getContext().type,\n\t\t\tviewdetailscreen: false,\n\t\t});\n\t};\n\n\tthreadMessageComposed = messages => {\n\t\tif (this.getContext().type !== this.state.threadmessagetype) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ((this.state.threadmessagetype === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid !== this.state.threadmessageitem.guid) || (this.state.threadmessagetype === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid !== this.state.threadmessageitem.uid)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.updateReplyCount(messages);\n\t};\n\n\tcloseThreadedMessage = () => {\n\t\tthis.setState({ threadmessageview: false, viewdetailscreen: false });\n\t};\n\n\t/*\n\tUpdating parent message of threaded conversation, when the message is edited or deleted\n\t*/\n\tupdateParentThreadedMessage = (message, action) => {\n\t\tif (this.state.threadmessageview === false || message.id !== this.state.threadmessageparent.id) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tthis.setState({ threadmessageparent: { ...message }, threadmessageview: false });\n\t\t} else {\n\t\t\tthis.setState({ threadmessageparent: { ...message } });\n\t\t}\n\t};\n\n\tgetReceiverDetails = () => {\n\t\tlet receiverId;\n\t\tlet receiverType;\n\n\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\treceiverId = this.getContext().item.uid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.USER;\n\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\treceiverId = this.getContext().item.guid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.GROUP;\n\t\t}\n\n\t\treturn { receiverId: receiverId, receiverType: receiverType };\n\t};\n\n\taudioCall = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tconst call = new CometChat.Call(receiverId, CometChat.CALL_TYPE.AUDIO, receiverType);\n\t\tCometChat.initiateCall(call)\n\t\t\t.then(outgoingCall => {\n\t\t\t\t//when this component is part of chat widget trigger an event.. (outgoingcall component is used separately in chat widget)\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_AUDIO_CALL\"], outgoingCall);\n\t\t\t\t} else {\n\t\t\t\t\tthis.outgoingCallRef.startCall(outgoingCall);\n\t\t\t\t\tthis.appendCallMessage(outgoingCall);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\tvideoCall = () => {\n\t\t/*\n\t\tDirect calling for groups\n\t\t*/\n\t\tif (this.getContext().type === CometChat.RECEIVER_TYPE.GROUP) {\n\n\t\t\tconst sessionID = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item.guid : null;\n\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_DIRECT_CALL\"], sessionID);\n\t\t\t} else {\n\t\t\t\tthis.outgoingDirectCallRef.startCall(sessionID);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t/*\n\t\tDefault calling for one-on-one\n\t\t*/\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tconst call = new CometChat.Call(receiverId, CometChat.CALL_TYPE.VIDEO, receiverType);\n\t\tCometChat.initiateCall(call)\n\t\t\t.then(outgoingCall => {\n\t\t\t\t//when this component is part of chat widget trigger an event.. (outgoingcall component is used separately in chat widget)\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_VIDEO_CALL\"], outgoingCall);\n\t\t\t\t} else {\n\t\t\t\t\tthis.outgoingCallRef.startCall(outgoingCall);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\ttoggleReaction = flag => {\n\t\tthis.setState({ liveReaction: flag });\n\t};\n\n\tliveReactionReceived = reaction => {\n\n\t\tconst stopReaction = () => {\n\t\t\tthis.toggleReaction(false);\n\t\t}\n\n\t\tif (reaction.data.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\n\t\t\tthis.reactionName = reaction.data.reaction;\n\t\t\tthis.toggleReaction(true);\n\n\t\t\tconst liveReactionInterval = enums.CONSTANTS[\"LIVE_REACTION_INTERVAL\"];\n\t\t\tsetTimeout(stopReaction, liveReactionInterval);\n\t\t}\n\t};\n\n\tdeleteMessage = message => {\n\t\tconst messageId = message.id;\n\t\tCometChat.deleteMessage(messageId)\n\t\t\t.then(deletedMessage => {\n\t\t\t\t//remove edit preview when message is deleted\n\t\t\t\tif (deletedMessage.id === this.state.messageToBeEdited.id) {\n\t\t\t\t\tthis.setState({ messageToBeEdited: \"\" });\n\t\t\t\t}\n\n\t\t\t\tconst messageList = [...this.state.messageList];\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...deletedMessage });\n\t\t\t\t\t//this.getContext().setLastMessage(deletedMessage);\n\t\t\t\t}\n\n\t\t\t\tthis.removeMessages([deletedMessage]);\n\t\t\t\tthis.updateParentThreadedMessage(deletedMessage, \"delete\");\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\teditMessage = message => {\n\t\tthis.setState({ messageToBeEdited: message, replyPreview: null });\n\t};\n\n\tmessageEdited = message => {\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\n\t\t\tconst newMessageObj = Object.assign({}, messageObj, message);\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\n\t\t\tthis.updateParentThreadedMessage(newMessageObj, \"edit\");\n\n\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...newMessageObj });\n\t\t\t\t//this.getContext().setLastMessage(newMessageObj);\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageSent = messages => {\n\t\tconst message = messages[0];\n\t\tconst messageList = [...this.state.messageList];\n\n\t\tlet messageKey = messageList.findIndex(m => m._id === message._id);\n\t\tif (messageKey > -1) {\n\t\t\tconst newMessageObj = { ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tmessageList.sort((a, b) => a.id - b.id);\n\t\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t\t}\n\t};\n\n\trefreshingMessages = () => {\n\t\tthis.setState({ messageList: [], messageToBeEdited: \"\", replyPreview: null, liveReaction: false, messageToReact: null });\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], {});\n\t};\n\n\tmessageRefreshed = messages => {\n\t\tconst messageList = [...messages];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\tnewMessagesArrived = newMessage => {\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tunreadMessages.push(newMessage[0]);\n\n\t\tthis.setState({ unreadMessages: unreadMessages });\n\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"NEW_MESSAGES\"], { unreadMessages: unreadMessages });\n\t};\n\n\tmarkMessagesAsRead = scrollToBottom => {\n\t\tif (this.state.unreadMessages.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tlet messageList = [...this.state.messageList];\n\n\t\tunreadMessages.forEach(unreadMessage => {\n\t\t\tif (unreadMessage.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\tif (this.messageListRef) {\n\t\t\t\t\tmessageList.push(unreadMessage);\n\t\t\t\t\tthis.messageListRef.markMessageAsRead(unreadMessage, CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t}\n\t\t\t} else if (unreadMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tif (this.messageListRef) {\n\t\t\t\t\tmessageList.push(unreadMessage);\n\t\t\t\t\tthis.messageListRef.markMessageAsRead(unreadMessage, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.setState({ messageList: messageList, scrollToBottom: scrollToBottom, unreadMessages: [] });\n\t};\n\n\tjumpToMessages = () => {\n\t\tif (this.state.unreadMessages.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tlet messageList = [...this.state.messageList];\n\t\tmessageList = messageList.concat(unreadMessages);\n\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], {});\n\n\t\tif (messageList.length > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\tif (this.messageListRef) {\n\t\t\t\tthis.messageListRef.reInitializeMessageBuilder();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.markMessagesAsRead(true);\n\t\t}\n\t};\n\n\t//messages are deleted\n\tremoveMessages = messages => {\n\t\tconst deletedMessage = messages[0];\n\t\tconst messagelist = [...this.state.messageList];\n\n\t\tlet messageKey = messagelist.findIndex(message => message.id === deletedMessage.id);\n\t\tif (messageKey > -1) {\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessagelist.splice(messageKey, 1);\n\t\t\t} else {\n\t\t\t\tlet messageObj = { ...messagelist[messageKey] };\n\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, deletedMessage);\n\n\t\t\t\tmessagelist.splice(messageKey, 1, newMessageObj);\n\t\t\t}\n\n\t\t\tthis.setState({ messageList: messagelist, scrollToBottom: false });\n\t\t}\n\t};\n\n\t//messages are fetched, scroll to bottom\n\tprependMessagesAndScrollToBottom = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\t//messages are fetched from backend\n\tprependMessages = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t};\n\n\t//message is received or composed & sent\n\tappendMessage = message => {\n\t\tlet messages = [...this.state.messageList, ...message];\n\t\tthis.setState({ messageList: messages, scrollToBottom: true });\n\t};\n\n\t//message status is updated\n\tupdateMessages = messages => {\n\t\tthis.setState({ messageList: messages, scrollToBottom: false });\n\t};\n\n\tgroupUpdated = (action, message, group, options) => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === true) {\n\t\t\tthis.appendMessage([message]);\n\t\t}\n\n\t\tthis.props.actionGenerated(action, message, group, options);\n\t};\n\n\tappendCallMessage = message => {\n\t\t//if call action messages are disabled\n\t\tif (this.state.enableCallActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.appendMessage([message]);\n\t};\n\n\tupdateReplyCount = messages => {\n\t\tconst receivedMessage = messages[0];\n\n\t\tlet messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === receivedMessage.parentMessageId);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\t\t\tlet replyCount = messageObj.hasOwnProperty(\"replyCount\") ? messageObj.replyCount : 0;\n\t\t\treplyCount = replyCount + 1;\n\t\t\tconst newMessageObj = Object.assign({}, messageObj, { replyCount: replyCount });\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t\t}\n\t};\n\n\tsmartReplyPreview = messages => {\n\t\tconst message = messages[0];\n\t\tif (message.sender.uid === this.loggedInUser.uid || message.category === CometChat.CATEGORY_CUSTOM) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * If smart-replies feature is enabled\n\t\t */\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isSmartRepliesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\t\t\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\t\t\t\tthis.setState({ replyPreview: message });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setState({ replyPreview: null });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tclearEditPreview = () => {\n\t\tthis.setState({ messageToBeEdited: \"\" });\n\t};\n\n\treactToMessage = message => {\n\t\tthis.setState({ messageToReact: message });\n\n\t\tif (this.composerRef) {\n\t\t\tthis.composerRef.toggleEmojiPicker();\n\t\t}\n\t};\n\n\trender() {\n\t\t/**\n\t\t * If used as standalone component\n\t\t */\n\t\tif (this.props._parent.trim().length === 0 && this.props.chatWithUser.trim().length === 0 && this.props.chatWithGroup.trim().length === 0) {\n\t\t\treturn (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} _component={enums.CONSTANTS[\"MESSAGES_COMPONENT\"]} user={this.props.chatWithUser} group={this.props.chatWithGroup}>\n\t\t\t\t\t<div></div>\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t} else if (this.props._parent.trim().length && Object.keys(this.getContext().item).length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet blockedUser = null;\n\t\tlet messageList = (\n\t\t\t<CometChatMessageList\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.messageListRef = el;\n\t\t\t\t}}\n\t\t\t\tlang={this.props.lang}\n\t\t\t\tmessages={this.state.messageList}\n\t\t\t\tscrollToBottom={this.state.scrollToBottom}\n\t\t\t\tactionGenerated={this.actionHandler}\n\t\t\t/>\n\t\t);\n\t\tlet messageComposer = (\n\t\t\t<CometChatMessageComposer\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.composerRef = el;\n\t\t\t\t}}\n\t\t\t\tmessageToBeEdited={this.state.messageToBeEdited}\n\t\t\t\treplyPreview={this.state.replyPreview}\n\t\t\t\treaction={this.reactionName}\n\t\t\t\tmessageToReact={this.state.messageToReact}\n\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\tlet newMessageIndicator = null;\n\t\tif (this.state.unreadMessages.length) {\n\t\t\tconst unreadMessageCount = this.state.unreadMessages.length;\n\t\t\tconst messageText = unreadMessageCount > 1 ? `${unreadMessageCount} ${Translator.translate(\"NEW_MESSAGES\", this.props.lang)}` : `${unreadMessageCount} ${Translator.translate(\"NEW_MESSAGE\", this.props.lang)}`;\n\t\t\tnewMessageIndicator = (\n\t\t\t\t<div css={messagePaneTopStyle()} className=\"message_pane__top\">\n\t\t\t\t\t<div css={messagePaneBannerStyle(this.props)} className=\"message_pane__banner\">\n\t\t\t\t\t\t<div css={messagePaneUnreadBannerStyle()} className=\"message_pane__unread_banner__banner\" title={Translator.translate(\"JUMP\", this.props.lang)}>\n\t\t\t\t\t\t\t<button type=\"button\" css={messagePaneUnreadBannerMessageStyle(this.props)} className=\"message_pane__unread_banner__msg\" onClick={this.jumpToMessages}>\n\t\t\t\t\t\t\t\t<span css={iconArrowDownStyle()} className=\"icon--arrow-down\">\n\t\t\t\t\t\t\t\t\t&#x2193;{\" \"}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{messageText}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\t//if sending messages are disabled for chat wigdet in dashboard\n\t\tif ((this.getContext()?.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableSendingOneOnOneMessage === false) || (this.getContext()?.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableSendingGroupMessage === false)) {\n\t\t\tmessageComposer = null;\n\t\t}\n\n\t\tif (this.getContext().type === CometChat.RECEIVER_TYPE.USER && Object.keys(this.getContext().item).length && this.getContext().item.blockedByMe) {\n\t\t\tmessageComposer = null;\n\t\t\tmessageList = null;\n\t\t\tblockedUser = <CometChatBlockedUser user={this.item} />;\n\t\t}\n\n\t\tlet liveReactionView = null;\n\t\tif (this.state.liveReaction) {\n\t\t\tliveReactionView = (\n\t\t\t\t<div css={reactionsWrapperStyle()}>\n\t\t\t\t\t<CometChatLiveReactions reaction={this.reactionName} theme={this.props.theme} lang={this.props.lang} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\t/*\n\t\tIf used as a standalone component\n\t\t*/\n\t\tlet incomingCallView = null;\n\t\tlet incomingDirectCallView = null;\n\t\tif (this.props._parent.trim().length === 0) {\n\t\t\tincomingCallView = <CometChatIncomingCall actionGenerated={this.actionHandler} />;\n\n\t\t\tincomingDirectCallView = <CometChatIncomingDirectCall actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\t//don't include it when opened in chat widget\n\t\tlet outgoingDirectCallView = null;\n\t\tlet outgoingCallView = null;\n\t\tif (Object.keys(this.props.widgetsettings).length === 0) {\n\t\t\toutgoingCallView = <CometChatOutgoingCall ref={el => (this.outgoingCallRef = el)} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t\toutgoingDirectCallView = <CometChatOutgoingDirectCall ref={el => (this.outgoingDirectCallRef = el)} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet detailScreen = null;\n\t\tif (this.state.viewdetailscreen) {\n\t\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\t\tdetailScreen = (\n\t\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t\t<CometChatUserDetails lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\t\tdetailScreen = (\n\t\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t\t<CometChatGroupDetails lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet threadMessageView = null;\n\t\tif (this.state.threadmessageview) {\n\t\t\tthreadMessageView = (\n\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t<CometChatMessageThread activeTab={this.state.activeTab} threadItem={this.state.threadmessageitem} threadType={this.state.threadmessagetype} parentMessage={this.state.threadmessageparent} loggedInUser={this.loggedInUser} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet originalImageView = null;\n\t\tif (this.state.viewOriginalImage) {\n\t\t\toriginalImageView = <CometChatImageViewer close={() => this.toggleOriginalImageView(false)} message={this.state.viewOriginalImage} />;\n\t\t}\n\n\t\tlet messageComponent = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={chatWrapperStyle(this.props, this.state)} className=\"main__chat\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<CometChatMessageHeader lang={this.props.lang} sidebar={this.props.sidebar} viewdetail={this.props.viewdetail === false ? false : true} actionGenerated={this.actionHandler} />\n\t\t\t\t\t{messageList}\n\t\t\t\t\t{liveReactionView}\n\t\t\t\t\t{messageComposer}\n\t\t\t\t\t{blockedUser}\n\t\t\t\t\t{newMessageIndicator}\n\t\t\t\t</div>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t\t{originalImageView}\n\t\t\t\t{detailScreen}\n\t\t\t\t{threadMessageView}\n\t\t\t\t{incomingCallView}\n\t\t\t\t{outgoingCallView}\n\t\t\t\t{incomingDirectCallView}\n\t\t\t\t{outgoingDirectCallView}\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tlet messageWrapper = messageComponent;\n\t\t/*\n\t\tIf used as a standalone component\n\t\t**/\n\t\tif (this.props._parent.trim().length === 0) {\n\t\t\tmessageWrapper = (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t\t<div css={chatContainerStyle()}>{messageComponent}</div>\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t}\n\n\t\treturn messageWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\t_parent: \"\",\n\twidgetsettings: {},\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\t_parent: PropTypes.string,\n\twidgetsettings: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n};\n\nexport {CometChatMessages};","export const wrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tboxSizing: \"border-box\",\n\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t},\n\t};\n};\n\nexport const headerStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\twidth: \"100%\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\theight: \" 69px\",\n\t\tdisplay: \"flex\",\n\t};\n};\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\",\n    }\n}\n\nexport const headerDetailStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"calc(100% - 40px)\",\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWight: \"600\",\n        lineHeight: \"22px\",\n        width: \"100%\",\n    }\n}\n\nexport const headerNameStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        lineHeight: \"20px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const headerCloseStyle = (img, context) => {\n\n    return {\n        cursor: \"pointer\",\n        width: \"24px\",\n        height: \"24px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`\n    }\n}\n\nexport const messageContainerStyle = (event) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        transition: \"background .3s ease-out .1s\",\n        width: \"100%\",\n        zIndex: \"100\",\n        minHeight: \"calc(100% - 68px)\",\n        order: \"2\",\n        \".chat__list\": {\n            minHeight: \"250px\",\n            \".list__wrapper\": {\n                \"::-webkit-scrollbar\": {\n                    display: \"none\"\n                },\n                scrollbarWidth: \"none\"\n            }\n        },\n    }\n}\n\nexport const parentMessageStyle = (message) => {\n\n    const alignment = (message.messageFrom === \"sender\") ? {\n        justifyContent: \"flex-end\",\n    } : {\n        justifyContent: \"flex-start\",\n    };\n\n    return {\n        padding: \"14px 16px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        ...alignment,\n        \".sender__message__container, .receiver__message__container\": {\n            maxWidth: \"100%\",\n            \"&:hover\": {\n                \".message__actions\": {\n                    display: \"none\"\n                }\n            }\n        },\n        \".replycount\": {\n            display: \"none\"\n        }\n    }\n}\n\nexport const messageSeparatorStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tposition: \"relative\",\n\t\tmargin: \"7px 16px\",\n\t\theight: \"15px\",\n\t\thr: {\n\t\t\tflex: \"1\",\n\t\t\tmargin: \"1px 0 0 0\",\n\t\t\tborderTop: `1px solid ${context.theme.borderColor.primary}`,\n\t\t},\n\t};\n};\n\nexport const messageReplyStyle = () => {\n\n    return {\n        marginRight: \"12px\",\n        fontSize: \"12px\",\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { \n\tCometChatMessageList, CometChatMessageComposer,\n\tCometChatSenderTextMessageBubble, CometChatReceiverTextMessageBubble,\n\tCometChatSenderImageMessageBubble, CometChatReceiverImageMessageBubble,\n\tCometChatSenderFileMessageBubble, CometChatReceiverFileMessageBubble,\n\tCometChatSenderAudioMessageBubble, CometChatReceiverAudioMessageBubble,\n\tCometChatSenderVideoMessageBubble, CometChatReceiverVideoMessageBubble,\n\tCometChatSenderDirectCallBubble, CometChatReceiverDirectCallBubble,\n\tCometChatImageViewer\n} from \"../\";\n\nimport {\n\tCometChatSenderPollMessageBubble, CometChatReceiverPollMessageBubble,\n\tCometChatSenderStickerBubble, CometChatReceiverStickerMessageBubble,\n\tCometChatSenderDocumentBubble, CometChatReceiverDocumentBubble,\n\tCometChatSenderWhiteboardBubble, CometChatReceiverWhiteboardBubble,\n} from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\twrapperStyle,\n\theaderStyle,\n\theaderWrapperStyle,\n\theaderDetailStyle,\n\theaderTitleStyle,\n\theaderNameStyle,\n\theaderCloseStyle,\n\tmessageContainerStyle,\n\tparentMessageStyle,\n\tmessageSeparatorStyle,\n\tmessageReplyStyle,\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatMessageThread extends React.PureComponent {\n\tloggedInUser = null;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmessageList: [],\n\t\t\tscrollToBottom: true,\n\t\t\treplyCount: 0,\n\t\t\treplyPreview: null,\n\t\t\tmessageToBeEdited: null,\n\t\t\tparentMessage: props.parentMessage,\n\t\t\tviewOriginalImage: false,\n\t\t\tenableSendingOneOnOneMessage: false,\n\t\t\tenableSendingGroupMessage: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\n\t\tthis.composerRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.loggedInUser = this.props.loggedInUser;\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\n\t\tif (prevProps.parentMessage !== this.props.parentMessage) {\n\t\t\tif (prevProps.parentMessage.id !== this.props.parentMessage.id) {\n\t\t\t\tthis.setState({ messageList: [], scrollToBottom: true, parentMessage: this.props.parentMessage });\n\t\t\t} else if (prevProps.parentMessage.data !== this.props.parentMessage.data) {\n\t\t\t\tthis.setState({ parentMessage: this.props.parentMessage });\n\t\t\t}\n\t\t}\n\t}\n\n\tenableSendingOneOnOneMessage = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingOneOnOneMessage) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingOneOnOneMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingGroupMessage = () => {\n\t\tthis.context.FeatureRestriction.isGroupChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingGroupMessage) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingGroupMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.context.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\terrorHandler = errorCode => {\n\t\tthis.toastRef.setError(errorCode);\n\t};\n\n\tparentMessageEdited = message => {\n\t\tconst parentMessage = { ...this.props.parentMessage };\n\n\t\tif (parentMessage.id === message.id) {\n\t\t\tconst newMessageObj = { ...message };\n\t\t\tthis.setState({ parentMessage: newMessageObj });\n\t\t}\n\t};\n\n\tactionHandler = (action, messages) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"]:\n\t\t\tcase enums.ACTIONS[\"MESSAGE_RECEIVED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst message = messages[0];\n\t\t\t\t\tif (message.hasOwnProperty(\"parentMessageId\") && message.parentMessageId === this.state.parentMessage.id) {\n\t\t\t\t\t\tconst replyCount = this.state.parentMessage.hasOwnProperty(\"replyCount\") ? this.state.parentMessage.replyCount : 0;\n\t\t\t\t\t\tconst newReplyCount = replyCount + 1;\n\n\t\t\t\t\t\tlet messageObj = { ...this.state.parentMessage };\n\t\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { replyCount: newReplyCount });\n\t\t\t\t\t\tthis.setState({ parentMessage: newMessageObj });\n\n\t\t\t\t\t\tthis.smartReplyPreview(messages);\n\t\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst replyCount = this.state.parentMessage.hasOwnProperty(\"replyCount\") ? this.state.parentMessage.replyCount : 0;\n\t\t\t\t\tconst newReplyCount = replyCount + 1;\n\n\t\t\t\t\tlet messageObj = { ...this.state.parentMessage };\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { replyCount: newReplyCount });\n\t\t\t\t\tthis.setState({ parentMessage: newMessageObj });\n\n\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"THREAD_MESSAGE_COMPOSED\"], messages);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tthis.props.actionGenerated(action, messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_EDITED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase \"messageFetched\":\n\t\t\t\tthis.prependMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]:\n\t\t\t\tthis.prependMessagesAndScrollToBottom(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_DELETED\"]:\n\t\t\t\tthis.removeMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.editMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_EDITED\"]:\n\t\t\t\tthis.messageEdited(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]:\n\t\t\t\tthis.clearEditPreview();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.deleteMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.reactToMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"]:\n\t\t\t\tthis.toggleOriginalImageView(messages);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\ttoggleOriginalImageView = message => {\n\t\tthis.setState({ viewOriginalImage: message });\n\t};\n\n\tmessageSent = messages => {\n\t\tconst message = messages[0];\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m._id === message._id);\n\t\tif (messageKey > -1) {\n\t\t\tconst newMessageObj = { ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\t\t}\n\t};\n\n\teditMessage = message => {\n\t\tthis.setState({ messageToBeEdited: message });\n\t};\n\n\tmessageEdited = message => {\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\n\t\t\tconst newMessageObj = { ...messageObj, ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\n\t\t\tif (messageList.length - messageKey === 1) {\n\t\t\t\t//this.context.setLastMessage(newMessageObj);\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...newMessageObj });\n\t\t\t}\n\t\t}\n\t};\n\n\tclearEditPreview = () => {\n\t\tthis.setState({ messageToBeEdited: \"\" });\n\t};\n\n\tdeleteMessage = message => {\n\t\tconst messageId = message.id;\n\t\tCometChat.deleteMessage(messageId)\n\t\t\t.then(deletedMessage => {\n\t\t\t\tthis.removeMessages([deletedMessage]);\n\n\t\t\t\tconst messageList = [...this.state.messageList];\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\t\t//this.context.setLastMessage(deletedMessage);\n\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...deletedMessage });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\tsmartReplyPreview = messages => {\n\t\tconst message = messages[0];\n\n\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\tthis.setState({ replyPreview: message });\n\t\t} else {\n\t\t\tthis.setState({ replyPreview: null });\n\t\t}\n\t};\n\n\t//message is received or composed & sent\n\tappendMessage = message => {\n\t\tlet messages = [...this.state.messageList];\n\t\tmessages = messages.concat(message);\n\t\tthis.setState({ messageList: messages, scrollToBottom: true });\n\t};\n\n\t//message status is updated\n\tupdateMessages = messages => {\n\t\tthis.setState({ messageList: messages });\n\t};\n\n\t//messages are fetched from backend\n\tprependMessages = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t};\n\n\t//messages are fetched, scroll to bottom\n\tprependMessagesAndScrollToBottom = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\t//messages are deleted\n\tremoveMessages = messages => {\n\t\tconst deletedMessage = messages[0];\n\t\tconst messagelist = [...this.state.messageList];\n\n\t\tlet messageKey = messagelist.findIndex(message => message.id === deletedMessage.id);\n\t\tif (messageKey > -1) {\n\t\t\t\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessagelist.splice(messageKey, 1);\n\t\t\t} else {\n\t\t\t\tlet messageObj = { ...messagelist[messageKey] };\n\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, deletedMessage);\n\t\t\t\tmessagelist.splice(messageKey, 1, newMessageObj);\n\t\t\t}\n\n\t\t\tthis.setState({ messageList: messagelist, scrollToBottom: false });\n\t\t}\n\t};\n\n\tgetSenderMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\tcomponent = <CometChatSenderTextMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\tcomponent = <CometChatSenderImageMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\tcomponent = <CometChatSenderFileMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\tcomponent = <CometChatSenderVideoMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\tcomponent = <CometChatSenderAudioMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase \"message\":\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\tcomponent = <CometChatReceiverTextMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\tcomponent = <CometChatReceiverImageMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\tcomponent = <CometChatReceiverFileMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\tcomponent = <CometChatReceiverAudioMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\tcomponent = <CometChatReceiverVideoMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetSenderCustomMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\tcomponent = <CometChatSenderPollMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\tcomponent = <CometChatSenderStickerBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\tcomponent = <CometChatSenderDocumentBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\tcomponent = <CometChatSenderWhiteboardBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\tcomponent = <CometChatSenderDirectCallBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverCustomMessageComponent = message => {\n\t\tlet component;\n\t\tswitch (message.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\tcomponent = <CometChatReceiverPollMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\tcomponent = <CometChatReceiverStickerMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\tcomponent = <CometChatReceiverDocumentBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\tcomponent = <CometChatReceiverWhiteboardBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\tcomponent = <CometChatReceiverDirectCallBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetParentMessageComponent = message => {\n\t\tlet component = null;\n\n\t\tswitch (message.category) {\n\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\tif (this.loggedInUser.uid === message.sender.uid) {\n\t\t\t\t\tcomponent = this.getSenderMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\tif (this.loggedInUser.uid === message.sender.uid) {\n\t\t\t\t\tcomponent = this.getSenderCustomMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverCustomMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\treactToMessage = message => {\n\t\tthis.setState({ messageToReact: message });\n\n\t\tif (this.composerRef) {\n\t\t\tthis.composerRef.toggleEmojiPicker();\n\t\t}\n\t};\n\n\trender() {\n\t\tlet parentMessage = this.getParentMessageComponent(this.state.parentMessage);\n\n\t\tlet seperator = (\n\t\t\t<div css={messageSeparatorStyle(this.props)}>\n\t\t\t\t<hr />\n\t\t\t</div>\n\t\t);\n\t\tif (this.state.parentMessage.hasOwnProperty(\"replyCount\")) {\n\t\t\tconst replyCount = this.state.parentMessage.replyCount;\n\t\t\tconst replyText = replyCount === 1 ? `${replyCount} ${Translator.translate(\"REPLY\", this.context.language)}` : `${replyCount} ${Translator.translate(\"REPLIES\", this.context.language)}`;\n\n\t\t\tseperator = (\n\t\t\t\t<div css={messageSeparatorStyle(this.context)} className=\"message__separator\">\n\t\t\t\t\t<span css={messageReplyStyle()} className=\"message__replies\">\n\t\t\t\t\t\t{replyText}\n\t\t\t\t\t</span>\n\t\t\t\t\t<hr />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet originalImageView = null;\n\t\tif (this.state.viewOriginalImage) {\n\t\t\toriginalImageView = <CometChatImageViewer open={true} close={() => this.toggleOriginalImageView(false)} message={this.state.viewOriginalImage} lang={this.context.language} />;\n\t\t}\n\n\t\tlet messageComposer = (\n\t\t\t<CometChatMessageComposer\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.composerRef = el;\n\t\t\t\t}}\n\t\t\t\tparentMessageId={this.props.parentMessage.id}\n\t\t\t\tmessageToBeEdited={this.state.messageToBeEdited}\n\t\t\t\treplyPreview={this.state.replyPreview}\n\t\t\t\tmessageToReact={this.state.messageToReact}\n\t\t\t\tactionGenerated={this.actionHandler}\n\t\t\t/>\n\t\t);\n\n\t\t//if send messages feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableSendingOneOnOneMessage === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableSendingGroupMessage === false)) {\n\t\t\tmessageComposer = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={wrapperStyle(this.context)} className=\"thread__chat\">\n\t\t\t\t\t<div css={headerStyle(this.context)} className=\"chat__header\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"header__wrapper\">\n\t\t\t\t\t\t\t<div css={headerDetailStyle()} className=\"header__details\">\n\t\t\t\t\t\t\t\t<h6 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"THREAD\", this.context.language)}\n\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t<span css={headerNameStyle()} className=\"header__username\">\n\t\t\t\t\t\t\t\t\t{this.props.threadItem.name}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={headerCloseStyle(clearIcon, this.context)} className=\"header__close\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"CLOSE_THREADED_MESSAGE\"])}></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={messageContainerStyle()} className=\"chat__message__container\">\n\t\t\t\t\t\t<div css={parentMessageStyle(this.props.parentMessage)} className=\"parent__message\">\n\t\t\t\t\t\t\t{parentMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{seperator}\n\t\t\t\t\t\t<CometChatMessageList messages={this.state.messageList} item={this.props.threadItem} type={this.props.threadType} scrollToBottom={this.state.scrollToBottom} parentMessageId={this.props.parentMessage.id} actionGenerated={this.actionHandler} />\n\t\t\t\t\t\t{messageComposer}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{originalImageView}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageThread.defaultProps = {\n\ttheme: theme\n};\n\nCometChatMessageThread.propTypes = {\n\ttheme: PropTypes.object\n}\n\nexport { CometChatMessageThread };\n","export const msgTimestampStyle = (context, props, loggedInUser) => {\n\n    return {\n        display: \"flex\",\n        fontSize: \"11px\",\n        fontWeight: \"500\",\n        lineHeight: \"12px\",\n        textTransform: \"uppercase\",\n        color: `${context.theme.color.search}`,\n    }\n}\n\nexport const iconStyle = (img, color) => {\n\n    return {\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${color}`,\n        display: \"inline-block\",\n        width: \"24px\",\n        height: \"24px\"\n    }\n}\n","export default __webpack_public_path__ + \"static/media/message-read.573b8c8c.svg\";","export default __webpack_public_path__ + \"static/media/message-delivered.fbc54350.svg\";","export default __webpack_public_path__ + \"static/media/message-sent.bf5ee0cc.svg\";","export default __webpack_public_path__ + \"static/media/wait.89c8da97.svg\";","export default __webpack_public_path__ + \"static/media/warning-small.6ad6a0ca.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { getMessageSentTime } from \"../../../util/common\";\nimport { CometChatContext } from \"../../../util/CometChatContext\"\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport { msgTimestampStyle, iconStyle } from \"./style\";\n\nimport blueDoubleTick from \"./resources/message-read.svg\";\nimport greyDoubleTick from \"./resources/message-delivered.svg\";\nimport greyTick from \"./resources/message-sent.svg\";\nimport sendingTick from \"./resources/wait.svg\";\nimport errorTick from \"./resources/warning-small.svg\";\n\nclass CometChatReadReceipt extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\treceipts: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t\tthis.toggleReadReceipts();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.toggleReadReceipts();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\ttoggleReadReceipts = () => {\n\t\t/**\n\t\t * if delivery receipts feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isDeliveryReceiptsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.receipts && this._isMounted) {\n\t\t\t\t\tthis.setState({ receipts: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.receipts !== false) {\n\t\t\t\t\tthis.setState({ receipts: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\trender() {\n\t\t\n\t\tlet ticks,\n\t\t\treceiptText = null,\n\t\t\tdateField = null,\n\t\t\tcolor = null;\n\t\t\n\t\tif (this.props.message?.sender?.uid === this.loggedInUser?.uid) {\n\n\t\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tif (this.props.message.hasOwnProperty(\"error\")) {\n\t\t\t\t\tticks = errorTick;\n\t\t\t\t\treceiptText = \"ERROR\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.color.red;\n\t\t\t\t} else {\n\t\t\t\t\tticks = sendingTick;\n\t\t\t\t\treceiptText = \"SENDING\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.secondaryTextColor;\n\t\t\t\t\tif (this.props.message.hasOwnProperty(\"sentAt\")) {\n\t\t\t\t\t\tticks = greyTick;\n\t\t\t\t\t\treceiptText = \"SENT\";\n\t\t\t\t\t\tdateField = this.props.message.sentAt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.props.message.hasOwnProperty(\"error\")) {\n\t\t\t\t\tticks = errorTick;\n\t\t\t\t\treceiptText = \"ERROR\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.color.red;\n\t\t\t\t} else {\n\t\t\t\t\tticks = sendingTick;\n\t\t\t\t\treceiptText = \"SENDING\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.secondaryTextColor;\n\n\t\t\t\t\tif (this.props.message.hasOwnProperty(\"readAt\")) {\n\n\t\t\t\t\t\tticks = blueDoubleTick;\n\t\t\t\t\t\treceiptText = \"SEEN\";\n\t\t\t\t\t\tcolor = this.context.theme.primaryColor;\n\t\t\t\t\t\tdateField = this.props.message.readAt;\n\n\t\t\t\t\t} else if (this.props.message.hasOwnProperty(\"deliveredAt\")) {\n\n\t\t\t\t\t\tticks = greyDoubleTick;\n\t\t\t\t\t\treceiptText = \"DELIVERED\";\n\t\t\t\t\t\tdateField = this.props.message.deliveredAt;\n\n\t\t\t\t\t} else if (this.props.message.hasOwnProperty(\"sentAt\")) {\n\n\t\t\t\t\t\tticks = greyTick;\n\t\t\t\t\t\treceiptText = \"SENT\";\n\t\t\t\t\t\tdateField = this.props.message.sentAt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tdateField = this.props.message.sentAt;\n\t\t}\n\n\t\t//if delivery receipts are disabled\n\t\tif (this.state.receipts === false) {\n\t\t\tticks = null;\n\t\t}\n\n\t\tconst receipt = ticks ? <i css={iconStyle(ticks, color)} title={Translator.translate(receiptText, this.context.language)}></i> : null;\n\n\t\tconst timestamp = getMessageSentTime(dateField, this.context.language);\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<span css={msgTimestampStyle(this.context, this.props, this.loggedInUser)} className=\"message__timestamp\">\n\t\t\t\t\t{timestamp}\n\t\t\t\t</span>\n\t\t\t\t{receipt}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReadReceipt.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatReadReceipt.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReadReceipt };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageAudioContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageAudioWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        alignSelf: \"flex-start\",\n        \" > audio\": {\n            maxWidth: \"250px\",\n            display: \"inherit\",\n            outline: \"none\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageAudioContainerStyle,\n\tmessageAudioWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverAudioMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__audio\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageAudioContainerStyle()} className=\"message__audio__container\">\n\t\t\t\t\t\t\t<div css={messageAudioWrapperStyle()} className=\"message__audio__wrapper\">\n\t\t\t\t\t\t\t\t<audio controls>\n\t\t\t\t\t\t\t\t\t<source src={this.props.message.data.attachments[0].url} />\n\t\t\t\t\t\t\t\t</audio>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverAudioMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverAudioMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverAudioMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n        \"img\": {\n            width: \"35px\"\n        }\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t\tminHeight: \"106px\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 30px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"16px 0 0 0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtTitleStyle,\n\tmessageTxtStyle,\n\tmessageBtnStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle,\n} from \"./style\";\n\nimport callIcon from \"./resources/video-call.svg\";\n\nclass CometChatReceiverDirectCallBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst messageTitle = `${this.props.message.sender.name} ${Translator.translate(\"INITIATED_GROUP_CALL\", this.context.language)}`;\n\n\t\tlet callMessage = null;\n\t\tconst joinCallMessage = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\n\t\tif (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"]) {\n\t\t\t//ongoing call in same group\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"]) {\n\t\t\t//ongoing call in different group\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfCallIsOngoing()) {\n\t\t\t//ongoing call\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else {\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.props.message)}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__directcall\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__directcall__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__directcall__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__directcall__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(callIcon, this.context)} title={Translator.translate(\"VIDEO_CALL\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"directcall__title\">\n\t\t\t\t\t\t\t\t\t\t{messageTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"directcall__button\">\n\t\t\t\t\t\t\t\t\t{callMessage}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverDirectCallBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverDirectCallBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverDirectCallBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageFileContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageFileWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"auto\",\n\t\t\"> a\": {\n\t\t\tbackground: \"0 0\",\n\t\t\ttextDecoration: \"none\",\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tcolor: `${context.theme.color.primary}`,\n\t\t\twidth: \"auto\",\n\t\t\tfontSize: \"14px\",\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t\t\"&:visited, &:active, &:hover\": {\n\t\t\t\tcolor: `${context.theme.color.primary}`,\n\t\t\t\ttextDecoration: \"none\",\n\t\t\t},\n\t\t\tlabel: {\n\t\t\t\tcursor: \"pointer\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\tmarginRight: \"8px\",\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport { \n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageFileContainerStyle,\n\tmessageFileWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle\n} from \"./style\";\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatReceiverFileMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\t\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__file\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageFileContainerStyle()} className=\"message__file__container\">\n\t\t\t\t\t\t\t<div css={messageFileWrapperStyle(this.context)} className=\"message__file__wrapper\">\n\t\t\t\t\t\t\t\t<a href={this.props.message.data.attachments[0].url} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t\t\t\t\t<label>{this.props.message.data.attachments[0].name}</label>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverFileMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverFileMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverFileMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageImgContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-start\",\n\t\tmaxWidth: \"300px\",\n\t\theight: \"200px\",\n\t\tcursor: \"pointer\",\n\t\timg: {\n\t\t\tborderRadius: \"8px\",\n\t\t\theight: \"100%\",\n\t\t},\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tminWidth: \"50px\",\n\t\t\tmaxWidth: \"150px\",\n\t\t\theight: \"100px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageImgContainerStyle,\n\tmessageImgWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatReceiverImageMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.imgRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\timageUrl: srcIcon,\n\t\t\timageName: Translator.translate(\"LOADING\", this.context.language),\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.imageUrl !== nextState.imageUrl \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t\tthis.setImage();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tchooseImage = thumbnailGenerationObject => {\n\t\tconst smallUrl = thumbnailGenerationObject[\"url_small\"];\n\t\tconst mediumUrl = thumbnailGenerationObject[\"url_medium\"];\n\n\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\n\t\tlet imageToDownload = mediumUrl;\n\t\tif (mq.matches) {\n\t\t\timageToDownload = smallUrl;\n\t\t}\n\n\t\treturn imageToDownload;\n\t};\n\n\tsetImage = () => {\n\n\t\tconst thumbnailGenerationData = checkMessageForExtensionsData(this.props.message, \"thumbnail-generation\");\n\t\t\n\t\tif (thumbnailGenerationData) {\n\n\t\t\tlet imageName = \"\";\n\t\t\tif (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\t}\n\n\t\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\t\t\tmq.addListener(() => {\n\t\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\t\tlet img = new Image();\n\t\t\t\timg.src = imageToDownload;\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\tthis.downloadImage(imageToDownload)\n\t\t\t\t.then(response => {\n\t\t\t\t\tlet img = new Image();\n\t\t\t\t\timg.src = imageToDownload;\n\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.catch(error => console.error(error));\n\t\t} else {\n\t\t\tthis.setMessageImageUrl();\n\t\t}\n\t};\n\n\tsetMessageImageUrl = () => {\n\n\t\tif (this.props.message.data.attachments \n\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tlet img = new Image();\n\t\t\timg.src = this.props.message.data.attachments[0].url;\n\t\t\tconst imageName = this.props.message.data.attachments[0]?.name;\n\t\t\timg.onload = () => {\n\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\t\n\t};\n\n\tdownloadImage(imgUrl) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"GET\", imgUrl, true);\n\t\t\txhr.responseType = \"blob\";\n\n\t\t\txhr.onload = () => {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tthis.timer = null;\n\t\t\t\t\t\tresolve(xhr.response);\n\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\t\t\tthis.downloadImage(imgUrl)\n\t\t\t\t\t\t\t\t.then(response => resolve(response))\n\t\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t\t}, 800);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = event => reject(new Error(\"There was a network error.\", event));\n\t\t\txhr.ontimeout = event => reject(new Error(\"There was a timeout error.\", event));\n\t\t\txhr.send();\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\topen = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"], this.props.message);\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__image\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageImgContainerStyle()} className=\"message__image__container\">\n\t\t\t\t\t\t\t<div css={messageImgWrapperStyle(this.context)} onClick={this.open} className=\"message__image__wrapper\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={this.state.imageUrl}\n\t\t\t\t\t\t\t\t\talt={this.state.imageName}\n\t\t\t\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\t\t\t\tthis.imgRef = el;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverImageMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverImageMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverImageMessageBubble };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtStyle = (parsedMessage, emojiMessage, showVariation, context) => {\n\n    let emojiAlignmentProp = {\n        \" > img\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n            zoom: \"1\",\n            margin: \"0 2px\"\n        }\n    };\n\n    let emojiProp = {};\n\n    if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 1) {\n        emojiProp = {\n            \"> img\": {\n                width: \"48px\",\n                height: \"48px\",\n            }\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"36px\",\n                height: \"36px\",\n            }\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length > 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    if (showVariation === false) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"auto\",\n        color: `${context.theme.color.primary}`,\n        lineHeight: \"20px\",\n        fontWeight: \"400\",\n        \" a\": {\n            color: \"#0432FF\",\n            \"&:hover\": {\n                color: \"#04009D\"\n            }\n        },\n        \" a[href^='mailto:']\": {\n            color: \"#F38C00\",\n            \"&:hover\": {\n                color: \"#F36800\"\n            }\n        },\n        \" a[href^='tel:']\": {\n            color: \"#3802DA\",\n            \"&:hover\": {\n                color: \"#2D038F\"\n            }\n        },\n        ...emojiAlignmentProp,\n        ...emojiProp\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport twemoji from \"twemoji\";\nimport ReactHtmlParser from \"react-html-parser\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt, CometChatLinkPreview} from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { linkify, checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverTextMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttranslatedMessage: \"\",\n\t\t\tisHovering: false,\n\t\t\tenableLargerSizeEmojis: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering\n\t\t|| this.state.enableLargerSizeEmojis !== nextState.enableLargerSizeEmojis) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setState({ translatedMessage: \"\" });\n\t\t}\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tgetMessageText = () => {\n\t\tlet messageText = this.props.message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(this.props.message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(this.props.message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(this.props.message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\tconst formattedText = linkify(messageText);\n\n\t\tconst emojiParsedMessage = twemoji.parse(formattedText, { folder: \"svg\", ext: \".svg\" });\n\t\tconst parsedMessage = ReactHtmlParser(emojiParsedMessage, { decodeEntities: false });\n\t\tconst emojiMessage = parsedMessage.filter(message => message instanceof Object && message.type === \"img\");\n\n\t\tlet showVariation = true;\n\t\t//if larger size emojis feature is disabled\n\t\tif (this.state.enableLargerSizeEmojis === false) {\n\t\t\tshowVariation = false;\n\t\t}\n\n\t\tmessageText = (\n\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__txt__wrapper\">\n\t\t\t\t<p css={messageTxtStyle(parsedMessage, emojiMessage, showVariation, this.context)} className=\"message__txt\">\n\t\t\t\t\t{parsedMessage}\n\t\t\t\t\t{this.state.translatedMessage}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\n\t\treturn messageText;\n\t};\n\n\ttranslateMessage = message => {\n\t\tconst messageId = message.id;\n\t\tconst messageText = message.text;\n\n\t\tconst browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n\t\tlet translateToLanguage = browserLanguageCode;\n\t\tif (browserLanguageCode.indexOf(\"-\") !== -1) {\n\t\t\tconst browserLanguageArray = browserLanguageCode.split(\"-\");\n\t\t\ttranslateToLanguage = browserLanguageArray[0];\n\t\t}\n\n\t\tlet translatedMessage = \"\";\n\t\tCometChat.callExtension(\"message-translation\", \"POST\", \"v2/translate\", {\n\t\t\tmsgId: messageId,\n\t\t\ttext: messageText,\n\t\t\tlanguages: [translateToLanguage],\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\tif (result && result.hasOwnProperty(\"language_original\") && result[\"language_original\"] !== translateToLanguage) {\n\t\t\t\t\tif (result.hasOwnProperty(\"translations\") && result.translations.length) {\n\t\t\t\t\t\tconst messageTranslation = result.translations[0];\n\t\t\t\t\t\tif (messageTranslation.hasOwnProperty(\"message_translated\")) {\n\t\t\t\t\t\t\ttranslatedMessage = `\\n(${messageTranslation[\"message_translated\"]})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INFO\"], [], \"SAME_LANGUAGE_MESSAGE\");\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ translatedMessage: translatedMessage });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tenableLargerSizeEmojis = () => {\n\t\tthis.context.FeatureRestriction.isLargerSizeEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLargerSizeEmojis) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLargerSizeEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TRANSLATE_MESSAGE\"]:\n\t\t\t\tthis.translateMessage(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageText = this.getMessageText();\n\t\t//linkpreview extensions data\n\t\tconst linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n\t\tif (linkPreviewData && linkPreviewData.hasOwnProperty(\"links\") && linkPreviewData[\"links\"].length) {\n\t\t\tmessageText = <CometChatLinkPreview message={this.props.message} messageText={messageText} />;\n\t\t}\n\n\t\t//messagereactions extensions data\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__text\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__text__container\">\n\t\t\t\t\t\t\t{messageText}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverTextMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverTextMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverTextMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageVideoContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageVideoWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        alignSelf: \"flex-start\",\n        '> video': {\n            maxWidth: \"250px\",\n            borderRadius: \"12px\",\n            display: \"inherit\",\n            outline: \"none\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageVideoContainerStyle,\n\tmessageVideoWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverVideoMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__video\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageVideoContainerStyle()} className=\"message__video__container\">\n\t\t\t\t\t\t\t<div css={messageVideoWrapperStyle()} className=\"message__video__wrapper\">\n\t\t\t\t\t\t\t\t<video controls>\n\t\t\t\t\t\t\t\t\t<source src={this.props.message.data.attachments[0].url} />\n\t\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverVideoMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverVideoMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverVideoMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageAudioWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        alignSelf: \"flex-end\",\n        ' > audio': {\n            maxWidth: \"250px\",\n            display: \"inherit\",\n            outline: \"none\",        \n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\"\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageAudioWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatSenderAudioMessageBubble extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tconst fileData = this.getFileData();\n\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetFileData = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tif (fileMetadata instanceof Blob) {\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\t\t} else if (this.props.message.data.hasOwnProperty(\"attachments\") && this.props.message.data.attachments.length) {\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__audio\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageAudioWrapperStyle()} className=\"message__audio__wrapper\">\n\t\t\t\t\t\t<audio controls src={this.state.fileData?.fileUrl}></audio>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderAudioMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderAudioMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderAudioMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t\tminHeight: \"106px\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"img\": {\n            width: \"35px\"\n        }\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n\t\t\tmargin: \"0\",\n\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\twordBreak: \"break-word\",\n\t\t\ttextAlign: \"left\",\n\t\t\twidth: \"calc(100% - 30px)\",\n\t\t\tfontSize: \"14px\",\n\t\t\tmarginLeft: \"8px\",\n\t\t};\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"16px 0 0 0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n\theight: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n\t\tminHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle\n} from \"./style\";\n\nimport callIcon from \"./resources/video-call.svg\";\n\nclass CometChatSenderDirectCallBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tlet callMessage = null;\n\t\tconst joinCallMessage = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\n\t\tif (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"]) {\n\t\t\t//ongoing call in same group\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"]) {\n\t\t\t//ongoing call in different group\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfCallIsOngoing()) {\n\t\t\t//ongoing call\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else {\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.props.message)}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tconst messageTitle = Translator.translate(\"YOU_INITIATED_GROUP_CALL\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__directcall\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__directcall__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__directcall__container\">\n\t\t\t\t\t\t\t<i css={iconStyle(callIcon, this.context)} alt={Translator.translate(\"VIDEO_CALL\", this.context.language)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"directcall__title\">\n\t\t\t\t\t\t\t\t{messageTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"directcall__button\">\n\t\t\t\t\t\t\t{callMessage}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderDirectCallBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderDirectCallBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderDirectCallBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageFileWrapper = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"100%\",\n\t\t\".message__file\": {\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\tbackground: \"0 0\",\n\t\t\ttextDecoration: \"none\",\n\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\tmaxWidth: \"100%\",\n\t\t\tfontSize: \"14px\",\n\t\t\t\"&:visited, &:active, &:hover\": {\n\t\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\t\ttextDecoration: \"none\",\n\t\t\t},\n\t\t\t\"> p\": {\n\t\t\t\tmargin: \"0\",\n\t\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\t\twordBreak: \"break-word\",\n\t\t\t\ttextAlign: \"left\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmarginLeft: \"8px\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n\theight: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n\t\tminHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t\tflexShrink: \"0\"\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageFileWrapper,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle\n} from \"./style\";\n\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatSenderFileMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\n\t\t\tconst fileData = this.getFileData();\n\t\t\t\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\t\t\t\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tgetFileData = () => {\n\t\t\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\n\t\tif (fileMetadata instanceof Blob) {\n\t\t\t\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\n\t\t} else if (this.props.message.data.attachments \n\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tlet fileMessage = null;\n\t\tif (this.state.fileData.hasOwnProperty(\"fileUrl\")) {\n\t\t\tfileMessage = (\n\t\t\t\t<a href={this.state.fileData?.fileUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"message__file\">\n\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t<p>{this.state.fileData?.fileName}</p>\n\t\t\t\t</a>\n\t\t\t);\n\t\t} else {\n\t\t\tfileMessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t<p>{this.state.fileData?.fileName}</p>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__file\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageFileWrapper(this.context)} className=\"message__file__wrapper\">\n\t\t\t\t\t\t<div className=\"message__file\">{fileMessage}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderFileMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderFileMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderFileMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapper = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"300px\",\n\t\theight: \"200px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\timg: {\n\t\t\tborderRadius: \"8px\",\n\t\t\theight: \"100%\",\n\t\t},\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tminWidth: \"50px\",\n\t\t\tmaxWidth: \"150px\",\n\t\t\theight: \"100px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageImgWrapper,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatSenderImageMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\ttimer = null;\n\n\tconstructor(props, context) {\n\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.imgRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\timageUrl: srcIcon,\n\t\t\timageName: Translator.translate(\"LOADING\", context.language),\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.imageUrl !== nextState.imageUrl \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.setImage();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tchooseImage = thumbnailGenerationObject => {\n\t\tconst smallUrl = thumbnailGenerationObject[\"url_small\"];\n\t\tconst mediumUrl = thumbnailGenerationObject[\"url_medium\"];\n\n\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\n\t\tlet imageToDownload = mediumUrl;\n\t\tif (mq.matches) {\n\t\t\timageToDownload = smallUrl;\n\t\t}\n\n\t\treturn imageToDownload;\n\t};\n\n\tsetImage = () => {\n\n\t\tconst thumbnailGenerationData = checkMessageForExtensionsData(this.props.message, \"thumbnail-generation\");\n\t\tif (thumbnailGenerationData) {\n\n\t\t\tlet imageName = \"\";\n\t\t\tif (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\t\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\t}\n\n\t\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\t\t\tmq.addListener(() => {\n\n\t\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\t\tlet img = new Image();\n\t\t\t\timg.src = imageToDownload;\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\tthis.downloadImage(imageToDownload)\n\t\t\t\t.then(response => {\n\t\t\t\t\tlet img = new Image();\n\t\t\t\t\timg.src = imageToDownload;\n\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.catch(error => console.error(error));\n\t\t} else {\n\t\t\tthis.setMessageImageUrl();\n\t\t}\n\t};\n\n\tsetMessageImageUrl = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tlet img = new Image();\n\t\tlet imageName;\n\t\tif (fileMetadata instanceof Blob) {\n\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\timg.src = reader.result;\n\t\t\t};\n\t\t\timageName = fileMetadata[\"name\"];\n\t\t\treader.readAsDataURL(fileMetadata);\n\n\t\t} else if (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\timg.src = fileUrl;\n\t\t}\n\n\t\timg.onload = () => {\n\t\t\t//only if there is a change in the image path, update state\n\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t}\n\t\t};\n\t};\n\n\tdownloadImage(imgUrl) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"GET\", imgUrl, true);\n\t\t\txhr.responseType = \"blob\";\n\n\t\t\txhr.onload = () => {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tthis.timer = null;\n\t\t\t\t\t\tresolve(imgUrl);\n\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\t\t\tthis.downloadImage(imgUrl)\n\t\t\t\t\t\t\t\t.then(response => resolve(imgUrl))\n\t\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t\t}, 800);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = event => reject(new Error(\"There was a network error.\", event));\n\t\t\txhr.ontimeout = event => reject(new Error(\"There was a timeout error.\", event));\n\t\t\txhr.send();\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\topen = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"], this.props.message);\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__image\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageImgWrapper(this.context)} onClick={this.open} className=\"message__img__wrapper\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={this.state.imageUrl}\n\t\t\t\t\t\t\talt={this.state.imageName}\n\t\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\t\tthis.imgRef = el;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderImageMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderImageMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderImageMessageBubble };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        flex: \"1 1\"\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtStyle = (props, parsedMessage, emojiMessage, showVariation) => {\n\n    let emojiAlignmentProp = {\n        \" > img\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n            zoom: \"1\",\n            margin: \"0 2px\"\n        }\n    };\n\n    let emojiProp = {};\n    let heightProp = {};\n\n    if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 1) {\n        emojiProp = {\n           \"> img\": {\n                width: \"48px\",\n                height: \"48px\",\n           }\n        };\n        heightProp = {\n            height: \"48px\",\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"36px\",\n                height: \"36px\",\n            }\n        };\n        heightProp = {\n            height: \"36px\",\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length > 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    if (showVariation === false) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    return {\n        margin: \"0\",\n        fontSize: \"14px\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"auto\",\n        ...heightProp,\n        \" a\": {\n            color: \"#0432FF\",\n            \"&:hover\": {\n                color: \"#04009D\"\n            }\n        },\n        \" a[href^='mailto:']\": {\n            color: \"#F38C00\",\n            \"&:hover\": {\n                color: \"#F36800\"\n            }\n        },\n        \" a[href^='tel:']\": {\n            color: \"#3802DA\",\n            \"&:hover\": {\n                color: \"#2D038F\"\n            }\n        },\n        ...emojiAlignmentProp,\n        ...emojiProp\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\"\n    }\n}\n","import React from \"react\";\nimport twemoji from \"twemoji\";\nimport ReactHtmlParser from \"react-html-parser\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt, CometChatLinkPreview } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { linkify, checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderTextMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.messageTextRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\ttranslatedMessage: \"\",\n\t\t\tisHovering: false,\n\t\t\tenableLargerSizeEmojis: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\t\t\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering\n\t\t|| this.state.enableLargerSizeEmojis !== nextState.enableLargerSizeEmojis) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t\n\t\tif (prevProps.message !== this.props.message) {\n\n\t\t\tthis.setState({ translatedMessage: \"\" });\n\t\t}\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tgetMessageText = () => {\n\t\tlet messageText = this.props.message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(this.props.message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(this.props.message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(this.props.message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\tconst formattedText = linkify(messageText);\n\n\t\tconst emojiParsedMessage = twemoji.parse(formattedText, { folder: \"svg\", ext: \".svg\" });\n\t\tconst parsedMessage = ReactHtmlParser(emojiParsedMessage, { decodeEntities: false });\n\t\tconst emojiMessage = parsedMessage.filter(message => message instanceof Object && message.type === \"img\");\n\n\t\tlet showVariation = true;\n\t\t//if larger size emojis feature is disabled\n\t\tif (this.state.enableLargerSizeEmojis === false) {\n\t\t\tshowVariation = false;\n\t\t}\n\n\t\tmessageText = (\n\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__txt__wrapper\">\n\t\t\t\t<p css={messageTxtStyle(this.props, parsedMessage, emojiMessage, showVariation)} className=\"message__txt\">\n\t\t\t\t\t{parsedMessage}\n\t\t\t\t\t{this.state.translatedMessage}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\n\t\treturn messageText;\n\t};\n\n\ttranslateMessage = message => {\n\t\tconst messageId = message.id;\n\t\tconst messageText = message.text;\n\n\t\tconst browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n\t\tlet translateToLanguage = browserLanguageCode;\n\t\tif (browserLanguageCode.indexOf(\"-\") !== -1) {\n\t\t\tconst browserLanguageArray = browserLanguageCode.split(\"-\");\n\t\t\ttranslateToLanguage = browserLanguageArray[0];\n\t\t}\n\n\t\tlet translatedMessage = \"\";\n\t\tCometChat.callExtension(\"message-translation\", \"POST\", \"v2/translate\", {\n\t\t\tmsgId: messageId,\n\t\t\ttext: messageText,\n\t\t\tlanguages: [translateToLanguage],\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\tif (result.hasOwnProperty(\"language_original\") && result[\"language_original\"] !== translateToLanguage) {\n\t\t\t\t\tif (result.hasOwnProperty(\"translations\") && result.translations.length) {\n\t\t\t\t\t\tconst messageTranslation = result.translations[0];\n\t\t\t\t\t\tif (messageTranslation.hasOwnProperty(\"message_translated\")) {\n\t\t\t\t\t\t\ttranslatedMessage = `\\n(${messageTranslation[\"message_translated\"]})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INFO\"], [], \"SAME_LANGUAGE_MESSAGE\");\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ translatedMessage: translatedMessage });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tenableLargerSizeEmojis = () => {\n\t\tthis.context.FeatureRestriction.isLargerSizeEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLargerSizeEmojis) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLargerSizeEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TRANSLATE_MESSAGE\"]:\n\t\t\t\tthis.translateMessage(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet messageText = this.getMessageText();\n\n\t\t//linkpreview extensions data\n\t\tconst linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n\t\tif (linkPreviewData && linkPreviewData.hasOwnProperty(\"links\") && linkPreviewData[\"links\"].length) {\n\t\t\tmessageText = <CometChatLinkPreview message={this.props.message} messageText={messageText} />;\n\t\t}\n\n\t\t//messagereactions extensions data\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__text\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\" ref={this.messageTextRef}>\n\t\t\t\t\t{messageText}\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderTextMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderTextMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderTextMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageVideoWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        alignSelf: 'flex-end',\n        ' > video': {\n            maxWidth: \"250px\",\n            borderRadius: \"12px\",\n            display: \"inherit\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageVideoWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatSenderVideoMessageBubble extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\n\t\t\tconst fileData = this.getFileData();\n\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\t\t\t\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetFileData = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tif (fileMetadata instanceof Blob) {\n\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\n\t\t} else if (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__video\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageVideoWrapperStyle()} className=\"message__video__wrapper\">\n\t\t\t\t\t\t<video controls src={this.state.fileData?.fileUrl}></video>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderVideoMessageBubble.defaultProps = {\n\tactionGenerated: () => {},\n};\n\nCometChatSenderVideoMessageBubble.propTypes = {\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\n\nexport { CometChatSenderVideoMessageBubble };","export const replyCountStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfontSize: \"11px\",\n\t\tfontWeight: \"500\",\n\t\tlineHeight: \"12px\",\n\t\ttextTransform: \"lowercase\",\n\t\tpadding: \"0 10px\",\n\t\tcursor: \"pointer\",\n\t\tcolor: context.theme.color.blue,\n\t\t\"&:hover\": {\n\t\t\ttextDecoration: \"underline\",\n\t\t},\n\t};\n};","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport {CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {theme} from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {replyCountStyle} from \"./style\";\n\nconst CometChatThreadedMessageReplyCount = props => {\n\n\tconst context = React.useContext(CometChatContext);\n\tconst [reply, setReply] = React.useState(false);\n\n\tconst toggleReply = () => {\n\t\tcontext.FeatureRestriction.isThreadedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== reply) {\n\t\t\t\t\tsetReply(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (reply !== false) {\n\t\t\t\t\tsetReply(false);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tReact.useEffect(toggleReply);\n\n\tconst viewThread = () => {\n\t\tprops.actionGenerated(enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"], props.message);\n\t}\n\n\tconst replyCount = props.message.replyCount;\n\tconst replyText = replyCount === 1 ? `${replyCount} ${Translator.translate(\"REPLY\", context.language)}` : `${replyCount} ${Translator.translate(\"REPLIES\", context.language)}`;\n\n\tlet replies = (\n\t\t<span css={replyCountStyle(context)} className=\"replycount\" onClick={viewThread}>\n\t\t\t{replyText}\n\t\t</span>\n\t);\n\n\tif (props.message.hasOwnProperty(\"replyCount\") === false) {\n\t\treplies = null;\n\t}\n\n\t//if threadedchats feature is disabled\n\tif (reply === false) {\n\t\treplies = null;\n\t}\n\n\treturn replies;\n};\n\n// Specifies the default values for props:\nCometChatThreadedMessageReplyCount.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatThreadedMessageReplyCount.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport {CometChatThreadedMessageReplyCount};\n","export const blockedMessageWrapperStyle = () => {\n    return {\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        backgroundColor: \"#fff\",\n        zIndex: \"1\",\n        order: \"3\",\n        position: \"relative\",\n        flex: \"none\",\n        minHeight: \"105px\",\n        width: \"100%\",\n        margin: \"auto\"\n    }\n}\n\nexport const blockedMessageContainerStyle = () => {\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    }\n}\n\nexport const blockedTitleStyle = () => {\n    return {\n        fontSize: \"20px\",\n        fontWeight: \"700\",\n        textAlign: \"center\"\n    }\n}\n\nexport const bockedSubTitleStyle = context => {\n\treturn {\n\t\tmargin: \"16px 0\",\n\t\ttextAlign: \"center\",\n\t\tcolor: context.theme.color.helpText,\n\t};\n};\n\nexport const unblockButtonStyle = context => {\n\n    const mq = [...context.theme.breakPoints];\n\n    const widthProp = {\n        width: \"15%\",\n        [`@media ${mq[1]}`]: {\n            width: \"70%\",\n        },\n        [`@media ${mq[2]}`]: {\n            width: \"50%\",\n        },\n        [`@media ${mq[3]}`]: {\n            width: \"30%\",\n        },\n        [`@media ${mq[4]}`]: {\n            width: \"20%\",\n        }\n    };\n\n\treturn {\n\t\t...widthProp,\n\t\tpadding: \"8px 16px\",\n\t\tmargin: \"0\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}!important`,\n\t\tcolor: `${context.theme.color.white}`,\n\t};\n};","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n    blockedMessageWrapperStyle, \n    blockedMessageContainerStyle,\n    unblockButtonStyle,\n    blockedTitleStyle,\n    bockedSubTitleStyle\n} from \"./style\";\n\nconst CometChatBlockedUser = props => {\n    \n\tconst context = React.useContext(CometChatContext);\n\tconst chatWith = { ...context.item };\n\n\tconst unblockUser = () => {\n\n\t\tlet uid = chatWith.uid;\n\t\tCometChat.unblockUsers([uid])\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\n\t\t\t\t\tconst newType = CometChat.ACTION_TYPE.TYPE_USER;\n\t\t\t\t\tconst newItem = Object.assign({}, chatWith, { blockedByMe: false });\n\t\t\t\t\tcontext.setTypeAndItem(newType, newItem);\n\t\t\t\t} else {\n\t\t\t\t\tCometChatEvent.triggerHandler(enums.ACTIONS[\"ERROR\"], \"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => CometChatEvent.triggerHandler(enums.ACTIONS[\"ERROR\"], \"SOMETHING_WRONG\"));\n\t}\n\n\treturn (\n\t\t<div css={blockedMessageWrapperStyle()} className=\"\">\n\t\t\t<div css={blockedMessageContainerStyle()}>\n\t\t\t\t<div css={blockedTitleStyle()}>{Translator.translate(\"YOU_HAVE_BLOCKED\", props.lang) + \" \" + chatWith.name}</div>\n\t\t\t\t<div css={bockedSubTitleStyle(context)}>{Translator.translate(\"NOT_POSSIBLE_TO_SEND_MESSAGES\", props.lang)}</div>\n\t\t\t</div>\n\t\t\t<button type=\"button\" css={unblockButtonStyle(context)} onClick={unblockUser}>\n\t\t\t\t{Translator.translate(\"UNBLOCK\", props.lang)}\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\n// Specifies the default values for props:\nCometChatBlockedUser.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n};\n\nCometChatBlockedUser.propTypes = {\n\tlang: PropTypes.string,\n};\n\nexport { CometChatBlockedUser };","export const chatScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        position: \"relative\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const chatScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .chats\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const chatScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatConversationList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingCall, CometChatIncomingDirectCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tchatScreenStyle,\n\tchatScreenSidebarStyle,\n\tchatScreenMainStyle,\n} from \"./style\";\n\nclass CometChatConversationListWithMessages extends React.Component {\n\n\tloggedInUser = null;\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttab: \"conversations\",\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.chatListRef = React.createRef();\n\t}\n\t\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0 && this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (item, type) => {\n\n\t\tthis.contextProviderRef.setTypeAndItem(type, item);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n/**\n If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n */\n\tgroupUpdated = (key, message, group, options) => {\n\n\t\tswitch (key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.item, { \"scope\": options[\"scope\"] })\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t\t<CometChatMessages\n\t\t\ttheme={this.props.theme}\n\t\t\tlang={this.props.lang}\n\t\t\t_parent=\"conversations\"\n\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => this.contextProviderRef = el} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={chatScreenStyle(this.props)} className=\"cometchat cometchat--chats\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={chatScreenSidebarStyle(this.state, this.props)} className=\"chats__sidebar\">\n\t\t\t\t\t\t<CometChatConversationList\n\t\t\t\t\t\tref={el => this.chatListRef = el}\n\t\t\t\t\t\t_parent=\"clwm\"\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t\tlang={this.props.lang}\n\t\t\t\t\t\tonItemClick={this.itemClicked}\n\t\t\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={chatScreenMainStyle(this.state, this.props)} className=\"chats__main\">{messageScreen}</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatConversationListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatConversationListWithMessages };\n","export const userInfoScreenStyle = (props) =>{\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column!important\",\n        height: \"calc(100% - 50px)\",\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const headerStyle = (props) => {\n\n    return {\n        padding: \"16px\",\n        position: \"relative\",\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"70px\",\n        display: \"flex\",\n        alignItems: \"center\",\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"22px\",\n        fontWeight: \"700\",\n        lineHeight: \"26px\",\n    }\n}\n\nexport const detailStyle = () => {\n\n    return {\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const userDetailStyle = () => {\n    \n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const userNameStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const userStatusStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        color: `${props.theme.color.blue}`,\n    }\n}\n\nexport const optionsStyle = () => {\n\n    return {\n        height: \"calc(100% - 145px)\",\n        overflowY: \"auto\",\n        padding: \"0 16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"left\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const optionTitleStyle = (props) => {\n\n    return {\n        margin: \"5px 0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        color: `${props.theme.color.helpText}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const optionListStyle = () => {\n\n    return {\n        padding: \"10px 0\",\n        width: \"100%\",\n        fontSize: \"15px\"\n    }\n}\n\nexport const optionStyle = (img) => {\n\n    return {\n        width: \"100%\",\n        padding: \"16px 16px 16px 36px\",\n        fontWeight: 600,\n        background: `url(${img}) left center no-repeat`,\n    }\n}\n\nexport const optionNameStyle = () => {\n\n    return {\n        width: \"100%\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/notify.009f4c07.svg\";","export default __webpack_public_path__ + \"static/media/privacy.35a868f9.svg\";","export default __webpack_public_path__ + \"static/media/chats.a324dd1d.svg\";","export default __webpack_public_path__ + \"static/media/help.c1640c5b.svg\";","export default __webpack_public_path__ + \"static/media/warning.d0632c5b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatToastNotification } from \"../../Shared\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tuserInfoScreenStyle,\n\theaderStyle,\n\theaderTitleStyle,\n\tdetailStyle,\n\tthumbnailStyle,\n\tuserDetailStyle,\n\tuserNameStyle,\n\tuserStatusStyle,\n\toptionsStyle,\n\toptionTitleStyle,\n\toptionListStyle,\n\toptionStyle,\n\toptionNameStyle\n} from \"./style\";\n\nimport notificationIcon from \"./resources/notify.svg\";\nimport privacyIcon from \"./resources/privacy.svg\";\nimport chatIcon from \"./resources/chats.svg\";\nimport helpIcon from \"./resources/help.svg\";\nimport reportIcon from \"./resources/warning.svg\";\n\nclass CometChatUserProfile extends React.Component {\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null\n\t\t}\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\t\tCometChat.getLoggedinUser().then(user => {\n\t\t\tthis.setState({ loggedInUser: user });\n\t\t}).catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t}\n\n\trender() {\n\n\t\tlet userProfile = null;\n\t\tif(this.state.loggedInUser) {\n\n\t\t\tlet avatar = <CometChatAvatar user={this.state.loggedInUser} />;\n\t\t\tuserProfile = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={headerStyle(this.props)} className=\"userinfo__header\">\n\t\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"MORE\", this.props.lang)}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={detailStyle()} className=\"userinfo__detail\">\n\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"detail__thumbnail\">\n\t\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={userDetailStyle()} className=\"detail__user\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t\t<div css={userNameStyle()} className=\"user__name\">\n\t\t\t\t\t\t\t\t{this.state.loggedInUser.name}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p css={userStatusStyle(this.props)} className=\"user__status\">\n\t\t\t\t\t\t\t\t{Translator.translate(\"ONLINE\", this.props.lang)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={optionsStyle()} className=\"userinfo__options\">\n\t\t\t\t\t\t<div css={optionTitleStyle(this.props)} className=\"options__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"PREFERENCES\", this.props.lang)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionListStyle()} className=\"options_list\">\n\t\t\t\t\t\t\t<div css={optionStyle(notificationIcon)} className=\"option option-notification\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"NOTIFICATIONS\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(privacyIcon)} className=\"option option-privacy\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"PRIVACY_AND_SECURITY\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(chatIcon)} className=\"option option-chats\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"CHATS\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionTitleStyle(this.props)} className=\"options__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"OTHER\", this.props.lang)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionListStyle()} className=\"options_list\">\n\t\t\t\t\t\t\t<div css={optionStyle(helpIcon)} className=\"option option-help\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"HELP\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(reportIcon)} className=\"option option-report\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"REPORT_PROBLEM\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={userInfoScreenStyle(this.props)} className=\"userinfo\">\n\t\t\t\t{userProfile}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserProfile.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme\n};\n\nCometChatUserProfile.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object\n}\n\nexport { CometChatUserProfile };\n","export const footerStyle = () => {\n\n    return {\n        width: \"100%\",\n        zIndex: \"1\",\n        height: \"64px\"\n    }\n}\n\nexport const navbarStyle = () => {\n\n    return {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"row\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-around\",\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t};\n}\n\nexport const itemStyle = props => {\n\treturn {\n\t\tpadding: \"8px\",\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tfontSize: \"12px\",\n\t\tcolor: `${props.theme.color.helpText}`,\n\t};\n};\n\nexport const itemLinkStyle = (icon, isActive, context) => {\n\n    let activeStateBg = (isActive) ? { \n        backgroundColor: `${context.theme.primaryColor}`,\n    } : {\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n\n    return {\n        height: \"24px\",\n        width: \"24px\",\n        display: \"inline-block\",\n        mask: `url(${icon}) no-repeat center center`,\n        ...activeStateBg\n    }\n}\n\nexport const itemLinkTextStyle = (isActive, context) => {\n\n    const colorProp = (isActive) ? {\n        color: `${context.theme.primaryColor}`\n    } : {\n        color: `${context.theme.secondaryTextColor}`,\n    };\n\n    return {\n        ...colorProp,\n        paddingTop: \"2px\"\n    }\n};","export default __webpack_public_path__ + \"static/media/chats.a324dd1d.svg\";","export default __webpack_public_path__ + \"static/media/users.ec43e952.svg\";","export default __webpack_public_path__ + \"static/media/groups.1e57cc7e.svg\";","export default __webpack_public_path__ + \"static/media/more.35ec626e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatUserList } from \"../../Users\";\nimport { CometChatGroupList } from \"../../Groups\";\nimport { CometChatConversationList } from \"../../Chats\";\nimport { CometChatUserProfile } from \"../../UserProfile\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport {CometChatContext} from \"../../../util/CometChatContext\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\nimport tabs from \"../../../resources/tabs.json\";\n\nimport {\n  footerStyle,\n  navbarStyle,\n  itemStyle,\n  itemLinkStyle,\n  itemLinkTextStyle\n} from \"./style\";\n\nimport chatGreyIcon from \"./resources/chats.svg\";\nimport contactGreyIcon from \"./resources/users.svg\";\nimport groupGreyIcon from \"./resources/groups.svg\";\nimport moreGreyIcon from \"./resources/more.svg\";\n\nexport class CometChatNavBar extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\ttabListKeys = []; \n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactiveTab: null,\n\t\t\ttabList: [],\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tlet tabList = this.context.UIKitSettings.tabs;\n\n\t\ttabList.forEach(tabName => {\n\t\t\tfor (const t in tabs) {\n\t\t\t\tif (tabName === tabs[t]) {\n\t\t\t\t\tthis.tabListKeys.push(t);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n    \tthis.getFilteredTabs().then(filteredTabs => {\n\t\t\tthis.setState({tabList: filteredTabs, activeTab: filteredTabs[0]});\n\t\t});\n\n\t}\n\n\n\tgetFilteredTabs = () => {\n\n\t\treturn new Promise(resolve => {\n\n\t\t\tconst filteredTabs = [];\n\t\t\tconst promises = [this.enableChats(), this.enableUsers(), this.enableGroups(), this.enableSettings()];\n\t\t\tPromise.allSettled(promises).then(results => {\n\t\t\t\t\n\t\t\t\tthis.tabListKeys.forEach(eachTabKey => {\n\t\t\t\t\tresults.forEach(result => {\n\t\t\t\t\t\tconst tabKey = result.value[0];\n\t\t\t\t\t\tconst tabEnabled = result.value[1];\n\n\t\t\t\t\t\tif (eachTabKey === tabKey && tabEnabled === true) {\n\t\t\t\t\t\tfilteredTabs.push(eachTabKey);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tresolve(filteredTabs);\n\t\t\t});\n\t\t});\n\t}\n\n\tenableChats = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isRecentChatListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_CHATS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_CHATS\", false]));\n\t\t});\n\t};\n\n\tenableUsers = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isUserListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_USERS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_USERS\", false]));\n\t\t});\n\t};\n\n\tenableGroups = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isGroupListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_GROUPS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_GROUPS\", false]));\n\t\t});\n\t};\n\n\tenableSettings = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isUserSettingsEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_MOREINFO\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_MOREINFO\", false]));\n\t\t});\n\t};\n\n\ttabChanged = tab => {\n\n\t\tthis.setState({activeTab: tab});\n\t};\n\n\tgetActiveTab = () => {\n\t\tswitch (this.state.activeTab) {\n\t\t\tcase \"SIDEBAR_USERS\":\n\t\t\t\treturn <CometChatUserList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_CALLS\":\n\t\t\t\treturn null;\n\t\t\tcase \"SIDEBAR_CHATS\":\n\t\t\t\treturn <CometChatConversationList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_GROUPS\":\n\t\t\t\treturn <CometChatGroupList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_MOREINFO\":\n\t\t\t\treturn <CometChatUserProfile theme={this.props.theme} lang={this.context.language} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t};\n\n\tgetTabList = () => {\n\n\t\tconst chatsTabActive = this.state.activeTab === \"SIDEBAR_CHATS\" ? true : false;\n\t\tconst userTabActive = this.state.activeTab === \"SIDEBAR_USERS\" ? true : false;\n\t\tconst groupsTabActive = this.state.activeTab === \"SIDEBAR_GROUPS\" ? true : false;\n\t\tconst moreTabActive = this.state.activeTab === \"SIDEBAR_MOREINFO\" ? true : false;\n\n\t\tconst tabList = [...this.state.tabList];\n\n\t\treturn tabList.map(tab => {\n\t\t\tswitch (tab) {\n\t\t\t\tcase \"SIDEBAR_CHATS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_CHATS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(chatGreyIcon, chatsTabActive, this.context)} className=\"item__link item__link__chats\" title={Translator.translate(\"CHATS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(chatsTabActive, this.context)} className=\"item__label\">{Translator.translate(\"CHATS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_USERS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_USERS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(contactGreyIcon, userTabActive, this.context)} className=\"item__link item__link__contacts\" title={Translator.translate(\"USERS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(userTabActive, this.context)} className=\"item__label\">{Translator.translate(\"USERS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_GROUPS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_GROUPS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(groupGreyIcon, groupsTabActive, this.context)} className=\"item__link item__link__groups\" title={Translator.translate(\"GROUPS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(groupsTabActive, this.context)} className=\"item__label\">{Translator.translate(\"GROUPS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_MOREINFO\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_MOREINFO\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(moreGreyIcon, moreTabActive, this.context)} className=\"item__link item__link__info\" title={Translator.translate(\"MORE\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(moreTabActive, this.context)} className=\"item__label\">{Translator.translate(\"MORE\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{this.getActiveTab()}\n\t\t\t\t<div css={footerStyle()} className=\"sidebar__footer\">\n\t\t\t\t\t<div css={navbarStyle()} className=\"footer__navbar\">\n\t\t\t\t\t\t{this.getTabList()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatNavBar.defaultProps = {\n\ttheme: theme\n};\n\nCometChatNavBar.propTypes = {\n\ttheme: PropTypes.object\n}","export const unifiedStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        position: \"relative\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const unifiedSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow : \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .contacts, .chats, .groups, .userinfo\": {\n            height: \"calc(100% - 64px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const unifiedMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatNavBar } from \"./CometChatNavBar\";\nimport { CometChatMessages } from \"../Messages\";\nimport { CometChatIncomingCall, CometChatIncomingDirectCall } from \"../Calls\";\n\nimport { CometChatContextProvider } from \"../../util/CometChatContext\";\nimport * as enums from \"../../util/enums.js\";\nimport { theme } from \"../../resources/theme\";\nimport Translator from \"../../resources/localization/translator\";\n\nimport {\n\tunifiedStyle,\n\tunifiedSidebarStyle,\n\tunifiedMainStyle,\n} from \"./style\";\n\nclass CometChatUI extends React.Component {\n\n\tloggedInUser = null;\n\n\tconstructor(props) {\n\t\t\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.navBarRef = React.createRef();\n\t\tthis.contextProviderRef = React.createRef();\n\t}\n\t\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0 && this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\tnavBarAction = (action, type, item) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"ITEM_CLICKED\"]:\n\t\t\t\tthis.itemClicked(item, type);\n\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\titemClicked = (item, type) => {\n\t\t\n\t\tthis.contextProviderRef.setTypeAndItem(type, item);    \n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\t/**\n\t If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n\t */\n\tgroupUpdated = (key, message, group, options) => {\n\t\t\n\t\tswitch(key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.state.type === CometChat.ACTION_TYPE.TYPE_GROUP \n\t\t\t\t&& this.contextProviderRef.state.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.state.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.state.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.state.item, { \"scope\": options[\"scope\"] })\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\t\n\t\tlet messageScreen = (\n\t\t\t\t<CometChatMessages \n\t\t\t\ttheme={this.props.theme}\n\t\t\t\tlang={this.props.lang}\n\t\t\t\t_parent=\"unified\"\n\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => this.contextProviderRef = el} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={unifiedStyle(this.props)} className=\"cometchat cometchat--unified\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={unifiedSidebarStyle(this.state, this.props)} className=\"unified__sidebar\">\n\t\t\t\t\t\t<CometChatNavBar\n\t\t\t\t\t\t\tref={el => this.navBarRef = el}\n\t\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t\t\tactionGenerated={this.navBarAction} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={unifiedMainStyle(this.state, this.props)} className=\"unified__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUI.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatUI.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatUI };\n","export const wrapperStyle = () => {\n\n    return {\n        width: \"100vw\",\n        height: \"100vh\",\n    }\n}","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { createBrowserHistory } from 'history';\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from '@emotion/core';\n\nimport PrivateRoute from '../../PrivateRoute';\n\n//import KitchenSinkApp from '../../defaultPages/KitchenSinkApp';\nimport Login from '../../defaultPages/Login';\nimport HomePage from '../../defaultPages/HomePage';\n\nimport * as actions from '../../store/action';\n\nimport {\n    CometChatUI,\n    CometChatConversationList,\n    CometChatConversationListWithMessages,\n    CometChatUserList,\n    CometChatUserListWithMessages,\n    CometChatGroupList,\n    CometChatGroupListWithMessages\n} from '../../cometchat-pro-react-ui-kit/CometChatWorkspace/src';\n\nimport {\n    wrapperStyle\n} from \"./style\";\n\nconst history = createBrowserHistory();\n\nclass App extends React.Component {\n    state = {\n        isLoggedin: false\n    }\n\n    componentDidMount() {\n        this.props.getLoggedinUser();\n    }\n\n    render() {\n        return (\n            <div css={wrapperStyle()}>\n                <Router history={history}>\n                    <Switch>\n                        <PrivateRoute path=\"/embedded-app\" userId={this.props.user != undefined ? this.props.user.uid : ''} component={CometChatUI} />\n                        <PrivateRoute path=\"/conversations\" component={CometChatConversationListWithMessages} />\n                        <PrivateRoute path=\"/groups\" component={CometChatGroupListWithMessages} />\n                        <PrivateRoute path=\"/users\" component={CometChatUserListWithMessages} />\n                        <PrivateRoute path=\"/conversation-list\" component={CometChatConversationList} />\n                        <PrivateRoute path=\"/group-list\" component={CometChatGroupList} />\n                        <PrivateRoute path=\"/user-list\" component={CometChatUserList} />\n                        <PrivateRoute exact path=\"/\" component={HomePage} />\n                        {/* <Route path=\"/login\" component={KitchenSinkApp} /> */}\n                        <Route path=\"/login\" component={Login} />\n                    </Switch>\n                </Router>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        isLoggedIn: state.isLoggedIn,\n        user: state.user\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        getLoggedinUser: () => dispatch(actions.authCheckState())\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as actionTypes from './actionTypes';\n\nconst initialState = {\n    user: {},\n    isLoggedIn: false,\n    error: null,\n    loading: false,\n    authRedirectPath: \"/\"\n};\n\nconst authStart = ( state, action ) => {\n    return {\n        ...state,\n        error: null, \n        loading: true \n    };\n};\n\nconst authSuccess = (state, action) => {\n    return {\n        ...state,\n        user: action.user,\n        error: null,\n        isLoggedIn: action.isLoggedIn,\n        loading: false \n    };\n};\n\nconst authFail = (state, action) => {\n    return {\n        ...state,\n        error: action.error,\n        loading: false\n    };\n};\n\nconst authLogout = (state, action) => {\n    return {\n        ...state,\n        isLoggedIn: false,\n        user: null\n    };\n};\n\nconst setAuthRedirectPath = (state, action) => {\n    return {\n        ...state,\n        authRedirectPath: action.path\n    };\n}\n\nconst reducer = ( state = initialState, action ) => {\n   \n    switch ( action.type ) {\n        case actionTypes.AUTH_START: return authStart(state, action);\n        case actionTypes.AUTH_SUCCESS: return authSuccess(state, action);\n        case actionTypes.AUTH_FAIL: return authFail(state, action);\n        case actionTypes.AUTH_LOGOUT: return authLogout(state, action);\n        case actionTypes.SET_AUTH_REDIRECT_PATH: return setAuthRedirectPath(state,action);\n        default:\n            return state;\n    }\n};\n\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport App from './defaultPages/App';\n\nimport * as serviceWorker from './serviceWorker';\nimport { CometChat } from \"@cometchat-pro/chat\"\nimport { COMETCHAT_CONSTANTS } from './consts';\n\nimport reducer from './store/reducer';\n\nimport './index.scss';\n\nconst store = createStore(reducer, compose(\n  applyMiddleware(thunk)\n));\n\nvar appID = COMETCHAT_CONSTANTS.APP_ID;\nvar region = COMETCHAT_CONSTANTS.REGION;\n\nvar appSetting = new CometChat.AppSettingsBuilder().subscribePresenceForAllUsers().setRegion(region).build();\nCometChat.init(appID, appSetting).then(() => {\n\n    if(CometChat.setSource) {\n      CometChat.setSource(\"ui-kit\", \"web\", \"reactjs\");\n    }\n    console.log(\"Initialization completed successfully\");\n    ReactDOM.render(\n      <Provider store={store}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </Provider>\n    , document.getElementById('root'));\n  },\n  error => {\n    console.log(\"Initialization failed with error:\", error);\n    // Check the reason for error and take appropriate action.\n  }\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}